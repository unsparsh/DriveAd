var qw=Object.defineProperty;var Zw=(t,e,n)=>e in t?qw(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ve=(t,e,n)=>Zw(t,typeof e!="symbol"?e+"":e,n);function wm(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var jt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Qw(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var vm={exports:{}},pu={},bm={exports:{}},Oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cl=Symbol.for("react.element"),Jw=Symbol.for("react.portal"),ev=Symbol.for("react.fragment"),tv=Symbol.for("react.strict_mode"),nv=Symbol.for("react.profiler"),rv=Symbol.for("react.provider"),iv=Symbol.for("react.context"),sv=Symbol.for("react.forward_ref"),ov=Symbol.for("react.suspense"),av=Symbol.for("react.memo"),lv=Symbol.for("react.lazy"),h1=Symbol.iterator;function cv(t){return t===null||typeof t!="object"?null:(t=h1&&t[h1]||t["@@iterator"],typeof t=="function"?t:null)}var _m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cm=Object.assign,Em={};function _o(t,e,n){this.props=t,this.context=e,this.refs=Em,this.updater=n||_m}_o.prototype.isReactComponent={};_o.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};_o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sm(){}Sm.prototype=_o.prototype;function _f(t,e,n){this.props=t,this.context=e,this.refs=Em,this.updater=n||_m}var Cf=_f.prototype=new Sm;Cf.constructor=_f;Cm(Cf,_o.prototype);Cf.isPureReactComponent=!0;var f1=Array.isArray,Am=Object.prototype.hasOwnProperty,Ef={current:null},Im={key:!0,ref:!0,__self:!0,__source:!0};function Tm(t,e,n){var r,s={},o=null,c=null;if(e!=null)for(r in e.ref!==void 0&&(c=e.ref),e.key!==void 0&&(o=""+e.key),e)Am.call(e,r)&&!Im.hasOwnProperty(r)&&(s[r]=e[r]);var h=arguments.length-2;if(h===1)s.children=n;else if(1<h){for(var g=Array(h),p=0;p<h;p++)g[p]=arguments[p+2];s.children=g}if(t&&t.defaultProps)for(r in h=t.defaultProps,h)s[r]===void 0&&(s[r]=h[r]);return{$$typeof:cl,type:t,key:o,ref:c,props:s,_owner:Ef.current}}function uv(t,e){return{$$typeof:cl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sf(t){return typeof t=="object"&&t!==null&&t.$$typeof===cl}function dv(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var g1=/\/+/g;function dd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dv(""+t.key):e.toString(36)}function fc(t,e,n,r,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var c=!1;if(t===null)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case cl:case Jw:c=!0}}if(c)return c=t,s=s(c),t=r===""?"."+dd(c,0):r,f1(s)?(n="",t!=null&&(n=t.replace(g1,"$&/")+"/"),fc(s,e,n,"",function(p){return p})):s!=null&&(Sf(s)&&(s=uv(s,n+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(g1,"$&/")+"/")+t)),e.push(s)),1;if(c=0,r=r===""?".":r+":",f1(t))for(var h=0;h<t.length;h++){o=t[h];var g=r+dd(o,h);c+=fc(o,e,n,g,s)}else if(g=cv(t),typeof g=="function")for(t=g.call(t),h=0;!(o=t.next()).done;)o=o.value,g=r+dd(o,h++),c+=fc(o,e,n,g,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return c}function kl(t,e,n){if(t==null)return t;var r=[],s=0;return fc(t,r,"","",function(o){return e.call(n,o,s++)}),r}function hv(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dn={current:null},gc={transition:null},fv={ReactCurrentDispatcher:dn,ReactCurrentBatchConfig:gc,ReactCurrentOwner:Ef};function Nm(){throw Error("act(...) is not supported in production builds of React.")}Oe.Children={map:kl,forEach:function(t,e,n){kl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return kl(t,function(){e++}),e},toArray:function(t){return kl(t,function(e){return e})||[]},only:function(t){if(!Sf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Oe.Component=_o;Oe.Fragment=ev;Oe.Profiler=nv;Oe.PureComponent=_f;Oe.StrictMode=tv;Oe.Suspense=ov;Oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fv;Oe.act=Nm;Oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Cm({},t.props),s=t.key,o=t.ref,c=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,c=Ef.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(g in e)Am.call(e,g)&&!Im.hasOwnProperty(g)&&(r[g]=e[g]===void 0&&h!==void 0?h[g]:e[g])}var g=arguments.length-2;if(g===1)r.children=n;else if(1<g){h=Array(g);for(var p=0;p<g;p++)h[p]=arguments[p+2];r.children=h}return{$$typeof:cl,type:t.type,key:s,ref:o,props:r,_owner:c}};Oe.createContext=function(t){return t={$$typeof:iv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rv,_context:t},t.Consumer=t};Oe.createElement=Tm;Oe.createFactory=function(t){var e=Tm.bind(null,t);return e.type=t,e};Oe.createRef=function(){return{current:null}};Oe.forwardRef=function(t){return{$$typeof:sv,render:t}};Oe.isValidElement=Sf;Oe.lazy=function(t){return{$$typeof:lv,_payload:{_status:-1,_result:t},_init:hv}};Oe.memo=function(t,e){return{$$typeof:av,type:t,compare:e===void 0?null:e}};Oe.startTransition=function(t){var e=gc.transition;gc.transition={};try{t()}finally{gc.transition=e}};Oe.unstable_act=Nm;Oe.useCallback=function(t,e){return dn.current.useCallback(t,e)};Oe.useContext=function(t){return dn.current.useContext(t)};Oe.useDebugValue=function(){};Oe.useDeferredValue=function(t){return dn.current.useDeferredValue(t)};Oe.useEffect=function(t,e){return dn.current.useEffect(t,e)};Oe.useId=function(){return dn.current.useId()};Oe.useImperativeHandle=function(t,e,n){return dn.current.useImperativeHandle(t,e,n)};Oe.useInsertionEffect=function(t,e){return dn.current.useInsertionEffect(t,e)};Oe.useLayoutEffect=function(t,e){return dn.current.useLayoutEffect(t,e)};Oe.useMemo=function(t,e){return dn.current.useMemo(t,e)};Oe.useReducer=function(t,e,n){return dn.current.useReducer(t,e,n)};Oe.useRef=function(t){return dn.current.useRef(t)};Oe.useState=function(t){return dn.current.useState(t)};Oe.useSyncExternalStore=function(t,e,n){return dn.current.useSyncExternalStore(t,e,n)};Oe.useTransition=function(){return dn.current.useTransition()};Oe.version="18.3.1";bm.exports=Oe;var W=bm.exports;const Ge=bf(W),gv=wm({__proto__:null,default:Ge},[W]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv=W,mv=Symbol.for("react.element"),xv=Symbol.for("react.fragment"),yv=Object.prototype.hasOwnProperty,wv=pv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,vv={key:!0,ref:!0,__self:!0,__source:!0};function km(t,e,n){var r,s={},o=null,c=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(c=e.ref);for(r in e)yv.call(e,r)&&!vv.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:mv,type:t,key:o,ref:c,props:s,_owner:wv.current}}pu.Fragment=xv;pu.jsx=km;pu.jsxs=km;vm.exports=pu;var b=vm.exports,Om={exports:{}},jn={},Rm={exports:{}},Dm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(re,de){var he=re.length;re.push(de);e:for(;0<he;){var ke=he-1>>>1,xe=re[ke];if(0<s(xe,de))re[ke]=de,re[he]=xe,he=ke;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var de=re[0],he=re.pop();if(he!==de){re[0]=he;e:for(var ke=0,xe=re.length,Ue=xe>>>1;ke<Ue;){var Ce=2*(ke+1)-1,ct=re[Ce],oe=Ce+1,fn=re[oe];if(0>s(ct,he))oe<xe&&0>s(fn,ct)?(re[ke]=fn,re[oe]=he,ke=oe):(re[ke]=ct,re[Ce]=he,ke=Ce);else if(oe<xe&&0>s(fn,he))re[ke]=fn,re[oe]=he,ke=oe;else break e}}return de}function s(re,de){var he=re.sortIndex-de.sortIndex;return he!==0?he:re.id-de.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();t.unstable_now=function(){return c.now()-h}}var g=[],p=[],x=1,w=null,_=3,E=!1,A=!1,S=!1,O=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(re){for(var de=n(p);de!==null;){if(de.callback===null)r(p);else if(de.startTime<=re)r(p),de.sortIndex=de.expirationTime,e(g,de);else break;de=n(p)}}function P(re){if(S=!1,k(re),!A)if(n(g)!==null)A=!0,be(F);else{var de=n(p);de!==null&&ae(P,de.startTime-re)}}function F(re,de){A=!1,S&&(S=!1,I(z),z=-1),E=!0;var he=_;try{for(k(de),w=n(g);w!==null&&(!(w.expirationTime>de)||re&&!se());){var ke=w.callback;if(typeof ke=="function"){w.callback=null,_=w.priorityLevel;var xe=ke(w.expirationTime<=de);de=t.unstable_now(),typeof xe=="function"?w.callback=xe:w===n(g)&&r(g),k(de)}else r(g);w=n(g)}if(w!==null)var Ue=!0;else{var Ce=n(p);Ce!==null&&ae(P,Ce.startTime-de),Ue=!1}return Ue}finally{w=null,_=he,E=!1}}var H=!1,B=null,z=-1,V=5,J=-1;function se(){return!(t.unstable_now()-J<V)}function Q(){if(B!==null){var re=t.unstable_now();J=re;var de=!0;try{de=B(!0,re)}finally{de?ge():(H=!1,B=null)}}else H=!1}var ge;if(typeof R=="function")ge=function(){R(Q)};else if(typeof MessageChannel<"u"){var Se=new MessageChannel,$=Se.port2;Se.port1.onmessage=Q,ge=function(){$.postMessage(null)}}else ge=function(){O(Q,0)};function be(re){B=re,H||(H=!0,ge())}function ae(re,de){z=O(function(){re(t.unstable_now())},de)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){A||E||(A=!0,be(F))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return n(g)},t.unstable_next=function(re){switch(_){case 1:case 2:case 3:var de=3;break;default:de=_}var he=_;_=de;try{return re()}finally{_=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,de){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var he=_;_=re;try{return de()}finally{_=he}},t.unstable_scheduleCallback=function(re,de,he){var ke=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ke+he:ke):he=ke,re){case 1:var xe=-1;break;case 2:xe=250;break;case 5:xe=1073741823;break;case 4:xe=1e4;break;default:xe=5e3}return xe=he+xe,re={id:x++,callback:de,priorityLevel:re,startTime:he,expirationTime:xe,sortIndex:-1},he>ke?(re.sortIndex=he,e(p,re),n(g)===null&&re===n(p)&&(S?(I(z),z=-1):S=!0,ae(P,he-ke))):(re.sortIndex=xe,e(g,re),A||E||(A=!0,be(F))),re},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(re){var de=_;return function(){var he=_;_=de;try{return re.apply(this,arguments)}finally{_=he}}}})(Dm);Rm.exports=Dm;var bv=Rm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v=W,Bn=bv;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mm=new Set,Oa={};function ys(t,e){co(t,e),co(t+"Capture",e)}function co(t,e){for(Oa[t]=e,t=0;t<e.length;t++)Mm.add(e[t])}var Hr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rh=Object.prototype.hasOwnProperty,Cv=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p1={},m1={};function Ev(t){return rh.call(m1,t)?!0:rh.call(p1,t)?!1:Cv.test(t)?m1[t]=!0:(p1[t]=!0,!1)}function Sv(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Av(t,e,n,r){if(e===null||typeof e>"u"||Sv(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function hn(t,e,n,r,s,o,c){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=c}var qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){qt[t]=new hn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];qt[e]=new hn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){qt[t]=new hn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){qt[t]=new hn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){qt[t]=new hn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){qt[t]=new hn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){qt[t]=new hn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){qt[t]=new hn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){qt[t]=new hn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Af=/[\-:]([a-z])/g;function If(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Af,If);qt[e]=new hn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Af,If);qt[e]=new hn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Af,If);qt[e]=new hn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){qt[t]=new hn(t,1,!1,t.toLowerCase(),null,!1,!1)});qt.xlinkHref=new hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){qt[t]=new hn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Tf(t,e,n,r){var s=qt.hasOwnProperty(e)?qt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Av(e,n,s,r)&&(n=null),r||s===null?Ev(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Yr=_v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ol=Symbol.for("react.element"),Fs=Symbol.for("react.portal"),Us=Symbol.for("react.fragment"),Nf=Symbol.for("react.strict_mode"),ih=Symbol.for("react.profiler"),Pm=Symbol.for("react.provider"),Lm=Symbol.for("react.context"),kf=Symbol.for("react.forward_ref"),sh=Symbol.for("react.suspense"),oh=Symbol.for("react.suspense_list"),Of=Symbol.for("react.memo"),ai=Symbol.for("react.lazy"),Bm=Symbol.for("react.offscreen"),x1=Symbol.iterator;function Go(t){return t===null||typeof t!="object"?null:(t=x1&&t[x1]||t["@@iterator"],typeof t=="function"?t:null)}var pt=Object.assign,hd;function sa(t){if(hd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);hd=e&&e[1]||""}return`
`+hd+t}var fd=!1;function gd(t,e){if(!t||fd)return"";fd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(p){var r=p}Reflect.construct(t,[],e)}else{try{e.call()}catch(p){r=p}t.call(e.prototype)}else{try{throw Error()}catch(p){r=p}t()}}catch(p){if(p&&r&&typeof p.stack=="string"){for(var s=p.stack.split(`
`),o=r.stack.split(`
`),c=s.length-1,h=o.length-1;1<=c&&0<=h&&s[c]!==o[h];)h--;for(;1<=c&&0<=h;c--,h--)if(s[c]!==o[h]){if(c!==1||h!==1)do if(c--,h--,0>h||s[c]!==o[h]){var g=`
`+s[c].replace(" at new "," at ");return t.displayName&&g.includes("<anonymous>")&&(g=g.replace("<anonymous>",t.displayName)),g}while(1<=c&&0<=h);break}}}finally{fd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?sa(t):""}function Iv(t){switch(t.tag){case 5:return sa(t.type);case 16:return sa("Lazy");case 13:return sa("Suspense");case 19:return sa("SuspenseList");case 0:case 2:case 15:return t=gd(t.type,!1),t;case 11:return t=gd(t.type.render,!1),t;case 1:return t=gd(t.type,!0),t;default:return""}}function ah(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Us:return"Fragment";case Fs:return"Portal";case ih:return"Profiler";case Nf:return"StrictMode";case sh:return"Suspense";case oh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Lm:return(t.displayName||"Context")+".Consumer";case Pm:return(t._context.displayName||"Context")+".Provider";case kf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Of:return e=t.displayName||null,e!==null?e:ah(t.type)||"Memo";case ai:e=t._payload,t=t._init;try{return ah(t(e))}catch{}}return null}function Tv(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ah(e);case 8:return e===Nf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ki(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function jm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Nv(t){var e=jm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(c){r=""+c,o.call(this,c)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Rl(t){t._valueTracker||(t._valueTracker=Nv(t))}function Fm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=jm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function kc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lh(t,e){var n=e.checked;return pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function y1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ki(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Um(t,e){e=e.checked,e!=null&&Tf(t,"checked",e,!1)}function ch(t,e){Um(t,e);var n=ki(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?uh(t,e.type,n):e.hasOwnProperty("defaultValue")&&uh(t,e.type,ki(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function w1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function uh(t,e,n){(e!=="number"||kc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var oa=Array.isArray;function Js(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ki(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function dh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function v1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(oa(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ki(n)}}function zm(t,e){var n=ki(e.value),r=ki(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function b1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Vm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Vm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Dl,Hm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Dl=Dl||document.createElement("div"),Dl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Dl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ra(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var fa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kv=["Webkit","ms","Moz","O"];Object.keys(fa).forEach(function(t){kv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),fa[e]=fa[t]})});function Wm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||fa.hasOwnProperty(t)&&fa[t]?(""+e).trim():e+"px"}function Gm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Wm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Ov=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fh(t,e){if(e){if(Ov[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function gh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ph=null;function Rf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mh=null,eo=null,to=null;function _1(t){if(t=hl(t)){if(typeof mh!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=vu(e),mh(t.stateNode,t.type,e))}}function Xm(t){eo?to?to.push(t):to=[t]:eo=t}function $m(){if(eo){var t=eo,e=to;if(to=eo=null,_1(t),e)for(t=0;t<e.length;t++)_1(e[t])}}function Ym(t,e){return t(e)}function Km(){}var pd=!1;function qm(t,e,n){if(pd)return t(e,n);pd=!0;try{return Ym(t,e,n)}finally{pd=!1,(eo!==null||to!==null)&&(Km(),$m())}}function Da(t,e){var n=t.stateNode;if(n===null)return null;var r=vu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var xh=!1;if(Hr)try{var Xo={};Object.defineProperty(Xo,"passive",{get:function(){xh=!0}}),window.addEventListener("test",Xo,Xo),window.removeEventListener("test",Xo,Xo)}catch{xh=!1}function Rv(t,e,n,r,s,o,c,h,g){var p=Array.prototype.slice.call(arguments,3);try{e.apply(n,p)}catch(x){this.onError(x)}}var ga=!1,Oc=null,Rc=!1,yh=null,Dv={onError:function(t){ga=!0,Oc=t}};function Mv(t,e,n,r,s,o,c,h,g){ga=!1,Oc=null,Rv.apply(Dv,arguments)}function Pv(t,e,n,r,s,o,c,h,g){if(Mv.apply(this,arguments),ga){if(ga){var p=Oc;ga=!1,Oc=null}else throw Error(ee(198));Rc||(Rc=!0,yh=p)}}function ws(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Zm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function C1(t){if(ws(t)!==t)throw Error(ee(188))}function Lv(t){var e=t.alternate;if(!e){if(e=ws(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return C1(s),t;if(o===r)return C1(s),e;o=o.sibling}throw Error(ee(188))}if(n.return!==r.return)n=s,r=o;else{for(var c=!1,h=s.child;h;){if(h===n){c=!0,n=s,r=o;break}if(h===r){c=!0,r=s,n=o;break}h=h.sibling}if(!c){for(h=o.child;h;){if(h===n){c=!0,n=o,r=s;break}if(h===r){c=!0,r=o,n=s;break}h=h.sibling}if(!c)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function Qm(t){return t=Lv(t),t!==null?Jm(t):null}function Jm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jm(t);if(e!==null)return e;t=t.sibling}return null}var ex=Bn.unstable_scheduleCallback,E1=Bn.unstable_cancelCallback,Bv=Bn.unstable_shouldYield,jv=Bn.unstable_requestPaint,_t=Bn.unstable_now,Fv=Bn.unstable_getCurrentPriorityLevel,Df=Bn.unstable_ImmediatePriority,tx=Bn.unstable_UserBlockingPriority,Dc=Bn.unstable_NormalPriority,Uv=Bn.unstable_LowPriority,nx=Bn.unstable_IdlePriority,mu=null,Ar=null;function zv(t){if(Ar&&typeof Ar.onCommitFiberRoot=="function")try{Ar.onCommitFiberRoot(mu,t,void 0,(t.current.flags&128)===128)}catch{}}var cr=Math.clz32?Math.clz32:Wv,Vv=Math.log,Hv=Math.LN2;function Wv(t){return t>>>=0,t===0?32:31-(Vv(t)/Hv|0)|0}var Ml=64,Pl=4194304;function aa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,o=t.pingedLanes,c=n&268435455;if(c!==0){var h=c&~s;h!==0?r=aa(h):(o&=c,o!==0&&(r=aa(o)))}else c=n&~s,c!==0?r=aa(c):o!==0&&(r=aa(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-cr(e),s=1<<n,r|=t[n],e&=~s;return r}function Gv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var c=31-cr(o),h=1<<c,g=s[c];g===-1?(!(h&n)||h&r)&&(s[c]=Gv(h,e)):g<=e&&(t.expiredLanes|=h),o&=~h}}function wh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rx(){var t=Ml;return Ml<<=1,!(Ml&4194240)&&(Ml=64),t}function md(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ul(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-cr(e),t[e]=n}function $v(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-cr(n),o=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~o}}function Mf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-cr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ye=0;function ix(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sx,Pf,ox,ax,lx,vh=!1,Ll=[],vi=null,bi=null,_i=null,Ma=new Map,Pa=new Map,ui=[],Yv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function S1(t,e){switch(t){case"focusin":case"focusout":vi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":_i=null;break;case"pointerover":case"pointerout":Ma.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pa.delete(e.pointerId)}}function $o(t,e,n,r,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},e!==null&&(e=hl(e),e!==null&&Pf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Kv(t,e,n,r,s){switch(e){case"focusin":return vi=$o(vi,t,e,n,r,s),!0;case"dragenter":return bi=$o(bi,t,e,n,r,s),!0;case"mouseover":return _i=$o(_i,t,e,n,r,s),!0;case"pointerover":var o=s.pointerId;return Ma.set(o,$o(Ma.get(o)||null,t,e,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Pa.set(o,$o(Pa.get(o)||null,t,e,n,r,s)),!0}return!1}function cx(t){var e=ns(t.target);if(e!==null){var n=ws(e);if(n!==null){if(e=n.tag,e===13){if(e=Zm(n),e!==null){t.blockedOn=e,lx(t.priority,function(){ox(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=bh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ph=r,n.target.dispatchEvent(r),ph=null}else return e=hl(n),e!==null&&Pf(e),t.blockedOn=n,!1;e.shift()}return!0}function A1(t,e,n){pc(t)&&n.delete(e)}function qv(){vh=!1,vi!==null&&pc(vi)&&(vi=null),bi!==null&&pc(bi)&&(bi=null),_i!==null&&pc(_i)&&(_i=null),Ma.forEach(A1),Pa.forEach(A1)}function Yo(t,e){t.blockedOn===e&&(t.blockedOn=null,vh||(vh=!0,Bn.unstable_scheduleCallback(Bn.unstable_NormalPriority,qv)))}function La(t){function e(s){return Yo(s,t)}if(0<Ll.length){Yo(Ll[0],t);for(var n=1;n<Ll.length;n++){var r=Ll[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vi!==null&&Yo(vi,t),bi!==null&&Yo(bi,t),_i!==null&&Yo(_i,t),Ma.forEach(e),Pa.forEach(e),n=0;n<ui.length;n++)r=ui[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ui.length&&(n=ui[0],n.blockedOn===null);)cx(n),n.blockedOn===null&&ui.shift()}var no=Yr.ReactCurrentBatchConfig,Pc=!0;function Zv(t,e,n,r){var s=Ye,o=no.transition;no.transition=null;try{Ye=1,Lf(t,e,n,r)}finally{Ye=s,no.transition=o}}function Qv(t,e,n,r){var s=Ye,o=no.transition;no.transition=null;try{Ye=4,Lf(t,e,n,r)}finally{Ye=s,no.transition=o}}function Lf(t,e,n,r){if(Pc){var s=bh(t,e,n,r);if(s===null)Ad(t,e,r,Lc,n),S1(t,r);else if(Kv(s,t,e,n,r))r.stopPropagation();else if(S1(t,r),e&4&&-1<Yv.indexOf(t)){for(;s!==null;){var o=hl(s);if(o!==null&&sx(o),o=bh(t,e,n,r),o===null&&Ad(t,e,r,Lc,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Ad(t,e,r,null,n)}}var Lc=null;function bh(t,e,n,r){if(Lc=null,t=Rf(r),t=ns(t),t!==null)if(e=ws(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Zm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lc=t,null}function ux(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fv()){case Df:return 1;case tx:return 4;case Dc:case Uv:return 16;case nx:return 536870912;default:return 16}default:return 16}}var fi=null,Bf=null,mc=null;function dx(){if(mc)return mc;var t,e=Bf,n=e.length,r,s="value"in fi?fi.value:fi.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var c=n-t;for(r=1;r<=c&&e[n-r]===s[o-r];r++);return mc=s.slice(t,1<r?1-r:void 0)}function xc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bl(){return!0}function I1(){return!1}function Fn(t){function e(n,r,s,o,c){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=c,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(o):o[h]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Bl:I1,this.isPropagationStopped=I1,this}return pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),e}var Co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jf=Fn(Co),dl=pt({},Co,{view:0,detail:0}),Jv=Fn(dl),xd,yd,Ko,xu=pt({},dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ff,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ko&&(Ko&&t.type==="mousemove"?(xd=t.screenX-Ko.screenX,yd=t.screenY-Ko.screenY):yd=xd=0,Ko=t),xd)},movementY:function(t){return"movementY"in t?t.movementY:yd}}),T1=Fn(xu),eb=pt({},xu,{dataTransfer:0}),tb=Fn(eb),nb=pt({},dl,{relatedTarget:0}),wd=Fn(nb),rb=pt({},Co,{animationName:0,elapsedTime:0,pseudoElement:0}),ib=Fn(rb),sb=pt({},Co,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ob=Fn(sb),ab=pt({},Co,{data:0}),N1=Fn(ab),lb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ub={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function db(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ub[t])?!!e[t]:!1}function Ff(){return db}var hb=pt({},dl,{key:function(t){if(t.key){var e=lb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ff,charCode:function(t){return t.type==="keypress"?xc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fb=Fn(hb),gb=pt({},xu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k1=Fn(gb),pb=pt({},dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ff}),mb=Fn(pb),xb=pt({},Co,{propertyName:0,elapsedTime:0,pseudoElement:0}),yb=Fn(xb),wb=pt({},xu,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vb=Fn(wb),bb=[9,13,27,32],Uf=Hr&&"CompositionEvent"in window,pa=null;Hr&&"documentMode"in document&&(pa=document.documentMode);var _b=Hr&&"TextEvent"in window&&!pa,hx=Hr&&(!Uf||pa&&8<pa&&11>=pa),O1=" ",R1=!1;function fx(t,e){switch(t){case"keyup":return bb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zs=!1;function Cb(t,e){switch(t){case"compositionend":return gx(e);case"keypress":return e.which!==32?null:(R1=!0,O1);case"textInput":return t=e.data,t===O1&&R1?null:t;default:return null}}function Eb(t,e){if(zs)return t==="compositionend"||!Uf&&fx(t,e)?(t=dx(),mc=Bf=fi=null,zs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hx&&e.locale!=="ko"?null:e.data;default:return null}}var Sb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function D1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Sb[t.type]:e==="textarea"}function px(t,e,n,r){Xm(r),e=Bc(e,"onChange"),0<e.length&&(n=new jf("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ma=null,Ba=null;function Ab(t){Ax(t,0)}function yu(t){var e=Ws(t);if(Fm(e))return t}function Ib(t,e){if(t==="change")return e}var mx=!1;if(Hr){var vd;if(Hr){var bd="oninput"in document;if(!bd){var M1=document.createElement("div");M1.setAttribute("oninput","return;"),bd=typeof M1.oninput=="function"}vd=bd}else vd=!1;mx=vd&&(!document.documentMode||9<document.documentMode)}function P1(){ma&&(ma.detachEvent("onpropertychange",xx),Ba=ma=null)}function xx(t){if(t.propertyName==="value"&&yu(Ba)){var e=[];px(e,Ba,t,Rf(t)),qm(Ab,e)}}function Tb(t,e,n){t==="focusin"?(P1(),ma=e,Ba=n,ma.attachEvent("onpropertychange",xx)):t==="focusout"&&P1()}function Nb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return yu(Ba)}function kb(t,e){if(t==="click")return yu(e)}function Ob(t,e){if(t==="input"||t==="change")return yu(e)}function Rb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dr=typeof Object.is=="function"?Object.is:Rb;function ja(t,e){if(dr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!rh.call(e,s)||!dr(t[s],e[s]))return!1}return!0}function L1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function B1(t,e){var n=L1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=L1(n)}}function yx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wx(){for(var t=window,e=kc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=kc(t.document)}return e}function zf(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Db(t){var e=wx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yx(n.ownerDocument.documentElement,n)){if(r!==null&&zf(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!t.extend&&o>r&&(s=r,r=o,o=s),s=B1(n,o);var c=B1(n,r);s&&c&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==c.node||t.focusOffset!==c.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(c.node,c.offset)):(e.setEnd(c.node,c.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Mb=Hr&&"documentMode"in document&&11>=document.documentMode,Vs=null,_h=null,xa=null,Ch=!1;function j1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ch||Vs==null||Vs!==kc(r)||(r=Vs,"selectionStart"in r&&zf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xa&&ja(xa,r)||(xa=r,r=Bc(_h,"onSelect"),0<r.length&&(e=new jf("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vs)))}function jl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Hs={animationend:jl("Animation","AnimationEnd"),animationiteration:jl("Animation","AnimationIteration"),animationstart:jl("Animation","AnimationStart"),transitionend:jl("Transition","TransitionEnd")},_d={},vx={};Hr&&(vx=document.createElement("div").style,"AnimationEvent"in window||(delete Hs.animationend.animation,delete Hs.animationiteration.animation,delete Hs.animationstart.animation),"TransitionEvent"in window||delete Hs.transitionend.transition);function wu(t){if(_d[t])return _d[t];if(!Hs[t])return t;var e=Hs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vx)return _d[t]=e[n];return t}var bx=wu("animationend"),_x=wu("animationiteration"),Cx=wu("animationstart"),Ex=wu("transitionend"),Sx=new Map,F1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Di(t,e){Sx.set(t,e),ys(e,[t])}for(var Cd=0;Cd<F1.length;Cd++){var Ed=F1[Cd],Pb=Ed.toLowerCase(),Lb=Ed[0].toUpperCase()+Ed.slice(1);Di(Pb,"on"+Lb)}Di(bx,"onAnimationEnd");Di(_x,"onAnimationIteration");Di(Cx,"onAnimationStart");Di("dblclick","onDoubleClick");Di("focusin","onFocus");Di("focusout","onBlur");Di(Ex,"onTransitionEnd");co("onMouseEnter",["mouseout","mouseover"]);co("onMouseLeave",["mouseout","mouseover"]);co("onPointerEnter",["pointerout","pointerover"]);co("onPointerLeave",["pointerout","pointerover"]);ys("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ys("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ys("onBeforeInput",["compositionend","keypress","textInput","paste"]);ys("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ys("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var la="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bb=new Set("cancel close invalid load scroll toggle".split(" ").concat(la));function U1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Pv(r,e,void 0,t),t.currentTarget=null}function Ax(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var c=r.length-1;0<=c;c--){var h=r[c],g=h.instance,p=h.currentTarget;if(h=h.listener,g!==o&&s.isPropagationStopped())break e;U1(s,h,p),o=g}else for(c=0;c<r.length;c++){if(h=r[c],g=h.instance,p=h.currentTarget,h=h.listener,g!==o&&s.isPropagationStopped())break e;U1(s,h,p),o=g}}}if(Rc)throw t=yh,Rc=!1,yh=null,t}function st(t,e){var n=e[Th];n===void 0&&(n=e[Th]=new Set);var r=t+"__bubble";n.has(r)||(Ix(e,t,2,!1),n.add(r))}function Sd(t,e,n){var r=0;e&&(r|=4),Ix(n,t,r,e)}var Fl="_reactListening"+Math.random().toString(36).slice(2);function Fa(t){if(!t[Fl]){t[Fl]=!0,Mm.forEach(function(n){n!=="selectionchange"&&(Bb.has(n)||Sd(n,!1,t),Sd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fl]||(e[Fl]=!0,Sd("selectionchange",!1,e))}}function Ix(t,e,n,r){switch(ux(e)){case 1:var s=Zv;break;case 4:s=Qv;break;default:s=Lf}n=s.bind(null,e,n,t),s=void 0,!xh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ad(t,e,n,r,s){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var h=r.stateNode.containerInfo;if(h===s||h.nodeType===8&&h.parentNode===s)break;if(c===4)for(c=r.return;c!==null;){var g=c.tag;if((g===3||g===4)&&(g=c.stateNode.containerInfo,g===s||g.nodeType===8&&g.parentNode===s))return;c=c.return}for(;h!==null;){if(c=ns(h),c===null)return;if(g=c.tag,g===5||g===6){r=o=c;continue e}h=h.parentNode}}r=r.return}qm(function(){var p=o,x=Rf(n),w=[];e:{var _=Sx.get(t);if(_!==void 0){var E=jf,A=t;switch(t){case"keypress":if(xc(n)===0)break e;case"keydown":case"keyup":E=fb;break;case"focusin":A="focus",E=wd;break;case"focusout":A="blur",E=wd;break;case"beforeblur":case"afterblur":E=wd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=T1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=tb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=mb;break;case bx:case _x:case Cx:E=ib;break;case Ex:E=yb;break;case"scroll":E=Jv;break;case"wheel":E=vb;break;case"copy":case"cut":case"paste":E=ob;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=k1}var S=(e&4)!==0,O=!S&&t==="scroll",I=S?_!==null?_+"Capture":null:_;S=[];for(var R=p,k;R!==null;){k=R;var P=k.stateNode;if(k.tag===5&&P!==null&&(k=P,I!==null&&(P=Da(R,I),P!=null&&S.push(Ua(R,P,k)))),O)break;R=R.return}0<S.length&&(_=new E(_,A,null,n,x),w.push({event:_,listeners:S}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",_&&n!==ph&&(A=n.relatedTarget||n.fromElement)&&(ns(A)||A[Wr]))break e;if((E||_)&&(_=x.window===x?x:(_=x.ownerDocument)?_.defaultView||_.parentWindow:window,E?(A=n.relatedTarget||n.toElement,E=p,A=A?ns(A):null,A!==null&&(O=ws(A),A!==O||A.tag!==5&&A.tag!==6)&&(A=null)):(E=null,A=p),E!==A)){if(S=T1,P="onMouseLeave",I="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(S=k1,P="onPointerLeave",I="onPointerEnter",R="pointer"),O=E==null?_:Ws(E),k=A==null?_:Ws(A),_=new S(P,R+"leave",E,n,x),_.target=O,_.relatedTarget=k,P=null,ns(x)===p&&(S=new S(I,R+"enter",A,n,x),S.target=k,S.relatedTarget=O,P=S),O=P,E&&A)t:{for(S=E,I=A,R=0,k=S;k;k=Ds(k))R++;for(k=0,P=I;P;P=Ds(P))k++;for(;0<R-k;)S=Ds(S),R--;for(;0<k-R;)I=Ds(I),k--;for(;R--;){if(S===I||I!==null&&S===I.alternate)break t;S=Ds(S),I=Ds(I)}S=null}else S=null;E!==null&&z1(w,_,E,S,!1),A!==null&&O!==null&&z1(w,O,A,S,!0)}}e:{if(_=p?Ws(p):window,E=_.nodeName&&_.nodeName.toLowerCase(),E==="select"||E==="input"&&_.type==="file")var F=Ib;else if(D1(_))if(mx)F=Ob;else{F=Nb;var H=Tb}else(E=_.nodeName)&&E.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(F=kb);if(F&&(F=F(t,p))){px(w,F,n,x);break e}H&&H(t,_,p),t==="focusout"&&(H=_._wrapperState)&&H.controlled&&_.type==="number"&&uh(_,"number",_.value)}switch(H=p?Ws(p):window,t){case"focusin":(D1(H)||H.contentEditable==="true")&&(Vs=H,_h=p,xa=null);break;case"focusout":xa=_h=Vs=null;break;case"mousedown":Ch=!0;break;case"contextmenu":case"mouseup":case"dragend":Ch=!1,j1(w,n,x);break;case"selectionchange":if(Mb)break;case"keydown":case"keyup":j1(w,n,x)}var B;if(Uf)e:{switch(t){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else zs?fx(t,n)&&(z="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(hx&&n.locale!=="ko"&&(zs||z!=="onCompositionStart"?z==="onCompositionEnd"&&zs&&(B=dx()):(fi=x,Bf="value"in fi?fi.value:fi.textContent,zs=!0)),H=Bc(p,z),0<H.length&&(z=new N1(z,t,null,n,x),w.push({event:z,listeners:H}),B?z.data=B:(B=gx(n),B!==null&&(z.data=B)))),(B=_b?Cb(t,n):Eb(t,n))&&(p=Bc(p,"onBeforeInput"),0<p.length&&(x=new N1("onBeforeInput","beforeinput",null,n,x),w.push({event:x,listeners:p}),x.data=B))}Ax(w,e)})}function Ua(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Da(t,n),o!=null&&r.unshift(Ua(t,o,s)),o=Da(t,e),o!=null&&r.push(Ua(t,o,s))),t=t.return}return r}function Ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function z1(t,e,n,r,s){for(var o=e._reactName,c=[];n!==null&&n!==r;){var h=n,g=h.alternate,p=h.stateNode;if(g!==null&&g===r)break;h.tag===5&&p!==null&&(h=p,s?(g=Da(n,o),g!=null&&c.unshift(Ua(n,g,h))):s||(g=Da(n,o),g!=null&&c.push(Ua(n,g,h)))),n=n.return}c.length!==0&&t.push({event:e,listeners:c})}var jb=/\r\n?/g,Fb=/\u0000|\uFFFD/g;function V1(t){return(typeof t=="string"?t:""+t).replace(jb,`
`).replace(Fb,"")}function Ul(t,e,n){if(e=V1(e),V1(t)!==e&&n)throw Error(ee(425))}function jc(){}var Eh=null,Sh=null;function Ah(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ih=typeof setTimeout=="function"?setTimeout:void 0,Ub=typeof clearTimeout=="function"?clearTimeout:void 0,H1=typeof Promise=="function"?Promise:void 0,zb=typeof queueMicrotask=="function"?queueMicrotask:typeof H1<"u"?function(t){return H1.resolve(null).then(t).catch(Vb)}:Ih;function Vb(t){setTimeout(function(){throw t})}function Id(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),La(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);La(e)}function Ci(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function W1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Eo=Math.random().toString(36).slice(2),Sr="__reactFiber$"+Eo,za="__reactProps$"+Eo,Wr="__reactContainer$"+Eo,Th="__reactEvents$"+Eo,Hb="__reactListeners$"+Eo,Wb="__reactHandles$"+Eo;function ns(t){var e=t[Sr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wr]||n[Sr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=W1(t);t!==null;){if(n=t[Sr])return n;t=W1(t)}return e}t=n,n=t.parentNode}return null}function hl(t){return t=t[Sr]||t[Wr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ws(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function vu(t){return t[za]||null}var Nh=[],Gs=-1;function Mi(t){return{current:t}}function lt(t){0>Gs||(t.current=Nh[Gs],Nh[Gs]=null,Gs--)}function rt(t,e){Gs++,Nh[Gs]=t.current,t.current=e}var Oi={},sn=Mi(Oi),An=Mi(!1),hs=Oi;function uo(t,e){var n=t.type.contextTypes;if(!n)return Oi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function In(t){return t=t.childContextTypes,t!=null}function Fc(){lt(An),lt(sn)}function G1(t,e,n){if(sn.current!==Oi)throw Error(ee(168));rt(sn,e),rt(An,n)}function Tx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ee(108,Tv(t)||"Unknown",s));return pt({},n,r)}function Uc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oi,hs=sn.current,rt(sn,t),rt(An,An.current),!0}function X1(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=Tx(t,e,hs),r.__reactInternalMemoizedMergedChildContext=t,lt(An),lt(sn),rt(sn,t)):lt(An),rt(An,n)}var jr=null,bu=!1,Td=!1;function Nx(t){jr===null?jr=[t]:jr.push(t)}function Gb(t){bu=!0,Nx(t)}function Pi(){if(!Td&&jr!==null){Td=!0;var t=0,e=Ye;try{var n=jr;for(Ye=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}jr=null,bu=!1}catch(s){throw jr!==null&&(jr=jr.slice(t+1)),ex(Df,Pi),s}finally{Ye=e,Td=!1}}return null}var Xs=[],$s=0,zc=null,Vc=0,Gn=[],Xn=0,fs=null,Ur=1,zr="";function Ki(t,e){Xs[$s++]=Vc,Xs[$s++]=zc,zc=t,Vc=e}function kx(t,e,n){Gn[Xn++]=Ur,Gn[Xn++]=zr,Gn[Xn++]=fs,fs=t;var r=Ur;t=zr;var s=32-cr(r)-1;r&=~(1<<s),n+=1;var o=32-cr(e)+s;if(30<o){var c=s-s%5;o=(r&(1<<c)-1).toString(32),r>>=c,s-=c,Ur=1<<32-cr(e)+s|n<<s|r,zr=o+t}else Ur=1<<o|n<<s|r,zr=t}function Vf(t){t.return!==null&&(Ki(t,1),kx(t,1,0))}function Hf(t){for(;t===zc;)zc=Xs[--$s],Xs[$s]=null,Vc=Xs[--$s],Xs[$s]=null;for(;t===fs;)fs=Gn[--Xn],Gn[Xn]=null,zr=Gn[--Xn],Gn[Xn]=null,Ur=Gn[--Xn],Gn[Xn]=null}var Ln=null,Dn=null,dt=!1,ar=null;function Ox(t,e){var n=$n(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ln=t,Dn=Ci(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ln=t,Dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fs!==null?{id:Ur,overflow:zr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$n(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ln=t,Dn=null,!0):!1;default:return!1}}function kh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Oh(t){if(dt){var e=Dn;if(e){var n=e;if(!$1(t,e)){if(kh(t))throw Error(ee(418));e=Ci(n.nextSibling);var r=Ln;e&&$1(t,e)?Ox(r,n):(t.flags=t.flags&-4097|2,dt=!1,Ln=t)}}else{if(kh(t))throw Error(ee(418));t.flags=t.flags&-4097|2,dt=!1,Ln=t}}}function Y1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ln=t}function zl(t){if(t!==Ln)return!1;if(!dt)return Y1(t),dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ah(t.type,t.memoizedProps)),e&&(e=Dn)){if(kh(t))throw Rx(),Error(ee(418));for(;e;)Ox(t,e),e=Ci(e.nextSibling)}if(Y1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dn=Ci(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dn=null}}else Dn=Ln?Ci(t.stateNode.nextSibling):null;return!0}function Rx(){for(var t=Dn;t;)t=Ci(t.nextSibling)}function ho(){Dn=Ln=null,dt=!1}function Wf(t){ar===null?ar=[t]:ar.push(t)}var Xb=Yr.ReactCurrentBatchConfig;function qo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var s=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(c){var h=s.refs;c===null?delete h[o]:h[o]=c},e._stringRef=o,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function Vl(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function K1(t){var e=t._init;return e(t._payload)}function Dx(t){function e(I,R){if(t){var k=I.deletions;k===null?(I.deletions=[R],I.flags|=16):k.push(R)}}function n(I,R){if(!t)return null;for(;R!==null;)e(I,R),R=R.sibling;return null}function r(I,R){for(I=new Map;R!==null;)R.key!==null?I.set(R.key,R):I.set(R.index,R),R=R.sibling;return I}function s(I,R){return I=Ii(I,R),I.index=0,I.sibling=null,I}function o(I,R,k){return I.index=k,t?(k=I.alternate,k!==null?(k=k.index,k<R?(I.flags|=2,R):k):(I.flags|=2,R)):(I.flags|=1048576,R)}function c(I){return t&&I.alternate===null&&(I.flags|=2),I}function h(I,R,k,P){return R===null||R.tag!==6?(R=Pd(k,I.mode,P),R.return=I,R):(R=s(R,k),R.return=I,R)}function g(I,R,k,P){var F=k.type;return F===Us?x(I,R,k.props.children,P,k.key):R!==null&&(R.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ai&&K1(F)===R.type)?(P=s(R,k.props),P.ref=qo(I,R,k),P.return=I,P):(P=Ec(k.type,k.key,k.props,null,I.mode,P),P.ref=qo(I,R,k),P.return=I,P)}function p(I,R,k,P){return R===null||R.tag!==4||R.stateNode.containerInfo!==k.containerInfo||R.stateNode.implementation!==k.implementation?(R=Ld(k,I.mode,P),R.return=I,R):(R=s(R,k.children||[]),R.return=I,R)}function x(I,R,k,P,F){return R===null||R.tag!==7?(R=cs(k,I.mode,P,F),R.return=I,R):(R=s(R,k),R.return=I,R)}function w(I,R,k){if(typeof R=="string"&&R!==""||typeof R=="number")return R=Pd(""+R,I.mode,k),R.return=I,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Ol:return k=Ec(R.type,R.key,R.props,null,I.mode,k),k.ref=qo(I,null,R),k.return=I,k;case Fs:return R=Ld(R,I.mode,k),R.return=I,R;case ai:var P=R._init;return w(I,P(R._payload),k)}if(oa(R)||Go(R))return R=cs(R,I.mode,k,null),R.return=I,R;Vl(I,R)}return null}function _(I,R,k,P){var F=R!==null?R.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return F!==null?null:h(I,R,""+k,P);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ol:return k.key===F?g(I,R,k,P):null;case Fs:return k.key===F?p(I,R,k,P):null;case ai:return F=k._init,_(I,R,F(k._payload),P)}if(oa(k)||Go(k))return F!==null?null:x(I,R,k,P,null);Vl(I,k)}return null}function E(I,R,k,P,F){if(typeof P=="string"&&P!==""||typeof P=="number")return I=I.get(k)||null,h(R,I,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case Ol:return I=I.get(P.key===null?k:P.key)||null,g(R,I,P,F);case Fs:return I=I.get(P.key===null?k:P.key)||null,p(R,I,P,F);case ai:var H=P._init;return E(I,R,k,H(P._payload),F)}if(oa(P)||Go(P))return I=I.get(k)||null,x(R,I,P,F,null);Vl(R,P)}return null}function A(I,R,k,P){for(var F=null,H=null,B=R,z=R=0,V=null;B!==null&&z<k.length;z++){B.index>z?(V=B,B=null):V=B.sibling;var J=_(I,B,k[z],P);if(J===null){B===null&&(B=V);break}t&&B&&J.alternate===null&&e(I,B),R=o(J,R,z),H===null?F=J:H.sibling=J,H=J,B=V}if(z===k.length)return n(I,B),dt&&Ki(I,z),F;if(B===null){for(;z<k.length;z++)B=w(I,k[z],P),B!==null&&(R=o(B,R,z),H===null?F=B:H.sibling=B,H=B);return dt&&Ki(I,z),F}for(B=r(I,B);z<k.length;z++)V=E(B,I,z,k[z],P),V!==null&&(t&&V.alternate!==null&&B.delete(V.key===null?z:V.key),R=o(V,R,z),H===null?F=V:H.sibling=V,H=V);return t&&B.forEach(function(se){return e(I,se)}),dt&&Ki(I,z),F}function S(I,R,k,P){var F=Go(k);if(typeof F!="function")throw Error(ee(150));if(k=F.call(k),k==null)throw Error(ee(151));for(var H=F=null,B=R,z=R=0,V=null,J=k.next();B!==null&&!J.done;z++,J=k.next()){B.index>z?(V=B,B=null):V=B.sibling;var se=_(I,B,J.value,P);if(se===null){B===null&&(B=V);break}t&&B&&se.alternate===null&&e(I,B),R=o(se,R,z),H===null?F=se:H.sibling=se,H=se,B=V}if(J.done)return n(I,B),dt&&Ki(I,z),F;if(B===null){for(;!J.done;z++,J=k.next())J=w(I,J.value,P),J!==null&&(R=o(J,R,z),H===null?F=J:H.sibling=J,H=J);return dt&&Ki(I,z),F}for(B=r(I,B);!J.done;z++,J=k.next())J=E(B,I,z,J.value,P),J!==null&&(t&&J.alternate!==null&&B.delete(J.key===null?z:J.key),R=o(J,R,z),H===null?F=J:H.sibling=J,H=J);return t&&B.forEach(function(Q){return e(I,Q)}),dt&&Ki(I,z),F}function O(I,R,k,P){if(typeof k=="object"&&k!==null&&k.type===Us&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case Ol:e:{for(var F=k.key,H=R;H!==null;){if(H.key===F){if(F=k.type,F===Us){if(H.tag===7){n(I,H.sibling),R=s(H,k.props.children),R.return=I,I=R;break e}}else if(H.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===ai&&K1(F)===H.type){n(I,H.sibling),R=s(H,k.props),R.ref=qo(I,H,k),R.return=I,I=R;break e}n(I,H);break}else e(I,H);H=H.sibling}k.type===Us?(R=cs(k.props.children,I.mode,P,k.key),R.return=I,I=R):(P=Ec(k.type,k.key,k.props,null,I.mode,P),P.ref=qo(I,R,k),P.return=I,I=P)}return c(I);case Fs:e:{for(H=k.key;R!==null;){if(R.key===H)if(R.tag===4&&R.stateNode.containerInfo===k.containerInfo&&R.stateNode.implementation===k.implementation){n(I,R.sibling),R=s(R,k.children||[]),R.return=I,I=R;break e}else{n(I,R);break}else e(I,R);R=R.sibling}R=Ld(k,I.mode,P),R.return=I,I=R}return c(I);case ai:return H=k._init,O(I,R,H(k._payload),P)}if(oa(k))return A(I,R,k,P);if(Go(k))return S(I,R,k,P);Vl(I,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,R!==null&&R.tag===6?(n(I,R.sibling),R=s(R,k),R.return=I,I=R):(n(I,R),R=Pd(k,I.mode,P),R.return=I,I=R),c(I)):n(I,R)}return O}var fo=Dx(!0),Mx=Dx(!1),Hc=Mi(null),Wc=null,Ys=null,Gf=null;function Xf(){Gf=Ys=Wc=null}function $f(t){var e=Hc.current;lt(Hc),t._currentValue=e}function Rh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ro(t,e){Wc=t,Gf=Ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Sn=!0),t.firstContext=null)}function qn(t){var e=t._currentValue;if(Gf!==t)if(t={context:t,memoizedValue:e,next:null},Ys===null){if(Wc===null)throw Error(ee(308));Ys=t,Wc.dependencies={lanes:0,firstContext:t}}else Ys=Ys.next=t;return e}var rs=null;function Yf(t){rs===null?rs=[t]:rs.push(t)}function Px(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Yf(e)):(n.next=s.next,s.next=n),e.interleaved=n,Gr(t,r)}function Gr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var li=!1;function Kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Gr(t,n)}return s=r.interleaved,s===null?(e.next=e,Yf(r)):(e.next=s.next,s.next=e),r.interleaved=e,Gr(t,n)}function yc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mf(t,n)}}function q1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=c:o=o.next=c,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gc(t,e,n,r){var s=t.updateQueue;li=!1;var o=s.firstBaseUpdate,c=s.lastBaseUpdate,h=s.shared.pending;if(h!==null){s.shared.pending=null;var g=h,p=g.next;g.next=null,c===null?o=p:c.next=p,c=g;var x=t.alternate;x!==null&&(x=x.updateQueue,h=x.lastBaseUpdate,h!==c&&(h===null?x.firstBaseUpdate=p:h.next=p,x.lastBaseUpdate=g))}if(o!==null){var w=s.baseState;c=0,x=p=g=null,h=o;do{var _=h.lane,E=h.eventTime;if((r&_)===_){x!==null&&(x=x.next={eventTime:E,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var A=t,S=h;switch(_=e,E=n,S.tag){case 1:if(A=S.payload,typeof A=="function"){w=A.call(E,w,_);break e}w=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=S.payload,_=typeof A=="function"?A.call(E,w,_):A,_==null)break e;w=pt({},w,_);break e;case 2:li=!0}}h.callback!==null&&h.lane!==0&&(t.flags|=64,_=s.effects,_===null?s.effects=[h]:_.push(h))}else E={eventTime:E,lane:_,tag:h.tag,payload:h.payload,callback:h.callback,next:null},x===null?(p=x=E,g=w):x=x.next=E,c|=_;if(h=h.next,h===null){if(h=s.shared.pending,h===null)break;_=h,h=_.next,_.next=null,s.lastBaseUpdate=_,s.shared.pending=null}}while(!0);if(x===null&&(g=w),s.baseState=g,s.firstBaseUpdate=p,s.lastBaseUpdate=x,e=s.shared.interleaved,e!==null){s=e;do c|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);ps|=c,t.lanes=c,t.memoizedState=w}}function Z1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ee(191,s));s.call(r)}}}var fl={},Ir=Mi(fl),Va=Mi(fl),Ha=Mi(fl);function is(t){if(t===fl)throw Error(ee(174));return t}function qf(t,e){switch(rt(Ha,e),rt(Va,t),rt(Ir,fl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:hh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=hh(e,t)}lt(Ir),rt(Ir,e)}function go(){lt(Ir),lt(Va),lt(Ha)}function Bx(t){is(Ha.current);var e=is(Ir.current),n=hh(e,t.type);e!==n&&(rt(Va,t),rt(Ir,n))}function Zf(t){Va.current===t&&(lt(Ir),lt(Va))}var ft=Mi(0);function Xc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nd=[];function Qf(){for(var t=0;t<Nd.length;t++)Nd[t]._workInProgressVersionPrimary=null;Nd.length=0}var wc=Yr.ReactCurrentDispatcher,kd=Yr.ReactCurrentBatchConfig,gs=0,gt=null,Ot=null,Bt=null,$c=!1,ya=!1,Wa=0,$b=0;function Jt(){throw Error(ee(321))}function Jf(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dr(t[n],e[n]))return!1;return!0}function e0(t,e,n,r,s,o){if(gs=o,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wc.current=t===null||t.memoizedState===null?Zb:Qb,t=n(r,s),ya){o=0;do{if(ya=!1,Wa=0,25<=o)throw Error(ee(301));o+=1,Bt=Ot=null,e.updateQueue=null,wc.current=Jb,t=n(r,s)}while(ya)}if(wc.current=Yc,e=Ot!==null&&Ot.next!==null,gs=0,Bt=Ot=gt=null,$c=!1,e)throw Error(ee(300));return t}function t0(){var t=Wa!==0;return Wa=0,t}function Cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?gt.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function Zn(){if(Ot===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Ot.next;var e=Bt===null?gt.memoizedState:Bt.next;if(e!==null)Bt=e,Ot=t;else{if(t===null)throw Error(ee(310));Ot=t,t={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Bt===null?gt.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function Ga(t,e){return typeof e=="function"?e(t):e}function Od(t){var e=Zn(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=Ot,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var c=s.next;s.next=o.next,o.next=c}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var h=c=null,g=null,p=o;do{var x=p.lane;if((gs&x)===x)g!==null&&(g=g.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),r=p.hasEagerState?p.eagerState:t(r,p.action);else{var w={lane:x,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};g===null?(h=g=w,c=r):g=g.next=w,gt.lanes|=x,ps|=x}p=p.next}while(p!==null&&p!==o);g===null?c=r:g.next=h,dr(r,e.memoizedState)||(Sn=!0),e.memoizedState=r,e.baseState=c,e.baseQueue=g,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do o=s.lane,gt.lanes|=o,ps|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Rd(t){var e=Zn(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var c=s=s.next;do o=t(o,c.action),c=c.next;while(c!==s);dr(o,e.memoizedState)||(Sn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function jx(){}function Fx(t,e){var n=gt,r=Zn(),s=e(),o=!dr(r.memoizedState,s);if(o&&(r.memoizedState=s,Sn=!0),r=r.queue,n0(Vx.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||Bt!==null&&Bt.memoizedState.tag&1){if(n.flags|=2048,Xa(9,zx.bind(null,n,r,s,e),void 0,null),Ft===null)throw Error(ee(349));gs&30||Ux(n,e,s)}return s}function Ux(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zx(t,e,n,r){e.value=n,e.getSnapshot=r,Hx(e)&&Wx(t)}function Vx(t,e,n){return n(function(){Hx(e)&&Wx(t)})}function Hx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dr(t,n)}catch{return!0}}function Wx(t){var e=Gr(t,1);e!==null&&ur(e,t,1,-1)}function Q1(t){var e=Cr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:t},e.queue=t,t=t.dispatch=qb.bind(null,gt,t),[e.memoizedState,t]}function Xa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Gx(){return Zn().memoizedState}function vc(t,e,n,r){var s=Cr();gt.flags|=t,s.memoizedState=Xa(1|e,n,void 0,r===void 0?null:r)}function _u(t,e,n,r){var s=Zn();r=r===void 0?null:r;var o=void 0;if(Ot!==null){var c=Ot.memoizedState;if(o=c.destroy,r!==null&&Jf(r,c.deps)){s.memoizedState=Xa(e,n,o,r);return}}gt.flags|=t,s.memoizedState=Xa(1|e,n,o,r)}function J1(t,e){return vc(8390656,8,t,e)}function n0(t,e){return _u(2048,8,t,e)}function Xx(t,e){return _u(4,2,t,e)}function $x(t,e){return _u(4,4,t,e)}function Yx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Kx(t,e,n){return n=n!=null?n.concat([t]):null,_u(4,4,Yx.bind(null,e,t),n)}function r0(){}function qx(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jf(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Zx(t,e){var n=Zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Jf(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Qx(t,e,n){return gs&21?(dr(n,e)||(n=rx(),gt.lanes|=n,ps|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Sn=!0),t.memoizedState=n)}function Yb(t,e){var n=Ye;Ye=n!==0&&4>n?n:4,t(!0);var r=kd.transition;kd.transition={};try{t(!1),e()}finally{Ye=n,kd.transition=r}}function Jx(){return Zn().memoizedState}function Kb(t,e,n){var r=Ai(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},e2(t))t2(e,n);else if(n=Px(t,e,n,r),n!==null){var s=un();ur(n,t,r,s),n2(n,e,r)}}function qb(t,e,n){var r=Ai(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(e2(t))t2(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var c=e.lastRenderedState,h=o(c,n);if(s.hasEagerState=!0,s.eagerState=h,dr(h,c)){var g=e.interleaved;g===null?(s.next=s,Yf(e)):(s.next=g.next,g.next=s),e.interleaved=s;return}}catch{}finally{}n=Px(t,e,s,r),n!==null&&(s=un(),ur(n,t,r,s),n2(n,e,r))}}function e2(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function t2(t,e){ya=$c=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function n2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mf(t,n)}}var Yc={readContext:qn,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},Zb={readContext:qn,useCallback:function(t,e){return Cr().memoizedState=[t,e===void 0?null:e],t},useContext:qn,useEffect:J1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vc(4194308,4,Yx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vc(4194308,4,t,e)},useInsertionEffect:function(t,e){return vc(4,2,t,e)},useMemo:function(t,e){var n=Cr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Kb.bind(null,gt,t),[r.memoizedState,t]},useRef:function(t){var e=Cr();return t={current:t},e.memoizedState=t},useState:Q1,useDebugValue:r0,useDeferredValue:function(t){return Cr().memoizedState=t},useTransition:function(){var t=Q1(!1),e=t[0];return t=Yb.bind(null,t[1]),Cr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=gt,s=Cr();if(dt){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),Ft===null)throw Error(ee(349));gs&30||Ux(r,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,J1(Vx.bind(null,r,o,t),[t]),r.flags|=2048,Xa(9,zx.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Cr(),e=Ft.identifierPrefix;if(dt){var n=zr,r=Ur;n=(r&~(1<<32-cr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=$b++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Qb={readContext:qn,useCallback:qx,useContext:qn,useEffect:n0,useImperativeHandle:Kx,useInsertionEffect:Xx,useLayoutEffect:$x,useMemo:Zx,useReducer:Od,useRef:Gx,useState:function(){return Od(Ga)},useDebugValue:r0,useDeferredValue:function(t){var e=Zn();return Qx(e,Ot.memoizedState,t)},useTransition:function(){var t=Od(Ga)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:jx,useSyncExternalStore:Fx,useId:Jx,unstable_isNewReconciler:!1},Jb={readContext:qn,useCallback:qx,useContext:qn,useEffect:n0,useImperativeHandle:Kx,useInsertionEffect:Xx,useLayoutEffect:$x,useMemo:Zx,useReducer:Rd,useRef:Gx,useState:function(){return Rd(Ga)},useDebugValue:r0,useDeferredValue:function(t){var e=Zn();return Ot===null?e.memoizedState=t:Qx(e,Ot.memoizedState,t)},useTransition:function(){var t=Rd(Ga)[0],e=Zn().memoizedState;return[t,e]},useMutableSource:jx,useSyncExternalStore:Fx,useId:Jx,unstable_isNewReconciler:!1};function ir(t,e){if(t&&t.defaultProps){e=pt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Dh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cu={isMounted:function(t){return(t=t._reactInternals)?ws(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=un(),s=Ai(t),o=Vr(r,s);o.payload=e,n!=null&&(o.callback=n),e=Ei(t,o,s),e!==null&&(ur(e,t,s,r),yc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=un(),s=Ai(t),o=Vr(r,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ei(t,o,s),e!==null&&(ur(e,t,s,r),yc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=un(),r=Ai(t),s=Vr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ei(t,s,r),e!==null&&(ur(e,t,r,n),yc(e,t,r))}};function eg(t,e,n,r,s,o,c){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,c):e.prototype&&e.prototype.isPureReactComponent?!ja(n,r)||!ja(s,o):!0}function r2(t,e,n){var r=!1,s=Oi,o=e.contextType;return typeof o=="object"&&o!==null?o=qn(o):(s=In(e)?hs:sn.current,r=e.contextTypes,o=(r=r!=null)?uo(t,s):Oi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function tg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cu.enqueueReplaceState(e,e.state,null)}function Mh(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Kf(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=qn(o):(o=In(e)?hs:sn.current,s.context=uo(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Dh(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Cu.enqueueReplaceState(s,s.state,null),Gc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function po(t,e){try{var n="",r=e;do n+=Iv(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function Dd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ph(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var e_=typeof WeakMap=="function"?WeakMap:Map;function i2(t,e,n){n=Vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qc||(qc=!0,Gh=r),Ph(t,e)},n}function s2(t,e,n){n=Vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ph(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Ph(t,e),typeof r!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var c=e.stack;this.componentDidCatch(e.value,{componentStack:c!==null?c:""})}),n}function ng(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new e_;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=g_.bind(null,t,e,n),e.then(t,t))}function rg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ig(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vr(-1,1),e.tag=2,Ei(n,e,1))),n.lanes|=1),t)}var t_=Yr.ReactCurrentOwner,Sn=!1;function ln(t,e,n,r){e.child=t===null?Mx(e,null,n,r):fo(e,t.child,n,r)}function sg(t,e,n,r,s){n=n.render;var o=e.ref;return ro(e,s),r=e0(t,e,n,r,o,s),n=t0(),t!==null&&!Sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xr(t,e,s)):(dt&&n&&Vf(e),e.flags|=1,ln(t,e,r,s),e.child)}function og(t,e,n,r,s){if(t===null){var o=n.type;return typeof o=="function"&&!d0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,o2(t,e,o,r,s)):(t=Ec(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var c=o.memoizedProps;if(n=n.compare,n=n!==null?n:ja,n(c,r)&&t.ref===e.ref)return Xr(t,e,s)}return e.flags|=1,t=Ii(o,r),t.ref=e.ref,t.return=e,e.child=t}function o2(t,e,n,r,s){if(t!==null){var o=t.memoizedProps;if(ja(o,r)&&t.ref===e.ref)if(Sn=!1,e.pendingProps=r=o,(t.lanes&s)!==0)t.flags&131072&&(Sn=!0);else return e.lanes=t.lanes,Xr(t,e,s)}return Lh(t,e,n,r,s)}function a2(t,e,n){var r=e.pendingProps,s=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(qs,Rn),Rn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rt(qs,Rn),Rn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,rt(qs,Rn),Rn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,rt(qs,Rn),Rn|=r;return ln(t,e,s,n),e.child}function l2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Lh(t,e,n,r,s){var o=In(n)?hs:sn.current;return o=uo(e,o),ro(e,s),n=e0(t,e,n,r,o,s),r=t0(),t!==null&&!Sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xr(t,e,s)):(dt&&r&&Vf(e),e.flags|=1,ln(t,e,n,s),e.child)}function ag(t,e,n,r,s){if(In(n)){var o=!0;Uc(e)}else o=!1;if(ro(e,s),e.stateNode===null)bc(t,e),r2(e,n,r),Mh(e,n,r,s),r=!0;else if(t===null){var c=e.stateNode,h=e.memoizedProps;c.props=h;var g=c.context,p=n.contextType;typeof p=="object"&&p!==null?p=qn(p):(p=In(n)?hs:sn.current,p=uo(e,p));var x=n.getDerivedStateFromProps,w=typeof x=="function"||typeof c.getSnapshotBeforeUpdate=="function";w||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==r||g!==p)&&tg(e,c,r,p),li=!1;var _=e.memoizedState;c.state=_,Gc(e,r,c,s),g=e.memoizedState,h!==r||_!==g||An.current||li?(typeof x=="function"&&(Dh(e,n,x,r),g=e.memoizedState),(h=li||eg(e,n,h,r,_,g,p))?(w||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(e.flags|=4194308)):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=g),c.props=r,c.state=g,c.context=p,r=h):(typeof c.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{c=e.stateNode,Lx(t,e),h=e.memoizedProps,p=e.type===e.elementType?h:ir(e.type,h),c.props=p,w=e.pendingProps,_=c.context,g=n.contextType,typeof g=="object"&&g!==null?g=qn(g):(g=In(n)?hs:sn.current,g=uo(e,g));var E=n.getDerivedStateFromProps;(x=typeof E=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==w||_!==g)&&tg(e,c,r,g),li=!1,_=e.memoizedState,c.state=_,Gc(e,r,c,s);var A=e.memoizedState;h!==w||_!==A||An.current||li?(typeof E=="function"&&(Dh(e,n,E,r),A=e.memoizedState),(p=li||eg(e,n,p,r,_,A,g)||!1)?(x||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,A,g),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,A,g)),typeof c.componentDidUpdate=="function"&&(e.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),c.props=r,c.state=A,c.context=g,r=p):(typeof c.componentDidUpdate!="function"||h===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),r=!1)}return Bh(t,e,n,r,o,s)}function Bh(t,e,n,r,s,o){l2(t,e);var c=(e.flags&128)!==0;if(!r&&!c)return s&&X1(e,n,!1),Xr(t,e,o);r=e.stateNode,t_.current=e;var h=c&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&c?(e.child=fo(e,t.child,null,o),e.child=fo(e,null,h,o)):ln(t,e,h,o),e.memoizedState=r.state,s&&X1(e,n,!0),e.child}function c2(t){var e=t.stateNode;e.pendingContext?G1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&G1(t,e.context,!1),qf(t,e.containerInfo)}function lg(t,e,n,r,s){return ho(),Wf(s),e.flags|=256,ln(t,e,n,r),e.child}var jh={dehydrated:null,treeContext:null,retryLane:0};function Fh(t){return{baseLanes:t,cachePool:null,transitions:null}}function u2(t,e,n){var r=e.pendingProps,s=ft.current,o=!1,c=(e.flags&128)!==0,h;if((h=c)||(h=t!==null&&t.memoizedState===null?!1:(s&2)!==0),h?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),rt(ft,s&1),t===null)return Oh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(c=r.children,t=r.fallback,o?(r=e.mode,o=e.child,c={mode:"hidden",children:c},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=c):o=Au(c,r,0,null),t=cs(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Fh(n),e.memoizedState=jh,t):i0(e,c));if(s=t.memoizedState,s!==null&&(h=s.dehydrated,h!==null))return n_(t,e,c,r,h,s,n);if(o){o=r.fallback,c=e.mode,s=t.child,h=s.sibling;var g={mode:"hidden",children:r.children};return!(c&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=g,e.deletions=null):(r=Ii(s,g),r.subtreeFlags=s.subtreeFlags&14680064),h!==null?o=Ii(h,o):(o=cs(o,c,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,c=t.child.memoizedState,c=c===null?Fh(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},o.memoizedState=c,o.childLanes=t.childLanes&~n,e.memoizedState=jh,r}return o=t.child,t=o.sibling,r=Ii(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function i0(t,e){return e=Au({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Hl(t,e,n,r){return r!==null&&Wf(r),fo(e,t.child,null,n),t=i0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function n_(t,e,n,r,s,o,c){if(n)return e.flags&256?(e.flags&=-257,r=Dd(Error(ee(422))),Hl(t,e,c,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,s=e.mode,r=Au({mode:"visible",children:r.children},s,0,null),o=cs(o,s,c,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&fo(e,t.child,null,c),e.child.memoizedState=Fh(c),e.memoizedState=jh,o);if(!(e.mode&1))return Hl(t,e,c,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var h=r.dgst;return r=h,o=Error(ee(419)),r=Dd(o,r,void 0),Hl(t,e,c,r)}if(h=(c&t.childLanes)!==0,Sn||h){if(r=Ft,r!==null){switch(c&-c){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|c)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Gr(t,s),ur(r,t,s,-1))}return u0(),r=Dd(Error(ee(421))),Hl(t,e,c,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=p_.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Dn=Ci(s.nextSibling),Ln=e,dt=!0,ar=null,t!==null&&(Gn[Xn++]=Ur,Gn[Xn++]=zr,Gn[Xn++]=fs,Ur=t.id,zr=t.overflow,fs=e),e=i0(e,r.children),e.flags|=4096,e)}function cg(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Rh(t.return,e,n)}function Md(t,e,n,r,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function d2(t,e,n){var r=e.pendingProps,s=r.revealOrder,o=r.tail;if(ln(t,e,r.children,n),r=ft.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cg(t,n,e);else if(t.tag===19)cg(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(rt(ft,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Xc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Md(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Xc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Md(e,!0,n,null,o);break;case"together":Md(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function bc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ps|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=Ii(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ii(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function r_(t,e,n){switch(e.tag){case 3:c2(e),ho();break;case 5:Bx(e);break;case 1:In(e.type)&&Uc(e);break;case 4:qf(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;rt(Hc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(rt(ft,ft.current&1),e.flags|=128,null):n&e.child.childLanes?u2(t,e,n):(rt(ft,ft.current&1),t=Xr(t,e,n),t!==null?t.sibling:null);rt(ft,ft.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return d2(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),rt(ft,ft.current),r)break;return null;case 22:case 23:return e.lanes=0,a2(t,e,n)}return Xr(t,e,n)}var h2,Uh,f2,g2;h2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Uh=function(){};f2=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,is(Ir.current);var o=null;switch(n){case"input":s=lh(t,s),r=lh(t,r),o=[];break;case"select":s=pt({},s,{value:void 0}),r=pt({},r,{value:void 0}),o=[];break;case"textarea":s=dh(t,s),r=dh(t,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=jc)}fh(n,r);var c;n=null;for(p in s)if(!r.hasOwnProperty(p)&&s.hasOwnProperty(p)&&s[p]!=null)if(p==="style"){var h=s[p];for(c in h)h.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Oa.hasOwnProperty(p)?o||(o=[]):(o=o||[]).push(p,null));for(p in r){var g=r[p];if(h=s!=null?s[p]:void 0,r.hasOwnProperty(p)&&g!==h&&(g!=null||h!=null))if(p==="style")if(h){for(c in h)!h.hasOwnProperty(c)||g&&g.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in g)g.hasOwnProperty(c)&&h[c]!==g[c]&&(n||(n={}),n[c]=g[c])}else n||(o||(o=[]),o.push(p,n)),n=g;else p==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,h=h?h.__html:void 0,g!=null&&h!==g&&(o=o||[]).push(p,g)):p==="children"?typeof g!="string"&&typeof g!="number"||(o=o||[]).push(p,""+g):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Oa.hasOwnProperty(p)?(g!=null&&p==="onScroll"&&st("scroll",t),o||h===g||(o=[])):(o=o||[]).push(p,g))}n&&(o=o||[]).push("style",n);var p=o;(e.updateQueue=p)&&(e.flags|=4)}};g2=function(t,e,n,r){n!==r&&(e.flags|=4)};function Zo(t,e){if(!dt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function en(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function i_(t,e,n){var r=e.pendingProps;switch(Hf(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(e),null;case 1:return In(e.type)&&Fc(),en(e),null;case 3:return r=e.stateNode,go(),lt(An),lt(sn),Qf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(zl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ar!==null&&(Yh(ar),ar=null))),Uh(t,e),en(e),null;case 5:Zf(e);var s=is(Ha.current);if(n=e.type,t!==null&&e.stateNode!=null)f2(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return en(e),null}if(t=is(Ir.current),zl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Sr]=e,r[za]=o,t=(e.mode&1)!==0,n){case"dialog":st("cancel",r),st("close",r);break;case"iframe":case"object":case"embed":st("load",r);break;case"video":case"audio":for(s=0;s<la.length;s++)st(la[s],r);break;case"source":st("error",r);break;case"img":case"image":case"link":st("error",r),st("load",r);break;case"details":st("toggle",r);break;case"input":y1(r,o),st("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},st("invalid",r);break;case"textarea":v1(r,o),st("invalid",r)}fh(n,o),s=null;for(var c in o)if(o.hasOwnProperty(c)){var h=o[c];c==="children"?typeof h=="string"?r.textContent!==h&&(o.suppressHydrationWarning!==!0&&Ul(r.textContent,h,t),s=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(o.suppressHydrationWarning!==!0&&Ul(r.textContent,h,t),s=["children",""+h]):Oa.hasOwnProperty(c)&&h!=null&&c==="onScroll"&&st("scroll",r)}switch(n){case"input":Rl(r),w1(r,o,!0);break;case"textarea":Rl(r),b1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=jc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{c=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Vm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=c.createElement(n,{is:r.is}):(t=c.createElement(n),n==="select"&&(c=t,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):t=c.createElementNS(t,n),t[Sr]=e,t[za]=r,h2(t,e,!1,!1),e.stateNode=t;e:{switch(c=gh(n,r),n){case"dialog":st("cancel",t),st("close",t),s=r;break;case"iframe":case"object":case"embed":st("load",t),s=r;break;case"video":case"audio":for(s=0;s<la.length;s++)st(la[s],t);s=r;break;case"source":st("error",t),s=r;break;case"img":case"image":case"link":st("error",t),st("load",t),s=r;break;case"details":st("toggle",t),s=r;break;case"input":y1(t,r),s=lh(t,r),st("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=pt({},r,{value:void 0}),st("invalid",t);break;case"textarea":v1(t,r),s=dh(t,r),st("invalid",t);break;default:s=r}fh(n,s),h=s;for(o in h)if(h.hasOwnProperty(o)){var g=h[o];o==="style"?Gm(t,g):o==="dangerouslySetInnerHTML"?(g=g?g.__html:void 0,g!=null&&Hm(t,g)):o==="children"?typeof g=="string"?(n!=="textarea"||g!=="")&&Ra(t,g):typeof g=="number"&&Ra(t,""+g):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Oa.hasOwnProperty(o)?g!=null&&o==="onScroll"&&st("scroll",t):g!=null&&Tf(t,o,g,c))}switch(n){case"input":Rl(t),w1(t,r,!1);break;case"textarea":Rl(t),b1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ki(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Js(t,!!r.multiple,o,!1):r.defaultValue!=null&&Js(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=jc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return en(e),null;case 6:if(t&&e.stateNode!=null)g2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=is(Ha.current),is(Ir.current),zl(e)){if(r=e.stateNode,n=e.memoizedProps,r[Sr]=e,(o=r.nodeValue!==n)&&(t=Ln,t!==null))switch(t.tag){case 3:Ul(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ul(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sr]=e,e.stateNode=r}return en(e),null;case 13:if(lt(ft),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dt&&Dn!==null&&e.mode&1&&!(e.flags&128))Rx(),ho(),e.flags|=98560,o=!1;else if(o=zl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ee(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[Sr]=e}else ho(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;en(e),o=!1}else ar!==null&&(Yh(ar),ar=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ft.current&1?Dt===0&&(Dt=3):u0())),e.updateQueue!==null&&(e.flags|=4),en(e),null);case 4:return go(),Uh(t,e),t===null&&Fa(e.stateNode.containerInfo),en(e),null;case 10:return $f(e.type._context),en(e),null;case 17:return In(e.type)&&Fc(),en(e),null;case 19:if(lt(ft),o=e.memoizedState,o===null)return en(e),null;if(r=(e.flags&128)!==0,c=o.rendering,c===null)if(r)Zo(o,!1);else{if(Dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(c=Xc(t),c!==null){for(e.flags|=128,Zo(o,!1),r=c.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,c=o.alternate,c===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,t=c.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return rt(ft,ft.current&1|2),e.child}t=t.sibling}o.tail!==null&&_t()>mo&&(e.flags|=128,r=!0,Zo(o,!1),e.lanes=4194304)}else{if(!r)if(t=Xc(c),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Zo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!c.alternate&&!dt)return en(e),null}else 2*_t()-o.renderingStartTime>mo&&n!==1073741824&&(e.flags|=128,r=!0,Zo(o,!1),e.lanes=4194304);o.isBackwards?(c.sibling=e.child,e.child=c):(n=o.last,n!==null?n.sibling=c:e.child=c,o.last=c)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=_t(),e.sibling=null,n=ft.current,rt(ft,r?n&1|2:n&1),e):(en(e),null);case 22:case 23:return c0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Rn&1073741824&&(en(e),e.subtreeFlags&6&&(e.flags|=8192)):en(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function s_(t,e){switch(Hf(e),e.tag){case 1:return In(e.type)&&Fc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return go(),lt(An),lt(sn),Qf(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Zf(e),null;case 13:if(lt(ft),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));ho()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lt(ft),null;case 4:return go(),null;case 10:return $f(e.type._context),null;case 22:case 23:return c0(),null;case 24:return null;default:return null}}var Wl=!1,nn=!1,o_=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Ks(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){vt(t,e,r)}else n.current=null}function zh(t,e,n){try{n()}catch(r){vt(t,e,r)}}var ug=!1;function a_(t,e){if(Eh=Pc,t=wx(),zf(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var c=0,h=-1,g=-1,p=0,x=0,w=t,_=null;t:for(;;){for(var E;w!==n||s!==0&&w.nodeType!==3||(h=c+s),w!==o||r!==0&&w.nodeType!==3||(g=c+r),w.nodeType===3&&(c+=w.nodeValue.length),(E=w.firstChild)!==null;)_=w,w=E;for(;;){if(w===t)break t;if(_===n&&++p===s&&(h=c),_===o&&++x===r&&(g=c),(E=w.nextSibling)!==null)break;w=_,_=w.parentNode}w=E}n=h===-1||g===-1?null:{start:h,end:g}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sh={focusedElem:t,selectionRange:n},Pc=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var S=A.memoizedProps,O=A.memoizedState,I=e.stateNode,R=I.getSnapshotBeforeUpdate(e.elementType===e.type?S:ir(e.type,S),O);I.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(P){vt(e,e.return,P)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return A=ug,ug=!1,A}function wa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&zh(e,n,o)}s=s.next}while(s!==r)}}function Eu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function p2(t){var e=t.alternate;e!==null&&(t.alternate=null,p2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sr],delete e[za],delete e[Th],delete e[Hb],delete e[Wb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function m2(t){return t.tag===5||t.tag===3||t.tag===4}function dg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||m2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Hh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=jc));else if(r!==4&&(t=t.child,t!==null))for(Hh(t,e,n),t=t.sibling;t!==null;)Hh(t,e,n),t=t.sibling}function Wh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Wh(t,e,n),t=t.sibling;t!==null;)Wh(t,e,n),t=t.sibling}var $t=null,sr=!1;function ni(t,e,n){for(n=n.child;n!==null;)x2(t,e,n),n=n.sibling}function x2(t,e,n){if(Ar&&typeof Ar.onCommitFiberUnmount=="function")try{Ar.onCommitFiberUnmount(mu,n)}catch{}switch(n.tag){case 5:nn||Ks(n,e);case 6:var r=$t,s=sr;$t=null,ni(t,e,n),$t=r,sr=s,$t!==null&&(sr?(t=$t,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):$t.removeChild(n.stateNode));break;case 18:$t!==null&&(sr?(t=$t,n=n.stateNode,t.nodeType===8?Id(t.parentNode,n):t.nodeType===1&&Id(t,n),La(t)):Id($t,n.stateNode));break;case 4:r=$t,s=sr,$t=n.stateNode.containerInfo,sr=!0,ni(t,e,n),$t=r,sr=s;break;case 0:case 11:case 14:case 15:if(!nn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,c=o.destroy;o=o.tag,c!==void 0&&(o&2||o&4)&&zh(n,e,c),s=s.next}while(s!==r)}ni(t,e,n);break;case 1:if(!nn&&(Ks(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){vt(n,e,h)}ni(t,e,n);break;case 21:ni(t,e,n);break;case 22:n.mode&1?(nn=(r=nn)||n.memoizedState!==null,ni(t,e,n),nn=r):ni(t,e,n);break;default:ni(t,e,n)}}function hg(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new o_),e.forEach(function(r){var s=m_.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function rr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=t,c=e,h=c;e:for(;h!==null;){switch(h.tag){case 5:$t=h.stateNode,sr=!1;break e;case 3:$t=h.stateNode.containerInfo,sr=!0;break e;case 4:$t=h.stateNode.containerInfo,sr=!0;break e}h=h.return}if($t===null)throw Error(ee(160));x2(o,c,s),$t=null,sr=!1;var g=s.alternate;g!==null&&(g.return=null),s.return=null}catch(p){vt(s,e,p)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)y2(e,t),e=e.sibling}function y2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(rr(e,t),wr(t),r&4){try{wa(3,t,t.return),Eu(3,t)}catch(S){vt(t,t.return,S)}try{wa(5,t,t.return)}catch(S){vt(t,t.return,S)}}break;case 1:rr(e,t),wr(t),r&512&&n!==null&&Ks(n,n.return);break;case 5:if(rr(e,t),wr(t),r&512&&n!==null&&Ks(n,n.return),t.flags&32){var s=t.stateNode;try{Ra(s,"")}catch(S){vt(t,t.return,S)}}if(r&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,c=n!==null?n.memoizedProps:o,h=t.type,g=t.updateQueue;if(t.updateQueue=null,g!==null)try{h==="input"&&o.type==="radio"&&o.name!=null&&Um(s,o),gh(h,c);var p=gh(h,o);for(c=0;c<g.length;c+=2){var x=g[c],w=g[c+1];x==="style"?Gm(s,w):x==="dangerouslySetInnerHTML"?Hm(s,w):x==="children"?Ra(s,w):Tf(s,x,w,p)}switch(h){case"input":ch(s,o);break;case"textarea":zm(s,o);break;case"select":var _=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?Js(s,!!o.multiple,E,!1):_!==!!o.multiple&&(o.defaultValue!=null?Js(s,!!o.multiple,o.defaultValue,!0):Js(s,!!o.multiple,o.multiple?[]:"",!1))}s[za]=o}catch(S){vt(t,t.return,S)}}break;case 6:if(rr(e,t),wr(t),r&4){if(t.stateNode===null)throw Error(ee(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(S){vt(t,t.return,S)}}break;case 3:if(rr(e,t),wr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{La(e.containerInfo)}catch(S){vt(t,t.return,S)}break;case 4:rr(e,t),wr(t);break;case 13:rr(e,t),wr(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(a0=_t())),r&4&&hg(t);break;case 22:if(x=n!==null&&n.memoizedState!==null,t.mode&1?(nn=(p=nn)||x,rr(e,t),nn=p):rr(e,t),wr(t),r&8192){if(p=t.memoizedState!==null,(t.stateNode.isHidden=p)&&!x&&t.mode&1)for(ue=t,x=t.child;x!==null;){for(w=ue=x;ue!==null;){switch(_=ue,E=_.child,_.tag){case 0:case 11:case 14:case 15:wa(4,_,_.return);break;case 1:Ks(_,_.return);var A=_.stateNode;if(typeof A.componentWillUnmount=="function"){r=_,n=_.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(S){vt(r,n,S)}}break;case 5:Ks(_,_.return);break;case 22:if(_.memoizedState!==null){gg(w);continue}}E!==null?(E.return=_,ue=E):gg(w)}x=x.sibling}e:for(x=null,w=t;;){if(w.tag===5){if(x===null){x=w;try{s=w.stateNode,p?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(h=w.stateNode,g=w.memoizedProps.style,c=g!=null&&g.hasOwnProperty("display")?g.display:null,h.style.display=Wm("display",c))}catch(S){vt(t,t.return,S)}}}else if(w.tag===6){if(x===null)try{w.stateNode.nodeValue=p?"":w.memoizedProps}catch(S){vt(t,t.return,S)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===t)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===t)break e;for(;w.sibling===null;){if(w.return===null||w.return===t)break e;x===w&&(x=null),w=w.return}x===w&&(x=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:rr(e,t),wr(t),r&4&&hg(t);break;case 21:break;default:rr(e,t),wr(t)}}function wr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(m2(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ra(s,""),r.flags&=-33);var o=dg(t);Wh(t,o,s);break;case 3:case 4:var c=r.stateNode.containerInfo,h=dg(t);Hh(t,h,c);break;default:throw Error(ee(161))}}catch(g){vt(t,t.return,g)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function l_(t,e,n){ue=t,w2(t)}function w2(t,e,n){for(var r=(t.mode&1)!==0;ue!==null;){var s=ue,o=s.child;if(s.tag===22&&r){var c=s.memoizedState!==null||Wl;if(!c){var h=s.alternate,g=h!==null&&h.memoizedState!==null||nn;h=Wl;var p=nn;if(Wl=c,(nn=g)&&!p)for(ue=s;ue!==null;)c=ue,g=c.child,c.tag===22&&c.memoizedState!==null?pg(s):g!==null?(g.return=c,ue=g):pg(s);for(;o!==null;)ue=o,w2(o),o=o.sibling;ue=s,Wl=h,nn=p}fg(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,ue=o):fg(t)}}function fg(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nn||Eu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!nn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ir(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Z1(e,o,r);break;case 3:var c=e.updateQueue;if(c!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Z1(e,c,n)}break;case 5:var h=e.stateNode;if(n===null&&e.flags&4){n=h;var g=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":g.autoFocus&&n.focus();break;case"img":g.src&&(n.src=g.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var p=e.alternate;if(p!==null){var x=p.memoizedState;if(x!==null){var w=x.dehydrated;w!==null&&La(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}nn||e.flags&512&&Vh(e)}catch(_){vt(e,e.return,_)}}if(e===t){ue=null;break}if(n=e.sibling,n!==null){n.return=e.return,ue=n;break}ue=e.return}}function gg(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ue=n;break}ue=e.return}}function pg(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Eu(4,e)}catch(g){vt(e,n,g)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(g){vt(e,s,g)}}var o=e.return;try{Vh(e)}catch(g){vt(e,o,g)}break;case 5:var c=e.return;try{Vh(e)}catch(g){vt(e,c,g)}}}catch(g){vt(e,e.return,g)}if(e===t){ue=null;break}var h=e.sibling;if(h!==null){h.return=e.return,ue=h;break}ue=e.return}}var c_=Math.ceil,Kc=Yr.ReactCurrentDispatcher,s0=Yr.ReactCurrentOwner,Kn=Yr.ReactCurrentBatchConfig,je=0,Ft=null,It=null,Kt=0,Rn=0,qs=Mi(0),Dt=0,$a=null,ps=0,Su=0,o0=0,va=null,_n=null,a0=0,mo=1/0,Lr=null,qc=!1,Gh=null,Si=null,Gl=!1,gi=null,Zc=0,ba=0,Xh=null,_c=-1,Cc=0;function un(){return je&6?_t():_c!==-1?_c:_c=_t()}function Ai(t){return t.mode&1?je&2&&Kt!==0?Kt&-Kt:Xb.transition!==null?(Cc===0&&(Cc=rx()),Cc):(t=Ye,t!==0||(t=window.event,t=t===void 0?16:ux(t.type)),t):1}function ur(t,e,n,r){if(50<ba)throw ba=0,Xh=null,Error(ee(185));ul(t,n,r),(!(je&2)||t!==Ft)&&(t===Ft&&(!(je&2)&&(Su|=n),Dt===4&&di(t,Kt)),Tn(t,r),n===1&&je===0&&!(e.mode&1)&&(mo=_t()+500,bu&&Pi()))}function Tn(t,e){var n=t.callbackNode;Xv(t,e);var r=Mc(t,t===Ft?Kt:0);if(r===0)n!==null&&E1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&E1(n),e===1)t.tag===0?Gb(mg.bind(null,t)):Nx(mg.bind(null,t)),zb(function(){!(je&6)&&Pi()}),n=null;else{switch(ix(r)){case 1:n=Df;break;case 4:n=tx;break;case 16:n=Dc;break;case 536870912:n=nx;break;default:n=Dc}n=I2(n,v2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function v2(t,e){if(_c=-1,Cc=0,je&6)throw Error(ee(327));var n=t.callbackNode;if(io()&&t.callbackNode!==n)return null;var r=Mc(t,t===Ft?Kt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qc(t,r);else{e=r;var s=je;je|=2;var o=_2();(Ft!==t||Kt!==e)&&(Lr=null,mo=_t()+500,ls(t,e));do try{h_();break}catch(h){b2(t,h)}while(!0);Xf(),Kc.current=o,je=s,It!==null?e=0:(Ft=null,Kt=0,e=Dt)}if(e!==0){if(e===2&&(s=wh(t),s!==0&&(r=s,e=$h(t,s))),e===1)throw n=$a,ls(t,0),di(t,r),Tn(t,_t()),n;if(e===6)di(t,r);else{if(s=t.current.alternate,!(r&30)&&!u_(s)&&(e=Qc(t,r),e===2&&(o=wh(t),o!==0&&(r=o,e=$h(t,o))),e===1))throw n=$a,ls(t,0),di(t,r),Tn(t,_t()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:qi(t,_n,Lr);break;case 3:if(di(t,r),(r&130023424)===r&&(e=a0+500-_t(),10<e)){if(Mc(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){un(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ih(qi.bind(null,t,_n,Lr),e);break}qi(t,_n,Lr);break;case 4:if(di(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var c=31-cr(r);o=1<<c,c=e[c],c>s&&(s=c),r&=~o}if(r=s,r=_t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*c_(r/1960))-r,10<r){t.timeoutHandle=Ih(qi.bind(null,t,_n,Lr),r);break}qi(t,_n,Lr);break;case 5:qi(t,_n,Lr);break;default:throw Error(ee(329))}}}return Tn(t,_t()),t.callbackNode===n?v2.bind(null,t):null}function $h(t,e){var n=va;return t.current.memoizedState.isDehydrated&&(ls(t,e).flags|=256),t=Qc(t,e),t!==2&&(e=_n,_n=n,e!==null&&Yh(e)),t}function Yh(t){_n===null?_n=t:_n.push.apply(_n,t)}function u_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!dr(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function di(t,e){for(e&=~o0,e&=~Su,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-cr(e),r=1<<n;t[n]=-1,e&=~r}}function mg(t){if(je&6)throw Error(ee(327));io();var e=Mc(t,0);if(!(e&1))return Tn(t,_t()),null;var n=Qc(t,e);if(t.tag!==0&&n===2){var r=wh(t);r!==0&&(e=r,n=$h(t,r))}if(n===1)throw n=$a,ls(t,0),di(t,e),Tn(t,_t()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qi(t,_n,Lr),Tn(t,_t()),null}function l0(t,e){var n=je;je|=1;try{return t(e)}finally{je=n,je===0&&(mo=_t()+500,bu&&Pi())}}function ms(t){gi!==null&&gi.tag===0&&!(je&6)&&io();var e=je;je|=1;var n=Kn.transition,r=Ye;try{if(Kn.transition=null,Ye=1,t)return t()}finally{Ye=r,Kn.transition=n,je=e,!(je&6)&&Pi()}}function c0(){Rn=qs.current,lt(qs)}function ls(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Ub(n)),It!==null)for(n=It.return;n!==null;){var r=n;switch(Hf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fc();break;case 3:go(),lt(An),lt(sn),Qf();break;case 5:Zf(r);break;case 4:go();break;case 13:lt(ft);break;case 19:lt(ft);break;case 10:$f(r.type._context);break;case 22:case 23:c0()}n=n.return}if(Ft=t,It=t=Ii(t.current,null),Kt=Rn=e,Dt=0,$a=null,o0=Su=ps=0,_n=va=null,rs!==null){for(e=0;e<rs.length;e++)if(n=rs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var c=o.next;o.next=s,r.next=c}n.pending=r}rs=null}return t}function b2(t,e){do{var n=It;try{if(Xf(),wc.current=Yc,$c){for(var r=gt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}$c=!1}if(gs=0,Bt=Ot=gt=null,ya=!1,Wa=0,s0.current=null,n===null||n.return===null){Dt=1,$a=e,It=null;break}e:{var o=t,c=n.return,h=n,g=e;if(e=Kt,h.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){var p=g,x=h,w=x.tag;if(!(x.mode&1)&&(w===0||w===11||w===15)){var _=x.alternate;_?(x.updateQueue=_.updateQueue,x.memoizedState=_.memoizedState,x.lanes=_.lanes):(x.updateQueue=null,x.memoizedState=null)}var E=rg(c);if(E!==null){E.flags&=-257,ig(E,c,h,o,e),E.mode&1&&ng(o,p,e),e=E,g=p;var A=e.updateQueue;if(A===null){var S=new Set;S.add(g),e.updateQueue=S}else A.add(g);break e}else{if(!(e&1)){ng(o,p,e),u0();break e}g=Error(ee(426))}}else if(dt&&h.mode&1){var O=rg(c);if(O!==null){!(O.flags&65536)&&(O.flags|=256),ig(O,c,h,o,e),Wf(po(g,h));break e}}o=g=po(g,h),Dt!==4&&(Dt=2),va===null?va=[o]:va.push(o),o=c;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var I=i2(o,g,e);q1(o,I);break e;case 1:h=g;var R=o.type,k=o.stateNode;if(!(o.flags&128)&&(typeof R.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Si===null||!Si.has(k)))){o.flags|=65536,e&=-e,o.lanes|=e;var P=s2(o,h,e);q1(o,P);break e}}o=o.return}while(o!==null)}E2(n)}catch(F){e=F,It===n&&n!==null&&(It=n=n.return);continue}break}while(!0)}function _2(){var t=Kc.current;return Kc.current=Yc,t===null?Yc:t}function u0(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Ft===null||!(ps&268435455)&&!(Su&268435455)||di(Ft,Kt)}function Qc(t,e){var n=je;je|=2;var r=_2();(Ft!==t||Kt!==e)&&(Lr=null,ls(t,e));do try{d_();break}catch(s){b2(t,s)}while(!0);if(Xf(),je=n,Kc.current=r,It!==null)throw Error(ee(261));return Ft=null,Kt=0,Dt}function d_(){for(;It!==null;)C2(It)}function h_(){for(;It!==null&&!Bv();)C2(It)}function C2(t){var e=A2(t.alternate,t,Rn);t.memoizedProps=t.pendingProps,e===null?E2(t):It=e,s0.current=null}function E2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=s_(n,e),n!==null){n.flags&=32767,It=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dt=6,It=null;return}}else if(n=i_(n,e,Rn),n!==null){It=n;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);Dt===0&&(Dt=5)}function qi(t,e,n){var r=Ye,s=Kn.transition;try{Kn.transition=null,Ye=1,f_(t,e,n,r)}finally{Kn.transition=s,Ye=r}return null}function f_(t,e,n,r){do io();while(gi!==null);if(je&6)throw Error(ee(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if($v(t,o),t===Ft&&(It=Ft=null,Kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Gl||(Gl=!0,I2(Dc,function(){return io(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Kn.transition,Kn.transition=null;var c=Ye;Ye=1;var h=je;je|=4,s0.current=null,a_(t,n),y2(n,t),Db(Sh),Pc=!!Eh,Sh=Eh=null,t.current=n,l_(n),jv(),je=h,Ye=c,Kn.transition=o}else t.current=n;if(Gl&&(Gl=!1,gi=t,Zc=s),o=t.pendingLanes,o===0&&(Si=null),zv(n.stateNode),Tn(t,_t()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(qc)throw qc=!1,t=Gh,Gh=null,t;return Zc&1&&t.tag!==0&&io(),o=t.pendingLanes,o&1?t===Xh?ba++:(ba=0,Xh=t):ba=0,Pi(),null}function io(){if(gi!==null){var t=ix(Zc),e=Kn.transition,n=Ye;try{if(Kn.transition=null,Ye=16>t?16:t,gi===null)var r=!1;else{if(t=gi,gi=null,Zc=0,je&6)throw Error(ee(331));var s=je;for(je|=4,ue=t.current;ue!==null;){var o=ue,c=o.child;if(ue.flags&16){var h=o.deletions;if(h!==null){for(var g=0;g<h.length;g++){var p=h[g];for(ue=p;ue!==null;){var x=ue;switch(x.tag){case 0:case 11:case 15:wa(8,x,o)}var w=x.child;if(w!==null)w.return=x,ue=w;else for(;ue!==null;){x=ue;var _=x.sibling,E=x.return;if(p2(x),x===p){ue=null;break}if(_!==null){_.return=E,ue=_;break}ue=E}}}var A=o.alternate;if(A!==null){var S=A.child;if(S!==null){A.child=null;do{var O=S.sibling;S.sibling=null,S=O}while(S!==null)}}ue=o}}if(o.subtreeFlags&2064&&c!==null)c.return=o,ue=c;else e:for(;ue!==null;){if(o=ue,o.flags&2048)switch(o.tag){case 0:case 11:case 15:wa(9,o,o.return)}var I=o.sibling;if(I!==null){I.return=o.return,ue=I;break e}ue=o.return}}var R=t.current;for(ue=R;ue!==null;){c=ue;var k=c.child;if(c.subtreeFlags&2064&&k!==null)k.return=c,ue=k;else e:for(c=R;ue!==null;){if(h=ue,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Eu(9,h)}}catch(F){vt(h,h.return,F)}if(h===c){ue=null;break e}var P=h.sibling;if(P!==null){P.return=h.return,ue=P;break e}ue=h.return}}if(je=s,Pi(),Ar&&typeof Ar.onPostCommitFiberRoot=="function")try{Ar.onPostCommitFiberRoot(mu,t)}catch{}r=!0}return r}finally{Ye=n,Kn.transition=e}}return!1}function xg(t,e,n){e=po(n,e),e=i2(t,e,1),t=Ei(t,e,1),e=un(),t!==null&&(ul(t,1,e),Tn(t,e))}function vt(t,e,n){if(t.tag===3)xg(t,t,n);else for(;e!==null;){if(e.tag===3){xg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Si===null||!Si.has(r))){t=po(n,t),t=s2(e,t,1),e=Ei(e,t,1),t=un(),e!==null&&(ul(e,1,t),Tn(e,t));break}}e=e.return}}function g_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=un(),t.pingedLanes|=t.suspendedLanes&n,Ft===t&&(Kt&n)===n&&(Dt===4||Dt===3&&(Kt&130023424)===Kt&&500>_t()-a0?ls(t,0):o0|=n),Tn(t,e)}function S2(t,e){e===0&&(t.mode&1?(e=Pl,Pl<<=1,!(Pl&130023424)&&(Pl=4194304)):e=1);var n=un();t=Gr(t,e),t!==null&&(ul(t,e,n),Tn(t,n))}function p_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),S2(t,n)}function m_(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),S2(t,n)}var A2;A2=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||An.current)Sn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Sn=!1,r_(t,e,n);Sn=!!(t.flags&131072)}else Sn=!1,dt&&e.flags&1048576&&kx(e,Vc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;bc(t,e),t=e.pendingProps;var s=uo(e,sn.current);ro(e,n),s=e0(null,e,r,t,s,n);var o=t0();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,In(r)?(o=!0,Uc(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Kf(e),s.updater=Cu,e.stateNode=s,s._reactInternals=e,Mh(e,r,t,n),e=Bh(null,e,r,!0,o,n)):(e.tag=0,dt&&o&&Vf(e),ln(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(bc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=y_(r),t=ir(r,t),s){case 0:e=Lh(null,e,r,t,n);break e;case 1:e=ag(null,e,r,t,n);break e;case 11:e=sg(null,e,r,t,n);break e;case 14:e=og(null,e,r,ir(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ir(r,s),Lh(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ir(r,s),ag(t,e,r,s,n);case 3:e:{if(c2(e),t===null)throw Error(ee(387));r=e.pendingProps,o=e.memoizedState,s=o.element,Lx(t,e),Gc(e,r,null,n);var c=e.memoizedState;if(r=c.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=po(Error(ee(423)),e),e=lg(t,e,r,n,s);break e}else if(r!==s){s=po(Error(ee(424)),e),e=lg(t,e,r,n,s);break e}else for(Dn=Ci(e.stateNode.containerInfo.firstChild),Ln=e,dt=!0,ar=null,n=Mx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ho(),r===s){e=Xr(t,e,n);break e}ln(t,e,r,n)}e=e.child}return e;case 5:return Bx(e),t===null&&Oh(e),r=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,c=s.children,Ah(r,s)?c=null:o!==null&&Ah(r,o)&&(e.flags|=32),l2(t,e),ln(t,e,c,n),e.child;case 6:return t===null&&Oh(e),null;case 13:return u2(t,e,n);case 4:return qf(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=fo(e,null,r,n):ln(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ir(r,s),sg(t,e,r,s,n);case 7:return ln(t,e,e.pendingProps,n),e.child;case 8:return ln(t,e,e.pendingProps.children,n),e.child;case 12:return ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,o=e.memoizedProps,c=s.value,rt(Hc,r._currentValue),r._currentValue=c,o!==null)if(dr(o.value,c)){if(o.children===s.children&&!An.current){e=Xr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var h=o.dependencies;if(h!==null){c=o.child;for(var g=h.firstContext;g!==null;){if(g.context===r){if(o.tag===1){g=Vr(-1,n&-n),g.tag=2;var p=o.updateQueue;if(p!==null){p=p.shared;var x=p.pending;x===null?g.next=g:(g.next=x.next,x.next=g),p.pending=g}}o.lanes|=n,g=o.alternate,g!==null&&(g.lanes|=n),Rh(o.return,n,e),h.lanes|=n;break}g=g.next}}else if(o.tag===10)c=o.type===e.type?null:o.child;else if(o.tag===18){if(c=o.return,c===null)throw Error(ee(341));c.lanes|=n,h=c.alternate,h!==null&&(h.lanes|=n),Rh(c,n,e),c=o.sibling}else c=o.child;if(c!==null)c.return=o;else for(c=o;c!==null;){if(c===e){c=null;break}if(o=c.sibling,o!==null){o.return=c.return,c=o;break}c=c.return}o=c}ln(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ro(e,n),s=qn(s),r=r(s),e.flags|=1,ln(t,e,r,n),e.child;case 14:return r=e.type,s=ir(r,e.pendingProps),s=ir(r.type,s),og(t,e,r,s,n);case 15:return o2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ir(r,s),bc(t,e),e.tag=1,In(r)?(t=!0,Uc(e)):t=!1,ro(e,n),r2(e,r,s),Mh(e,r,s,n),Bh(null,e,r,!0,t,n);case 19:return d2(t,e,n);case 22:return a2(t,e,n)}throw Error(ee(156,e.tag))};function I2(t,e){return ex(t,e)}function x_(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(t,e,n,r){return new x_(t,e,n,r)}function d0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function y_(t){if(typeof t=="function")return d0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kf)return 11;if(t===Of)return 14}return 2}function Ii(t,e){var n=t.alternate;return n===null?(n=$n(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ec(t,e,n,r,s,o){var c=2;if(r=t,typeof t=="function")d0(t)&&(c=1);else if(typeof t=="string")c=5;else e:switch(t){case Us:return cs(n.children,s,o,e);case Nf:c=8,s|=8;break;case ih:return t=$n(12,n,e,s|2),t.elementType=ih,t.lanes=o,t;case sh:return t=$n(13,n,e,s),t.elementType=sh,t.lanes=o,t;case oh:return t=$n(19,n,e,s),t.elementType=oh,t.lanes=o,t;case Bm:return Au(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Pm:c=10;break e;case Lm:c=9;break e;case kf:c=11;break e;case Of:c=14;break e;case ai:c=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=$n(c,n,e,s),e.elementType=t,e.type=r,e.lanes=o,e}function cs(t,e,n,r){return t=$n(7,t,r,e),t.lanes=n,t}function Au(t,e,n,r){return t=$n(22,t,r,e),t.elementType=Bm,t.lanes=n,t.stateNode={isHidden:!1},t}function Pd(t,e,n){return t=$n(6,t,null,e),t.lanes=n,t}function Ld(t,e,n){return e=$n(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function w_(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=md(0),this.expirationTimes=md(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=md(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function h0(t,e,n,r,s,o,c,h,g){return t=new w_(t,e,n,h,g),e===1?(e=1,o===!0&&(e|=8)):e=0,o=$n(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kf(o),t}function v_(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Fs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function T2(t){if(!t)return Oi;t=t._reactInternals;e:{if(ws(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(In(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(In(n))return Tx(t,n,e)}return e}function N2(t,e,n,r,s,o,c,h,g){return t=h0(n,r,!0,t,s,o,c,h,g),t.context=T2(null),n=t.current,r=un(),s=Ai(n),o=Vr(r,s),o.callback=e??null,Ei(n,o,s),t.current.lanes=s,ul(t,s,r),Tn(t,r),t}function Iu(t,e,n,r){var s=e.current,o=un(),c=Ai(s);return n=T2(n),e.context===null?e.context=n:e.pendingContext=n,e=Vr(o,c),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ei(s,e,c),t!==null&&(ur(t,s,c,o),yc(t,s,c)),c}function Jc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function f0(t,e){yg(t,e),(t=t.alternate)&&yg(t,e)}function b_(){return null}var k2=typeof reportError=="function"?reportError:function(t){console.error(t)};function g0(t){this._internalRoot=t}Tu.prototype.render=g0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));Iu(t,e,null,null)};Tu.prototype.unmount=g0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ms(function(){Iu(null,t,null,null)}),e[Wr]=null}};function Tu(t){this._internalRoot=t}Tu.prototype.unstable_scheduleHydration=function(t){if(t){var e=ax();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ui.length&&e!==0&&e<ui[n].priority;n++);ui.splice(n,0,t),n===0&&cx(t)}};function p0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function wg(){}function __(t,e,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var p=Jc(c);o.call(p)}}var c=N2(e,r,t,0,null,!1,!1,"",wg);return t._reactRootContainer=c,t[Wr]=c.current,Fa(t.nodeType===8?t.parentNode:t),ms(),c}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var h=r;r=function(){var p=Jc(g);h.call(p)}}var g=h0(t,0,!1,null,null,!1,!1,"",wg);return t._reactRootContainer=g,t[Wr]=g.current,Fa(t.nodeType===8?t.parentNode:t),ms(function(){Iu(e,g,n,r)}),g}function ku(t,e,n,r,s){var o=n._reactRootContainer;if(o){var c=o;if(typeof s=="function"){var h=s;s=function(){var g=Jc(c);h.call(g)}}Iu(e,c,t,s)}else c=__(n,e,t,s,r);return Jc(c)}sx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=aa(e.pendingLanes);n!==0&&(Mf(e,n|1),Tn(e,_t()),!(je&6)&&(mo=_t()+500,Pi()))}break;case 13:ms(function(){var r=Gr(t,1);if(r!==null){var s=un();ur(r,t,1,s)}}),f0(t,1)}};Pf=function(t){if(t.tag===13){var e=Gr(t,134217728);if(e!==null){var n=un();ur(e,t,134217728,n)}f0(t,134217728)}};ox=function(t){if(t.tag===13){var e=Ai(t),n=Gr(t,e);if(n!==null){var r=un();ur(n,t,e,r)}f0(t,e)}};ax=function(){return Ye};lx=function(t,e){var n=Ye;try{return Ye=t,e()}finally{Ye=n}};mh=function(t,e,n){switch(e){case"input":if(ch(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=vu(r);if(!s)throw Error(ee(90));Fm(r),ch(r,s)}}}break;case"textarea":zm(t,n);break;case"select":e=n.value,e!=null&&Js(t,!!n.multiple,e,!1)}};Ym=l0;Km=ms;var C_={usingClientEntryPoint:!1,Events:[hl,Ws,vu,Xm,$m,l0]},Qo={findFiberByHostInstance:ns,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},E_={bundleType:Qo.bundleType,version:Qo.version,rendererPackageName:Qo.rendererPackageName,rendererConfig:Qo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Qm(t),t===null?null:t.stateNode},findFiberByHostInstance:Qo.findFiberByHostInstance||b_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xl.isDisabled&&Xl.supportsFiber)try{mu=Xl.inject(E_),Ar=Xl}catch{}}jn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C_;jn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p0(e))throw Error(ee(200));return v_(t,e,null,n)};jn.createRoot=function(t,e){if(!p0(t))throw Error(ee(299));var n=!1,r="",s=k2;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=h0(t,1,!1,null,null,n,!1,r,s),t[Wr]=e.current,Fa(t.nodeType===8?t.parentNode:t),new g0(e)};jn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=Qm(e),t=t===null?null:t.stateNode,t};jn.flushSync=function(t){return ms(t)};jn.hydrate=function(t,e,n){if(!Nu(e))throw Error(ee(200));return ku(null,t,e,!0,n)};jn.hydrateRoot=function(t,e,n){if(!p0(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",c=k2;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),e=N2(e,null,t,1,n??null,s,!1,o,c),t[Wr]=e.current,Fa(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Tu(e)};jn.render=function(t,e,n){if(!Nu(e))throw Error(ee(200));return ku(null,t,e,!1,n)};jn.unmountComponentAtNode=function(t){if(!Nu(t))throw Error(ee(40));return t._reactRootContainer?(ms(function(){ku(null,null,t,!1,function(){t._reactRootContainer=null,t[Wr]=null})}),!0):!1};jn.unstable_batchedUpdates=l0;jn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Nu(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return ku(t,e,n,!1,r)};jn.version="18.3.1-next-f1338f8080-20240426";function O2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(O2)}catch(t){console.error(t)}}O2(),Om.exports=jn;var S_=Om.exports,R2,vg=S_;R2=vg.createRoot,vg.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ya(){return Ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ya.apply(this,arguments)}var pi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(pi||(pi={}));const bg="popstate";function A_(t){t===void 0&&(t={});function e(r,s){let{pathname:o,search:c,hash:h}=r.location;return Kh("",{pathname:o,search:c,hash:h},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:eu(s)}return T_(e,n,null,t)}function Et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function D2(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function I_(){return Math.random().toString(36).substr(2,8)}function _g(t,e){return{usr:t.state,key:t.key,idx:e}}function Kh(t,e,n,r){return n===void 0&&(n=null),Ya({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?So(e):e,{state:n,key:e&&e.key||r||I_()})}function eu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function So(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function T_(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,c=s.history,h=pi.Pop,g=null,p=x();p==null&&(p=0,c.replaceState(Ya({},c.state,{idx:p}),""));function x(){return(c.state||{idx:null}).idx}function w(){h=pi.Pop;let O=x(),I=O==null?null:O-p;p=O,g&&g({action:h,location:S.location,delta:I})}function _(O,I){h=pi.Push;let R=Kh(S.location,O,I);p=x()+1;let k=_g(R,p),P=S.createHref(R);try{c.pushState(k,"",P)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;s.location.assign(P)}o&&g&&g({action:h,location:S.location,delta:1})}function E(O,I){h=pi.Replace;let R=Kh(S.location,O,I);p=x();let k=_g(R,p),P=S.createHref(R);c.replaceState(k,"",P),o&&g&&g({action:h,location:S.location,delta:0})}function A(O){let I=s.location.origin!=="null"?s.location.origin:s.location.href,R=typeof O=="string"?O:eu(O);return R=R.replace(/ $/,"%20"),Et(I,"No window.location.(origin|href) available to create URL for href: "+R),new URL(R,I)}let S={get action(){return h},get location(){return t(s,c)},listen(O){if(g)throw new Error("A history only accepts one active listener");return s.addEventListener(bg,w),g=O,()=>{s.removeEventListener(bg,w),g=null}},createHref(O){return e(s,O)},createURL:A,encodeLocation(O){let I=A(O);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:_,replace:E,go(O){return c.go(O)}};return S}var Cg;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Cg||(Cg={}));function N_(t,e,n){return n===void 0&&(n="/"),k_(t,e,n)}function k_(t,e,n,r){let s=typeof e=="string"?So(e):e,o=m0(s.pathname||"/",n);if(o==null)return null;let c=M2(t);O_(c);let h=null;for(let g=0;h==null&&g<c.length;++g){let p=H_(o);h=U_(c[g],p)}return h}function M2(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,c,h)=>{let g={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};g.relativePath.startsWith("/")&&(Et(g.relativePath.startsWith(r),'Absolute route path "'+g.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),g.relativePath=g.relativePath.slice(r.length));let p=Ti([r,g.relativePath]),x=n.concat(g);o.children&&o.children.length>0&&(Et(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),M2(o.children,e,x,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:j_(p,o.index),routesMeta:x})};return t.forEach((o,c)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))s(o,c);else for(let g of P2(o.path))s(o,c,g)}),e}function P2(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let c=P2(r.join("/")),h=[];return h.push(...c.map(g=>g===""?o:[o,g].join("/"))),s&&h.push(...c),h.map(g=>t.startsWith("/")&&g===""?"/":g)}function O_(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:F_(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const R_=/^:[\w-]+$/,D_=3,M_=2,P_=1,L_=10,B_=-2,Eg=t=>t==="*";function j_(t,e){let n=t.split("/"),r=n.length;return n.some(Eg)&&(r+=B_),e&&(r+=M_),n.filter(s=>!Eg(s)).reduce((s,o)=>s+(R_.test(o)?D_:o===""?P_:L_),r)}function F_(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function U_(t,e,n){let{routesMeta:r}=t,s={},o="/",c=[];for(let h=0;h<r.length;++h){let g=r[h],p=h===r.length-1,x=o==="/"?e:e.slice(o.length)||"/",w=z_({path:g.relativePath,caseSensitive:g.caseSensitive,end:p},x),_=g.route;if(!w)return null;Object.assign(s,w.params),c.push({params:s,pathname:Ti([o,w.pathname]),pathnameBase:$_(Ti([o,w.pathnameBase])),route:_}),w.pathnameBase!=="/"&&(o=Ti([o,w.pathnameBase]))}return c}function z_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=V_(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],c=o.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:r.reduce((p,x,w)=>{let{paramName:_,isOptional:E}=x;if(_==="*"){let S=h[w]||"";c=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const A=h[w];return E&&!A?p[_]=void 0:p[_]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:c,pattern:t}}function V_(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),D2(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,g)=>(r.push({paramName:h,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function H_(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return D2(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function m0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function W_(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?So(t):t;return{pathname:n?n.startsWith("/")?n:G_(n,e):e,search:Y_(r),hash:K_(s)}}function G_(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Bd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function X_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function x0(t,e){let n=X_(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function y0(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=So(t):(s=Ya({},t),Et(!s.pathname||!s.pathname.includes("?"),Bd("?","pathname","search",s)),Et(!s.pathname||!s.pathname.includes("#"),Bd("#","pathname","hash",s)),Et(!s.search||!s.search.includes("#"),Bd("#","search","hash",s)));let o=t===""||s.pathname==="",c=o?"/":s.pathname,h;if(c==null)h=n;else{let w=e.length-1;if(!r&&c.startsWith("..")){let _=c.split("/");for(;_[0]==="..";)_.shift(),w-=1;s.pathname=_.join("/")}h=w>=0?e[w]:"/"}let g=W_(s,h),p=c&&c!=="/"&&c.endsWith("/"),x=(o||c===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(p||x)&&(g.pathname+="/"),g}const Ti=t=>t.join("/").replace(/\/\/+/g,"/"),$_=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Y_=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,K_=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function q_(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const L2=["post","put","patch","delete"];new Set(L2);const Z_=["get",...L2];new Set(Z_);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ka(){return Ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ka.apply(this,arguments)}const w0=W.createContext(null),Q_=W.createContext(null),Li=W.createContext(null),Ou=W.createContext(null),Bi=W.createContext({outlet:null,matches:[],isDataRoute:!1}),B2=W.createContext(null);function J_(t,e){let{relative:n}=e===void 0?{}:e;Ao()||Et(!1);let{basename:r,navigator:s}=W.useContext(Li),{hash:o,pathname:c,search:h}=F2(t,{relative:n}),g=c;return r!=="/"&&(g=c==="/"?r:Ti([r,c])),s.createHref({pathname:g,search:h,hash:o})}function Ao(){return W.useContext(Ou)!=null}function Io(){return Ao()||Et(!1),W.useContext(Ou).location}function j2(t){W.useContext(Li).static||W.useLayoutEffect(t)}function To(){let{isDataRoute:t}=W.useContext(Bi);return t?h3():e3()}function e3(){Ao()||Et(!1);let t=W.useContext(w0),{basename:e,future:n,navigator:r}=W.useContext(Li),{matches:s}=W.useContext(Bi),{pathname:o}=Io(),c=JSON.stringify(x0(s,n.v7_relativeSplatPath)),h=W.useRef(!1);return j2(()=>{h.current=!0}),W.useCallback(function(p,x){if(x===void 0&&(x={}),!h.current)return;if(typeof p=="number"){r.go(p);return}let w=y0(p,JSON.parse(c),o,x.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Ti([e,w.pathname])),(x.replace?r.replace:r.push)(w,x.state,x)},[e,r,c,o,t])}function F2(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=W.useContext(Li),{matches:s}=W.useContext(Bi),{pathname:o}=Io(),c=JSON.stringify(x0(s,r.v7_relativeSplatPath));return W.useMemo(()=>y0(t,JSON.parse(c),o,n==="path"),[t,c,o,n])}function t3(t,e){return n3(t,e)}function n3(t,e,n,r){Ao()||Et(!1);let{navigator:s,static:o}=W.useContext(Li),{matches:c}=W.useContext(Bi),h=c[c.length-1],g=h?h.params:{};h&&h.pathname;let p=h?h.pathnameBase:"/";h&&h.route;let x=Io(),w;if(e){var _;let I=typeof e=="string"?So(e):e;p==="/"||(_=I.pathname)!=null&&_.startsWith(p)||Et(!1),w=I}else w=x;let E=w.pathname||"/",A=E;if(p!=="/"){let I=p.replace(/^\//,"").split("/");A="/"+E.replace(/^\//,"").split("/").slice(I.length).join("/")}let S=N_(t,{pathname:A}),O=a3(S&&S.map(I=>Object.assign({},I,{params:Object.assign({},g,I.params),pathname:Ti([p,s.encodeLocation?s.encodeLocation(I.pathname).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?p:Ti([p,s.encodeLocation?s.encodeLocation(I.pathnameBase).pathname:I.pathnameBase])})),c,n,r);return e&&O?W.createElement(Ou.Provider,{value:{location:Ka({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:pi.Pop}},O):O}function r3(){let t=d3(),e=q_(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),n?W.createElement("pre",{style:s},n):null,null)}const i3=W.createElement(r3,null);class s3 extends W.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?W.createElement(Bi.Provider,{value:this.props.routeContext},W.createElement(B2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function o3(t){let{routeContext:e,match:n,children:r}=t,s=W.useContext(w0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),W.createElement(Bi.Provider,{value:e},r)}function a3(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let c=t,h=(s=n)==null?void 0:s.errors;if(h!=null){let x=c.findIndex(w=>w.route.id&&(h==null?void 0:h[w.route.id])!==void 0);x>=0||Et(!1),c=c.slice(0,Math.min(c.length,x+1))}let g=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let x=0;x<c.length;x++){let w=c[x];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(p=x),w.route.id){let{loaderData:_,errors:E}=n,A=w.route.loader&&_[w.route.id]===void 0&&(!E||E[w.route.id]===void 0);if(w.route.lazy||A){g=!0,p>=0?c=c.slice(0,p+1):c=[c[0]];break}}}return c.reduceRight((x,w,_)=>{let E,A=!1,S=null,O=null;n&&(E=h&&w.route.id?h[w.route.id]:void 0,S=w.route.errorElement||i3,g&&(p<0&&_===0?(f3("route-fallback"),A=!0,O=null):p===_&&(A=!0,O=w.route.hydrateFallbackElement||null)));let I=e.concat(c.slice(0,_+1)),R=()=>{let k;return E?k=S:A?k=O:w.route.Component?k=W.createElement(w.route.Component,null):w.route.element?k=w.route.element:k=x,W.createElement(o3,{match:w,routeContext:{outlet:x,matches:I,isDataRoute:n!=null},children:k})};return n&&(w.route.ErrorBoundary||w.route.errorElement||_===0)?W.createElement(s3,{location:n.location,revalidation:n.revalidation,component:S,error:E,children:R(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):R()},null)}var U2=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(U2||{}),z2=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(z2||{});function l3(t){let e=W.useContext(w0);return e||Et(!1),e}function c3(t){let e=W.useContext(Q_);return e||Et(!1),e}function u3(t){let e=W.useContext(Bi);return e||Et(!1),e}function V2(t){let e=u3(),n=e.matches[e.matches.length-1];return n.route.id||Et(!1),n.route.id}function d3(){var t;let e=W.useContext(B2),n=c3(),r=V2();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function h3(){let{router:t}=l3(U2.UseNavigateStable),e=V2(z2.UseNavigateStable),n=W.useRef(!1);return j2(()=>{n.current=!0}),W.useCallback(function(s,o){o===void 0&&(o={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Ka({fromRouteId:e},o)))},[t,e])}const Sg={};function f3(t,e,n){Sg[t]||(Sg[t]=!0)}function g3(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Ag(t){let{to:e,replace:n,state:r,relative:s}=t;Ao()||Et(!1);let{future:o,static:c}=W.useContext(Li),{matches:h}=W.useContext(Bi),{pathname:g}=Io(),p=To(),x=y0(e,x0(h,o.v7_relativeSplatPath),g,s==="path"),w=JSON.stringify(x);return W.useEffect(()=>p(JSON.parse(w),{replace:n,state:r,relative:s}),[p,w,s,n,r]),null}function Xt(t){Et(!1)}function p3(t){let{basename:e="/",children:n=null,location:r,navigationType:s=pi.Pop,navigator:o,static:c=!1,future:h}=t;Ao()&&Et(!1);let g=e.replace(/^\/*/,"/"),p=W.useMemo(()=>({basename:g,navigator:o,static:c,future:Ka({v7_relativeSplatPath:!1},h)}),[g,h,o,c]);typeof r=="string"&&(r=So(r));let{pathname:x="/",search:w="",hash:_="",state:E=null,key:A="default"}=r,S=W.useMemo(()=>{let O=m0(x,g);return O==null?null:{location:{pathname:O,search:w,hash:_,state:E,key:A},navigationType:s}},[g,x,w,_,E,A,s]);return S==null?null:W.createElement(Li.Provider,{value:p},W.createElement(Ou.Provider,{children:n,value:S}))}function m3(t){let{children:e,location:n}=t;return t3(qh(e),n)}new Promise(()=>{});function qh(t,e){e===void 0&&(e=[]);let n=[];return W.Children.forEach(t,(r,s)=>{if(!W.isValidElement(r))return;let o=[...e,s];if(r.type===W.Fragment){n.push.apply(n,qh(r.props.children,o));return}r.type!==Xt&&Et(!1),!r.props.index||!r.props.children||Et(!1);let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=qh(r.props.children,o)),n.push(c)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zh(){return Zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zh.apply(this,arguments)}function x3(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,o;for(o=0;o<r.length;o++)s=r[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function y3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function w3(t,e){return t.button===0&&(!e||e==="_self")&&!y3(t)}const v3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],b3="6";try{window.__reactRouterVersion=b3}catch{}const _3="startTransition",Ig=gv[_3];function C3(t){let{basename:e,children:n,future:r,window:s}=t,o=W.useRef();o.current==null&&(o.current=A_({window:s,v5Compat:!0}));let c=o.current,[h,g]=W.useState({action:c.action,location:c.location}),{v7_startTransition:p}=r||{},x=W.useCallback(w=>{p&&Ig?Ig(()=>g(w)):g(w)},[g,p]);return W.useLayoutEffect(()=>c.listen(x),[c,x]),W.useEffect(()=>g3(r),[r]),W.createElement(p3,{basename:e,children:n,location:h.location,navigationType:h.action,navigator:c,future:r})}const E3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",S3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ne=W.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:o,replace:c,state:h,target:g,to:p,preventScrollReset:x,viewTransition:w}=e,_=x3(e,v3),{basename:E}=W.useContext(Li),A,S=!1;if(typeof p=="string"&&S3.test(p)&&(A=p,E3))try{let k=new URL(window.location.href),P=p.startsWith("//")?new URL(k.protocol+p):new URL(p),F=m0(P.pathname,E);P.origin===k.origin&&F!=null?p=F+P.search+P.hash:S=!0}catch{}let O=J_(p,{relative:s}),I=A3(p,{replace:c,state:h,target:g,preventScrollReset:x,relative:s,viewTransition:w});function R(k){r&&r(k),k.defaultPrevented||I(k)}return W.createElement("a",Zh({},_,{href:A||O,onClick:S||o?r:R,ref:n,target:g}))});var Tg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Tg||(Tg={}));var Ng;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Ng||(Ng={}));function A3(t,e){let{target:n,replace:r,state:s,preventScrollReset:o,relative:c,viewTransition:h}=e===void 0?{}:e,g=To(),p=Io(),x=F2(t,{relative:c});return W.useCallback(w=>{if(w3(w,n)){w.preventDefault();let _=r!==void 0?r:eu(p)===eu(x);g(t,{replace:_,state:s,preventScrollReset:o,relative:c,viewTransition:h})}},[p,g,x,r,s,n,t,o,c,h])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var I3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),zt=(t,e)=>{const n=W.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:c,className:h="",children:g,...p},x)=>W.createElement("svg",{ref:x,...I3,width:s,height:s,stroke:r,strokeWidth:c?Number(o)*24/Number(s):o,className:["lucide",`lucide-${T3(t)}`,h].join(" "),...p},[...e.map(([w,_])=>W.createElement(w,_)),...Array.isArray(g)?g:[g]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=zt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=zt("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qh=zt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=zt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=zt("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=zt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=zt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=zt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=zt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=zt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=zt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=zt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=zt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=zt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=zt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jd=zt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=zt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=zt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),M3="modulepreload",P3=function(t){return"/"+t},Dg={},xo=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),h=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=Promise.allSettled(n.map(g=>{if(g=P3(g),g in Dg)return;Dg[g]=!0;const p=g.endsWith(".css"),x=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${x}`))return;const w=document.createElement("link");if(w.rel=p?"stylesheet":M3,p||(w.as="script"),w.crossOrigin="",w.href=g,h&&w.setAttribute("nonce",h),document.head.appendChild(w),p)return new Promise((_,E)=>{w.addEventListener("load",_),w.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(c){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=c,window.dispatchEvent(h),!h.defaultPrevented)throw c}return s.then(c=>{for(const h of c||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})},L3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>xo(async()=>{const{default:r}=await Promise.resolve().then(()=>No);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class b0 extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class B3 extends b0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class j3 extends b0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class F3 extends b0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ef;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ef||(ef={}));var U3=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(x){try{p(r.next(x))}catch(w){c(w)}}function g(x){try{p(r.throw(x))}catch(w){c(w)}}function p(x){x.done?o(x.value):s(x.value).then(h,g)}p((r=r.apply(t,e||[])).next())})};class z3{constructor(e,{headers:n={},customFetch:r,region:s=ef.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=L3(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return U3(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:c}=n;let h={},{region:g}=n;g||(g=this.region),g&&g!=="any"&&(h["x-region"]=g);let p;c&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",p=c):typeof c=="string"?(h["Content-Type"]="text/plain",p=c):typeof FormData<"u"&&c instanceof FormData?p=c:(h["Content-Type"]="application/json",p=JSON.stringify(c)));const x=yield this.fetch(`${this.url}/${e}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),s),body:p}).catch(A=>{throw new B3(A)}),w=x.headers.get("x-relay-error");if(w&&w==="true")throw new j3(x);if(!x.ok)throw new F3(x);let _=((r=x.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),E;return _==="application/json"?E=yield x.json():_==="application/octet-stream"?E=yield x.blob():_==="text/event-stream"?E=x:_==="multipart/form-data"?E=yield x.formData():E=yield x.text(),{data:E,error:null}}catch(s){return{data:null,error:s}}})}}var Cn={},_0={},Ru={},gl={},Du={},Mu={},V3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yo=V3();const H3=yo.fetch,G2=yo.fetch.bind(yo),X2=yo.Headers,W3=yo.Request,G3=yo.Response,No=Object.freeze(Object.defineProperty({__proto__:null,Headers:X2,Request:W3,Response:G3,default:G2,fetch:H3},Symbol.toStringTag,{value:"Module"})),X3=Qw(No);var Pu={};Object.defineProperty(Pu,"__esModule",{value:!0});let $3=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Pu.default=$3;var $2=jt&&jt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Mu,"__esModule",{value:!0});const Y3=$2(X3),K3=$2(Pu);let q3=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Y3.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var c,h,g;let p=null,x=null,w=null,_=o.status,E=o.statusText;if(o.ok){if(this.method!=="HEAD"){const I=await o.text();I===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?x=I:x=JSON.parse(I))}const S=(c=this.headers.Prefer)===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),O=(h=o.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");S&&O&&O.length>1&&(w=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(p={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,w=null,_=406,E="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const S=await o.text();try{p=JSON.parse(S),Array.isArray(p)&&o.status===404&&(x=[],p=null,_=200,E="OK")}catch{o.status===404&&S===""?(_=204,E="No Content"):p={message:S}}if(p&&this.isMaybeSingle&&(!((g=p==null?void 0:p.details)===null||g===void 0)&&g.includes("0 rows"))&&(p=null,_=200,E="OK"),p&&this.shouldThrowOnError)throw new K3.default(p)}return{error:p,data:x,count:w,status:_,statusText:E}});return this.shouldThrowOnError||(s=s.catch(o=>{var c,h,g;return{error:{message:`${(c=o==null?void 0:o.name)!==null&&c!==void 0?c:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(h=o==null?void 0:o.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(g=o==null?void 0:o.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Mu.default=q3;var Z3=jt&&jt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Du,"__esModule",{value:!0});const Q3=Z3(Mu);let J3=class extends Q3.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const c=o?`${o}.order`:"order",h=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${h?`${h},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,c=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(c,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:c="text"}={}){var h;const g=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${p}"; options=${g};`,c==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Du.default=J3;var eC=jt&&jt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(gl,"__esModule",{value:!0});const tC=eC(Du);let nC=class extends tC.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const c=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${c}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};gl.default=nC;var rC=jt&&jt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ru,"__esModule",{value:!0});const Jo=rC(gl);let iC=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const c=(e??"*").split("").map(h=>/\s/.test(h)&&!o?"":(h==='"'&&(o=!o),h)).join("");return this.url.searchParams.set("select",c),r&&(this.headers.Prefer=`count=${r}`),new Jo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const c=e.reduce((h,g)=>h.concat(Object.keys(g)),[]);if(c.length>0){const h=[...new Set(c)].map(g=>`"${g}"`);this.url.searchParams.set("columns",h.join(","))}}return new Jo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){const c="POST",h=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&h.push(this.headers.Prefer),s&&h.push(`count=${s}`),o||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(e)){const g=e.reduce((p,x)=>p.concat(Object.keys(x)),[]);if(g.length>0){const p=[...new Set(g)].map(x=>`"${x}"`);this.url.searchParams.set("columns",p.join(","))}}return new Jo.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new Jo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Jo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ru.default=iC;var Lu={},Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});Bu.version=void 0;Bu.version="0.0.0-automated";Object.defineProperty(Lu,"__esModule",{value:!0});Lu.DEFAULT_HEADERS=void 0;const sC=Bu;Lu.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${sC.version}`};var Y2=jt&&jt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(_0,"__esModule",{value:!0});const oC=Y2(Ru),aC=Y2(gl),lC=Lu;let cC=class K2{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},lC.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new oC.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new K2(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:o}={}){let c;const h=new URL(`${this.url}/rpc/${e}`);let g;r||s?(c=r?"HEAD":"GET",Object.entries(n).filter(([x,w])=>w!==void 0).map(([x,w])=>[x,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([x,w])=>{h.searchParams.append(x,w)})):(c="POST",g=n);const p=Object.assign({},this.headers);return o&&(p.Prefer=`count=${o}`),new aC.default({method:c,url:h,headers:p,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}};_0.default=cC;var ko=jt&&jt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Cn,"__esModule",{value:!0});Cn.PostgrestError=Cn.PostgrestBuilder=Cn.PostgrestTransformBuilder=Cn.PostgrestFilterBuilder=Cn.PostgrestQueryBuilder=Cn.PostgrestClient=void 0;const q2=ko(_0);Cn.PostgrestClient=q2.default;const Z2=ko(Ru);Cn.PostgrestQueryBuilder=Z2.default;const Q2=ko(gl);Cn.PostgrestFilterBuilder=Q2.default;const J2=ko(Du);Cn.PostgrestTransformBuilder=J2.default;const ey=ko(Mu);Cn.PostgrestBuilder=ey.default;const ty=ko(Pu);Cn.PostgrestError=ty.default;var uC=Cn.default={PostgrestClient:q2.default,PostgrestQueryBuilder:Z2.default,PostgrestFilterBuilder:Q2.default,PostgrestTransformBuilder:J2.default,PostgrestBuilder:ey.default,PostgrestError:ty.default};const{PostgrestClient:dC,PostgrestQueryBuilder:sI,PostgrestFilterBuilder:oI,PostgrestTransformBuilder:aI,PostgrestBuilder:lI,PostgrestError:cI}=uC,hC="2.11.2",fC={"X-Client-Info":`realtime-js/${hC}`},gC="1.0.0",ny=1e4,pC=1e3;var so;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(so||(so={}));var kn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(kn||(kn={}));var or;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(or||(or={}));var tf;(function(t){t.websocket="websocket"})(tf||(tf={}));var ts;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ts||(ts={}));class mC{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),o=n.getUint8(2);let c=this.HEADER_LENGTH+2;const h=r.decode(e.slice(c,c+s));c=c+s;const g=r.decode(e.slice(c,c+o));c=c+o;const p=JSON.parse(r.decode(e.slice(c,e.byteLength)));return{ref:null,topic:h,event:g,payload:p}}}class ry{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var tt;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(tt||(tt={}));const Mg=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((o,c)=>(o[c]=xC(c,t,e,s),o),{})},xC=(t,e,n,r)=>{const s=e.find(h=>h.name===t),o=s==null?void 0:s.type,c=n[t];return o&&!r.includes(o)?iy(o,c):nf(c)},iy=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return bC(e,n)}switch(t){case tt.bool:return yC(e);case tt.float4:case tt.float8:case tt.int2:case tt.int4:case tt.int8:case tt.numeric:case tt.oid:return wC(e);case tt.json:case tt.jsonb:return vC(e);case tt.timestamp:return _C(e);case tt.abstime:case tt.date:case tt.daterange:case tt.int4range:case tt.int8range:case tt.money:case tt.reltime:case tt.text:case tt.time:case tt.timestamptz:case tt.timetz:case tt.tsrange:case tt.tstzrange:return nf(e);default:return nf(e)}},nf=t=>t,yC=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},wC=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},vC=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},bC=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let o;const c=t.slice(1,n);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(h=>iy(e,h))}return t},_C=t=>typeof t=="string"?t.replace(" ","T"):t,sy=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Fd{constructor(e,n,r={},s=ny){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Pg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Pg||(Pg={}));class _a{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:c,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_a.syncState(this.state,s,o,c),this.pendingDiffs.forEach(g=>{this.state=_a.syncDiff(this.state,g,o,c)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:c,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=_a.syncDiff(this.state,s,o,c),h())}),this.onJoin((s,o,c)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:c})}),this.onLeave((s,o,c)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const o=this.cloneDeep(e),c=this.transformState(n),h={},g={};return this.map(o,(p,x)=>{c[p]||(g[p]=x)}),this.map(c,(p,x)=>{const w=o[p];if(w){const _=x.map(O=>O.presence_ref),E=w.map(O=>O.presence_ref),A=x.filter(O=>E.indexOf(O.presence_ref)<0),S=w.filter(O=>_.indexOf(O.presence_ref)<0);A.length>0&&(h[p]=A),S.length>0&&(g[p]=S)}else h[p]=x}),this.syncDiff(o,{joins:h,leaves:g},r,s)}static syncDiff(e,n,r,s){const{joins:o,leaves:c}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(h,g)=>{var p;const x=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(g),x.length>0){const w=e[h].map(E=>E.presence_ref),_=x.filter(E=>w.indexOf(E.presence_ref)<0);e[h].unshift(..._)}r(h,x,g)}),this.map(c,(h,g)=>{let p=e[h];if(!p)return;const x=g.map(w=>w.presence_ref);p=p.filter(w=>x.indexOf(w.presence_ref)<0),e[h]=p,s(h,p,g),p.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Lg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Lg||(Lg={}));var Bg;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Bg||(Bg={}));var Br;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Br||(Br={}));class C0{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=kn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Fd(this,or.join,this.params,this.timeout),this.rejoinTimer=new ry(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=kn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=kn.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=kn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=kn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(or.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new _a(this),this.broadcastEndpointURL=sy(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:o,presence:c,private:h}}=this.params;this._onError(x=>e==null?void 0:e(Br.CHANNEL_ERROR,x)),this._onClose(()=>e==null?void 0:e(Br.CLOSED));const g={},p={broadcast:o,presence:c,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&s!==void 0?s:[],private:h};this.socket.accessTokenValue&&(g.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},g)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:x})=>{var w;if(this.socket.setAuth(),x===void 0){e==null||e(Br.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,E=(w=_==null?void 0:_.length)!==null&&w!==void 0?w:0,A=[];for(let S=0;S<E;S++){const O=_[S],{filter:{event:I,schema:R,table:k,filter:P}}=O,F=x&&x[S];if(F&&F.event===I&&F.schema===R&&F.table===k&&F.filter===P)A.push(Object.assign(Object.assign({},O),{id:F.id}));else{this.unsubscribe(),e==null||e(Br.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,e&&e(Br.SUBSCRIBED);return}}).receive("error",x=>{e==null||e(Br.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Br.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:o,payload:c}=e,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=p.body)===null||s===void 0?void 0:s.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,h,g;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((g=(h=(c=this.params)===null||c===void 0?void 0:c.config)===null||h===void 0?void 0:h.broadcast)===null||g===void 0)&&g.ack)&&o("ok"),p.receive("ok",()=>o("ok")),p.receive("error",()=>o("error")),p.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=kn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(or.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(r=>{const s=new Fd(this,or.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}async _fetchWithTimeout(e,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),c=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),c}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Fd(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,o;const c=e.toLocaleLowerCase(),{close:h,error:g,leave:p,join:x}=or;if(r&&[h,g,p,x].indexOf(c)>=0&&r!==this._joinRef())return;let _=this._onMessage(c,n,r);if(n&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(E=>{var A,S,O;return((A=E.filter)===null||A===void 0?void 0:A.event)==="*"||((O=(S=E.filter)===null||S===void 0?void 0:S.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===c}).map(E=>E.callback(_,r)):(o=this.bindings[c])===null||o===void 0||o.filter(E=>{var A,S,O,I,R,k;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in E){const P=E.id,F=(A=E.filter)===null||A===void 0?void 0:A.event;return P&&((S=n.ids)===null||S===void 0?void 0:S.includes(P))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const P=(R=(I=E==null?void 0:E.filter)===null||I===void 0?void 0:I.event)===null||R===void 0?void 0:R.toLocaleLowerCase();return P==="*"||P===((k=n==null?void 0:n.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===c}).map(E=>{if(typeof _=="object"&&"ids"in _){const A=_.data,{schema:S,table:O,commit_timestamp:I,type:R,errors:k}=A;_=Object.assign(Object.assign({},{schema:S,table:O,commit_timestamp:I,eventType:R,new:{},old:{},errors:k}),this._getPayloadRecords(A))}E.callback(_,r)})}_isClosed(){return this.state===kn.closed}_isJoined(){return this.state===kn.joined}_isJoining(){return this.state===kn.joining}_isLeaving(){return this.state===kn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&C0.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(or.close,{},e)}_onError(e){this._on(or.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=kn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Mg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Mg(e.columns,e.old_record)),n}}const CC=()=>{},EC=typeof WebSocket<"u",SC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class AC{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=fC,this.params={},this.timeout=ny,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=CC,this.conn=null,this.sendBuffer=[],this.serializer=new mC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let c;return o?c=o:typeof fetch>"u"?c=(...h)=>xo(async()=>{const{default:g}=await Promise.resolve().then(()=>No);return{default:g}},void 0).then(({default:g})=>g(...h)):c=fetch,(...h)=>c(...h)},this.endPoint=`${e}/${tf.websocket}`,this.httpEndpoint=sy(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(o,c)=>c(JSON.stringify(o)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ry(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(EC){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new IC(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),xo(async()=>{const{default:e}=await import("./browser-BMA_eY1t.js").then(n=>n.b);return{default:e}},[]).then(({default:e})=>{this.conn=new e(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:gC}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case so.connecting:return ts.Connecting;case so.open:return ts.Open;case so.closing:return ts.Closing;default:return ts.Closed}}isConnected(){return this.connectionState()===ts.Open}channel(e,n={config:{}}){const r=new C0(`realtime:${e}`,n,this);return this.channels.push(r),r}push(e){const{topic:n,event:r,payload:s,ref:o}=e,c=()=>{this.encode(e,h=>{var g;(g=this.conn)===null||g===void 0||g.send(h)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(n){let r=null;try{r=JSON.parse(atob(n.split(".")[1]))}catch{}if(r&&r.exp&&!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${r.exp}`);this.accessTokenValue=n,this.channels.forEach(s=>{n&&s.updateJoinPayload({access_token:n}),s.joinedOnce&&s._isJoined()&&s._push(or.access_token,{access_token:n})})}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(pC,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n._joinRef()!==e._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:o,ref:c}=n;c&&c===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${s} ${c&&"("+c+")"||""}`,o),this.channels.filter(h=>h._isMember(r)).forEach(h=>h._trigger(s,o,c)),this.stateChangeCallbacks.message.forEach(h=>h(n))})}async _onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(or.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([SC],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class IC{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=so.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class E0 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Lt(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class TC extends E0{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class rf extends E0{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var NC=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(x){try{p(r.next(x))}catch(w){c(w)}}function g(x){try{p(r.throw(x))}catch(w){c(w)}}function p(x){x.done?o(x.value):s(x.value).then(h,g)}p((r=r.apply(t,e||[])).next())})};const oy=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>xo(async()=>{const{default:r}=await Promise.resolve().then(()=>No);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},kC=()=>NC(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield xo(()=>Promise.resolve().then(()=>No),void 0)).Response:Response}),sf=t=>{if(Array.isArray(t))return t.map(n=>sf(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=sf(r)}),e};var vs=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(x){try{p(r.next(x))}catch(w){c(w)}}function g(x){try{p(r.throw(x))}catch(w){c(w)}}function p(x){x.done?o(x.value):s(x.value).then(h,g)}p((r=r.apply(t,e||[])).next())})};const Ud=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),OC=(t,e,n)=>vs(void 0,void 0,void 0,function*(){const r=yield kC();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new TC(Ud(s),t.status||500))}).catch(s=>{e(new rf(Ud(s),s))}):e(new rf(Ud(t),t))}),RC=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function pl(t,e,n,r,s,o){return vs(this,void 0,void 0,function*(){return new Promise((c,h)=>{t(n,RC(e,r,s,o)).then(g=>{if(!g.ok)throw g;return r!=null&&r.noResolveJson?g:g.json()}).then(g=>c(g)).catch(g=>OC(g,h,r))})})}function nu(t,e,n,r){return vs(this,void 0,void 0,function*(){return pl(t,"GET",e,n,r)})}function ci(t,e,n,r,s){return vs(this,void 0,void 0,function*(){return pl(t,"POST",e,r,s,n)})}function DC(t,e,n,r,s){return vs(this,void 0,void 0,function*(){return pl(t,"PUT",e,r,s,n)})}function MC(t,e,n,r){return vs(this,void 0,void 0,function*(){return pl(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function ay(t,e,n,r,s){return vs(this,void 0,void 0,function*(){return pl(t,"DELETE",e,r,s,n)})}var vn=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(x){try{p(r.next(x))}catch(w){c(w)}}function g(x){try{p(r.throw(x))}catch(w){c(w)}}function p(x){x.done?o(x.value):s(x.value).then(h,g)}p((r=r.apply(t,e||[])).next())})};const PC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},jg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class LC{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=oy(s)}uploadOrUpdate(e,n,r,s){return vn(this,void 0,void 0,function*(){try{let o;const c=Object.assign(Object.assign({},jg),s);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(c.upsert)});const g=c.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),g&&o.append("metadata",this.encodeMetadata(g)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",c.cacheControl),g&&o.append("metadata",this.encodeMetadata(g))):(o=r,h["cache-control"]=`max-age=${c.cacheControl}`,h["content-type"]=c.contentType,g&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(g)))),s!=null&&s.headers&&(h=Object.assign(Object.assign({},h),s.headers));const p=this._removeEmptyFolders(n),x=this._getFinalPath(p),w=yield this.fetch(`${this.url}/object/${x}`,Object.assign({method:e,body:o,headers:h},c!=null&&c.duplex?{duplex:c.duplex}:{})),_=yield w.json();return w.ok?{data:{path:p,id:_.Id,fullPath:_.Key},error:null}:{data:null,error:_}}catch(o){if(Lt(o))return{data:null,error:o};throw o}})}upload(e,n,r){return vn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return vn(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),c=this._getFinalPath(o),h=new URL(this.url+`/object/upload/sign/${c}`);h.searchParams.set("token",n);try{let g;const p=Object.assign({upsert:jg.upsert},s),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",p.cacheControl)):(g=r,x["cache-control"]=`max-age=${p.cacheControl}`,x["content-type"]=p.contentType);const w=yield this.fetch(h.toString(),{method:"PUT",body:g,headers:x}),_=yield w.json();return w.ok?{data:{path:o,fullPath:_.Key},error:null}:{data:null,error:_}}catch(g){if(Lt(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(e,n){return vn(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield ci(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),c=new URL(this.url+o.url),h=c.searchParams.get("token");if(!h)throw new E0("No token returned by API");return{data:{signedUrl:c.toString(),path:e,token:h},error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}update(e,n,r){return vn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return vn(this,void 0,void 0,function*(){try{return{data:yield ci(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Lt(s))return{data:null,error:s};throw s}})}copy(e,n,r){return vn(this,void 0,void 0,function*(){try{return{data:{path:(yield ci(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Lt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return vn(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield ci(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(s){if(Lt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return vn(this,void 0,void 0,function*(){try{const s=yield ci(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(c=>Object.assign(Object.assign({},c),{signedUrl:c.signedURL?encodeURI(`${this.url}${c.signedURL}${o}`):null})),error:null}}catch(s){if(Lt(s))return{data:null,error:s};throw s}})}download(e,n){return vn(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),c=o?`?${o}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield nu(this.fetch,`${this.url}/${s}/${h}${c}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(Lt(h))return{data:null,error:h};throw h}})}info(e){return vn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield nu(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:sf(r),error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}exists(e){return vn(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield MC(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Lt(r)&&r instanceof rf){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",g=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});g!==""&&s.push(g);let p=s.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${p}`)}}}remove(e){return vn(this,void 0,void 0,function*(){try{return{data:yield ay(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}list(e,n,r){return vn(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},PC),n),{prefix:e||""});return{data:yield ci(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(Lt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const BC="2.7.1",jC={"X-Client-Info":`storage-js/${BC}`};var Ms=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(x){try{p(r.next(x))}catch(w){c(w)}}function g(x){try{p(r.throw(x))}catch(w){c(w)}}function p(x){x.done?o(x.value):s(x.value).then(h,g)}p((r=r.apply(t,e||[])).next())})};class FC{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},jC),n),this.fetch=oy(r)}listBuckets(){return Ms(this,void 0,void 0,function*(){try{return{data:yield nu(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Lt(e))return{data:null,error:e};throw e}})}getBucket(e){return Ms(this,void 0,void 0,function*(){try{return{data:yield nu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Ms(this,void 0,void 0,function*(){try{return{data:yield ci(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Ms(this,void 0,void 0,function*(){try{return{data:yield DC(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Lt(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Ms(this,void 0,void 0,function*(){try{return{data:yield ci(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Ms(this,void 0,void 0,function*(){try{return{data:yield ay(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(Lt(n))return{data:null,error:n};throw n}})}}class UC extends FC{constructor(e,n={},r){super(e,n,r)}from(e){return new LC(this.url,this.headers,e,this.fetch)}}const zC="2.49.1";let ca="";typeof Deno<"u"?ca="deno":typeof document<"u"?ca="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ca="react-native":ca="node";const VC={"X-Client-Info":`supabase-js-${ca}/${zC}`},HC={headers:VC},WC={schema:"public"},GC={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},XC={};var $C=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(x){try{p(r.next(x))}catch(w){c(w)}}function g(x){try{p(r.throw(x))}catch(w){c(w)}}function p(x){x.done?o(x.value):s(x.value).then(h,g)}p((r=r.apply(t,e||[])).next())})};const YC=t=>{let e;return t?e=t:typeof fetch>"u"?e=G2:e=fetch,(...n)=>e(...n)},KC=()=>typeof Headers>"u"?X2:Headers,qC=(t,e,n)=>{const r=YC(n),s=KC();return(o,c)=>$C(void 0,void 0,void 0,function*(){var h;const g=(h=yield e())!==null&&h!==void 0?h:t;let p=new s(c==null?void 0:c.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),r(o,Object.assign(Object.assign({},c),{headers:p}))})};var ZC=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(x){try{p(r.next(x))}catch(w){c(w)}}function g(x){try{p(r.throw(x))}catch(w){c(w)}}function p(x){x.done?o(x.value):s(x.value).then(h,g)}p((r=r.apply(t,e||[])).next())})};function QC(t){return t.replace(/\/$/,"")}function JC(t,e){const{db:n,auth:r,realtime:s,global:o}=t,{db:c,auth:h,realtime:g,global:p}=e,x={db:Object.assign(Object.assign({},c),n),auth:Object.assign(Object.assign({},h),r),realtime:Object.assign(Object.assign({},g),s),global:Object.assign(Object.assign({},p),o),accessToken:()=>ZC(this,void 0,void 0,function*(){return""})};return t.accessToken?x.accessToken=t.accessToken:delete x.accessToken,x}const ly="2.68.0",js=30*1e3,of=3,zd=of*js,eE="http://localhost:9999",tE="supabase.auth.token",nE={"X-Client-Info":`gotrue-js/${ly}`},af="X-Supabase-Api-Version",cy={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}};function rE(t){return Math.round(Date.now()/1e3)+t}function iE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const br=()=>typeof window<"u"&&typeof document<"u",Wi={tested:!1,writable:!1},Ca=()=>{if(!br())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Wi.tested)return Wi.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Wi.tested=!0,Wi.writable=!0}catch{Wi.tested=!0,Wi.writable=!1}return Wi.writable};function sE(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const uy=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>xo(async()=>{const{default:r}=await Promise.resolve().then(()=>No);return{default:r}},void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},oE=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",dy=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},$l=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Yl=async(t,e)=>{await t.removeItem(e)};function aE(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let n="",r,s,o,c,h,g,p,x=0;for(t=t.replace("-","+").replace("_","/");x<t.length;)c=e.indexOf(t.charAt(x++)),h=e.indexOf(t.charAt(x++)),g=e.indexOf(t.charAt(x++)),p=e.indexOf(t.charAt(x++)),r=c<<2|h>>4,s=(h&15)<<4|g>>2,o=(g&3)<<6|p,n=n+String.fromCharCode(r),g!=64&&s!=0&&(n=n+String.fromCharCode(s)),p!=64&&o!=0&&(n=n+String.fromCharCode(o));return n}class ju{constructor(){this.promise=new ju.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}ju.promiseConstructor=Promise;function Fg(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,n=t.split(".");if(n.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(n[1]))throw new Error("JWT is not valid: payload is not in base64url format");const r=n[1];return JSON.parse(aE(r))}async function lE(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function cE(t,e){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await t(o);if(!e(o,null,c)){r(c);return}}catch(c){if(!e(o,c)){s(c);return}}})()})}function uE(t){return("0"+t.toString(16)).substr(-2)}function dE(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,uE).join("")}async function hE(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}function fE(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function gE(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await hE(t);return fE(n)}async function Ps(t,e,n=!1){const r=dE();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await dy(t,`${e}-code-verifier`,s);const o=await gE(r);return[o,r===o?"plain":"s256"]}const pE=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mE(t){const e=t.headers.get(af);if(!e||!e.match(pE))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}class S0 extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function Ie(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class xE extends S0{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function yE(t){return Ie(t)&&t.name==="AuthApiError"}class hy extends S0{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class bs extends S0{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class ii extends bs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wE(t){return Ie(t)&&t.name==="AuthSessionMissingError"}class Vd extends bs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Kl extends bs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ql extends bs{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function vE(t){return Ie(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ug extends bs{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lf extends bs{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Hd(t){return Ie(t)&&t.name==="AuthRetryableFetchError"}class zg extends bs{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}var bE=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Zi=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_E=[502,503,504];async function Vg(t){var e;if(!oE(t))throw new lf(Zi(t),0);if(_E.includes(t.status))throw new lf(Zi(t),t.status);let n;try{n=await t.json()}catch(o){throw new hy(Zi(o),o)}let r;const s=mE(t);if(s&&s.getTime()>=cy["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new zg(Zi(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ii}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new zg(Zi(n),t.status,n.weak_password.reasons);throw new xE(Zi(n),t.status||500,r)}const CE=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Me(t,e,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[af]||(o[af]=cy["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const c=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(c.redirect_to=r.redirectTo);const h=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",g=await EE(t,e,n+h,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(g):{data:Object.assign({},g),error:null}}async function EE(t,e,n,r,s,o){const c=CE(e,r,s,o);let h;try{h=await t(n,Object.assign({},c))}catch(g){throw console.error(g),new lf(Zi(g),0)}if(h.ok||await Vg(h),r!=null&&r.noResolveJson)return h;try{return await h.json()}catch(g){await Vg(g)}}function si(t){var e;let n=null;TE(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=rE(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Hg(t){const e=si(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function hi(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function SE(t){return{data:t,error:null}}function AE(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=t,c=bE(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},g=Object.assign({},c);return{data:{properties:h,user:g},error:null}}function IE(t){return t}function TE(t){return t.access_token&&t.refresh_token&&t.expires_in}var NE=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class kE{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=uy(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n="global"){try{return await Me(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Ie(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Me(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:hi})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=NE(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:AE,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Ie(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Me(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:hi})}catch(n){if(Ie(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,o,c,h,g;try{const p={nextPage:null,lastPage:0,total:0},x=await Me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:IE});if(x.error)throw x.error;const w=await x.json(),_=(c=x.headers.get("x-total-count"))!==null&&c!==void 0?c:0,E=(g=(h=x.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(A=>{const S=parseInt(A.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(A.split(";")[1].split("=")[1]);p[`${O}Page`]=S}),p.total=parseInt(_)),{data:Object.assign(Object.assign({},w),p),error:null}}catch(p){if(Ie(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){try{return await Me(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:hi})}catch(n){if(Ie(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){try{return await Me(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:hi})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){try{return await Me(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:hi})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:n,error:r}=await Me(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _deleteFactor(e){try{return{data:await Me(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}}const OE={getItem:t=>Ca()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Ca()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Ca()&&globalThis.localStorage.removeItem(t)}};function Wg(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function RE(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ls={debug:!!(globalThis&&Ca()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class fy extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class DE extends fy{}async function ME(t,e,n){Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new DE(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ls.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}RE();const PE={url:eE,storageKey:tE,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nE,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Gg(t,e,n){return await n()}class Za{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Za.nextInstanceID,Za.nextInstanceID+=1,this.instanceID>0&&br()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},PE),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new kE({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=uy(s.fetch),this.lock=s.lock||Gg,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:br()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=ME:this.lock=Gg,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ca()?this.storage=OE:(this.memoryStorage={},this.storage=Wg(this.memoryStorage)):(this.memoryStorage={},this.storage=Wg(this.memoryStorage)),br()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ly}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=sE(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),br()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),vE(o)){const g=(e=o.details)===null||e===void 0?void 0:e.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:c,redirectType:h}=s;return this._debug("#_initialize()","detected session in URL",c,"redirect type",h),await this._saveSession(c),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Ie(n)?{error:n}:{error:new hy("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const o=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:si}),{data:c,error:h}=o;if(h||!c)return{data:{user:null,session:null},error:h};const g=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(o){if(Ie(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var n,r,s;try{let o;if("email"in e){const{email:x,password:w,options:_}=e;let E=null,A=null;this.flowType==="pkce"&&([E,A]=await Ps(this.storage,this.storageKey)),o=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:x,password:w,data:(n=_==null?void 0:_.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:E,code_challenge_method:A},xform:si})}else if("phone"in e){const{phone:x,password:w,options:_}=e;o=await Me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:w,data:(r=_==null?void 0:_.data)!==null&&r!==void 0?r:{},channel:(s=_==null?void 0:_.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:si})}else throw new Kl("You must provide either an email or phone number and a password");const{data:c,error:h}=o;if(h||!c)return{data:{user:null,session:null},error:h};const g=c.session,p=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(o){if(Ie(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let n;if("email"in e){const{email:o,password:c,options:h}=e;n=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Hg})}else if("phone"in e){const{phone:o,password:c,options:h}=e;n=await Me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Hg})}else throw new Kl("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Vd}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(Ie(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const n=await $l(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:c}=await Me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:si});if(await Yl(this.storage,`${this.storageKey}-code-verifier`),c)throw c;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Vd}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:c})}catch(o){if(Ie(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:o,nonce:c}=e,h=await Me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:si}),{data:g,error:p}=h;return p?{data:{user:null,session:null},error:p}:!g||!g.session||!g.user?{data:{user:null,session:null},error:new Vd}:(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),{data:g,error:p})}catch(n){if(Ie(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,o,c;try{if("email"in e){const{email:h,options:g}=e;let p=null,x=null;this.flowType==="pkce"&&([p,x]=await Ps(this.storage,this.storageKey));const{error:w}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},create_user:(r=g==null?void 0:g.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:x},redirectTo:g==null?void 0:g.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in e){const{phone:h,options:g}=e,{data:p,error:x}=await Me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(s=g==null?void 0:g.data)!==null&&s!==void 0?s:{},create_user:(o=g==null?void 0:g.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(c=g==null?void 0:g.channel)!==null&&c!==void 0?c:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:x}}throw new Kl("You must provide either an email or phone number.")}catch(h){if(Ie(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var n,r;try{let s,o;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:c,error:h}=await Me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:si});if(h)throw h;if(!c)throw new Error("An error occurred on token verification.");const g=c.session,p=c.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),{data:{user:p,session:g},error:null}}catch(s){if(Ie(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let o=null,c=null;return this.flowType==="pkce"&&([o,c]=await Ps(this.storage,this.storageKey)),await Me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:c}),headers:this.headers,xform:SE})}catch(o){if(Ie(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new ii;const{error:s}=await Me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Ie(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:o}=e,{error:c}=await Me(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:c}}else if("phone"in e){const{phone:r,type:s,options:o}=e,{data:c,error:h}=await Me(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:h}}throw new Kl("You must provide either an email or phone number and a type")}catch(n){if(Ie(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await $l(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<zd:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let c=this.suppressGetSessionWarning;e=new Proxy(e,{get:(g,p,x)=>(!c&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),c=!0,this.suppressGetSessionWarning=!0),Reflect.get(g,p,x))})}return{data:{session:e},error:null}}const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:hi}):await this._useSession(async n=>{var r,s,o;const{data:c,error:h}=n;if(h)throw h;return!(!((r=c.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ii}:await Me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=c.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:hi})})}catch(n){if(Ie(n))return wE(n)&&(await this._removeSession(),await Yl(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new ii;const c=s.session;let h=null,g=null;this.flowType==="pkce"&&e.email!=null&&([h,g]=await Ps(this.storage,this.storageKey));const{data:p,error:x}=await Me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:g}),jwt:c.access_token,xform:hi});if(x)throw x;return c.user=p.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}})}catch(r){if(Ie(r))return{data:{user:null},error:r};throw r}}_decodeJWT(e){return Fg(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ii;const n=Date.now()/1e3;let r=n,s=!0,o=null;const c=Fg(e.access_token);if(c.exp&&(r=c.exp,s=r<=n),s){const{session:h,error:g}=await this._callRefreshToken(e.refresh_token);if(g)return{data:{user:null,session:null},error:g};if(!h)return{data:{user:null,session:null},error:null};o=h}else{const{data:h,error:g}=await this._getUser(e.access_token);if(g)throw g;o={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(Ie(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:c,error:h}=n;if(h)throw h;e=(r=c.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ii;const{session:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Ie(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!br())throw new ql("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ql(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ug("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ql("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ug("No code detected.");const{data:R,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:R.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:c,expires_in:h,expires_at:g,token_type:p}=e;if(!o||!h||!c||!p)throw new ql("No session defined in URL");const x=Math.round(Date.now()/1e3),w=parseInt(h);let _=x+w;g&&(_=parseInt(g));const E=_-x;E*1e3<=js&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${w}s`);const A=_-w;x-A>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",A,_,x):x-A<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",A,_,x);const{data:S,error:O}=await this._getUser(o);if(O)throw O;const I={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:w,expires_at:_,refresh_token:c,token_type:p,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:I,redirectType:e.type},error:null}}catch(r){if(Ie(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await $l(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const c=(r=s.session)===null||r===void 0?void 0:r.access_token;if(c){const{error:h}=await this.admin.signOut(c,e);if(h&&!(yE(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await Yl(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=iE(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:c}=n;if(c)throw c;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ps(this.storage,this.storageKey,!0));try{return await Me(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(Ie(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var c,h,g,p,x;const{data:w,error:_}=o;if(_)throw _;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(g=e.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Me(this.fetch,"GET",E,{headers:this.headers,jwt:(x=(p=w.session)===null||p===void 0?void 0:p.access_token)!==null&&x!==void 0?x:void 0})});if(s)throw s;return br()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(Ie(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:o,error:c}=n;if(c)throw c;return await Me(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await cE(async s=>(s>0&&await lE(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:si})),(s,o)=>{const c=200*Math.pow(2,s);return o&&Hd(o)&&Date.now()+c-r<js})}catch(r){if(this._debug(n,"error",r),Ie(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),br()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await $l(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<zd;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${zd}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:o}=await this._callRefreshToken(r.refresh_token);o&&(console.error(o),Hd(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new ii;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ju;const{data:o,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!o.session)throw new ii;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const h={session:o.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(o){if(this._debug(s,"error",o),Ie(o)){const c={session:null,error:o};return Hd(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(c),c}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(g){o.push(g)}});if(await Promise.all(c),o.length>0){for(let h=0;h<o.length;h+=1)console.error(o[h]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await dy(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Yl(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&br()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),js);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/js);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${js}ms, refresh threshold is ${of} ticks`),s<=of&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof fy)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!br()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,c]=await Ps(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});s.push(h.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Me(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:o,error:c}=n;if(c)return{data:null,error:c};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:g,error:p}=await Me(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((s=g==null?void 0:g.totp)===null||s===void 0)&&s.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),{data:g,error:null})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:c,error:h}=await Me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),{data:c,error:h})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await Me(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(Ie(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(c=>c.factor_type==="totp"&&c.status==="verified"),o=r.filter(c=>c.factor_type==="phone"&&c.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:o}=e;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const c=this._decodeJWT(s.access_token);let h=null;c.aal&&(h=c.aal);let g=h;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(w=>w.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(g="aal2");const x=c.amr||[];return{data:{currentLevel:h,nextLevel:g,currentAuthenticationMethods:x},error:null}}))}}Za.nextInstanceID=0;const LE=Za;class BE extends LE{constructor(e){super(e)}}var jE=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(x){try{p(r.next(x))}catch(w){c(w)}}function g(x){try{p(r.throw(x))}catch(w){c(w)}}function p(x){x.done?o(x.value):s(x.value).then(h,g)}p((r=r.apply(t,e||[])).next())})};class FE{constructor(e,n,r){var s,o,c;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=QC(e);this.realtimeUrl=`${h}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${h}/auth/v1`,this.storageUrl=`${h}/storage/v1`,this.functionsUrl=`${h}/functions/v1`;const g=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,p={db:WC,realtime:XC,auth:Object.assign(Object.assign({},GC),{storageKey:g}),global:HC},x=JC(r??{},p);this.storageKey=(s=x.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=x.global.headers)!==null&&o!==void 0?o:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(w,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((c=x.auth)!==null&&c!==void 0?c:{},this.headers,x.global.fetch),this.fetch=qC(n,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new dC(`${h}/rest/v1`,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),x.accessToken||this._listenForAuthEvents()}get functions(){return new z3(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new UC(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return jE(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:o,flowType:c,lock:h,debug:g},p,x){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new BE({url:this.authUrl,headers:Object.assign(Object.assign({},w),p),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:c,lock:h,debug:g,fetch:x,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new AC(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const UE=(t,e,n)=>new FE(t,e,n),zE="https://eblwlxxxasiqtswndynr.supabase.co",VE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVibHdseHh4YXNpcXRzd25keW5yIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDA5MDA3OTMsImV4cCI6MjA1NjQ3Njc5M30.0dZGVipSV2tmXw0KwRjiJarHFOVNaffgVdyCrjZxdy4",nt=UE(zE,VE);function gy(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=gy(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function mi(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=gy(t))&&(r&&(r+=" "),r+=e);return r}const Qa=t=>typeof t=="number"&&!isNaN(t),us=t=>typeof t=="string",Mn=t=>typeof t=="function",Sc=t=>us(t)||Mn(t)?t:null,cf=t=>W.isValidElement(t)||us(t)||Mn(t)||Qa(t);function HE(t,e,n){n===void 0&&(n=300);const{scrollHeight:r,style:s}=t;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(e,n)})})}function Fu(t){let{enter:e,exit:n,appendPosition:r=!1,collapse:s=!0,collapseDuration:o=300}=t;return function(c){let{children:h,position:g,preventExitTransition:p,done:x,nodeRef:w,isIn:_,playToast:E}=c;const A=r?`${e}--${g}`:e,S=r?`${n}--${g}`:n,O=W.useRef(0);return W.useLayoutEffect(()=>{const I=w.current,R=A.split(" "),k=P=>{P.target===w.current&&(E(),I.removeEventListener("animationend",k),I.removeEventListener("animationcancel",k),O.current===0&&P.type!=="animationcancel"&&I.classList.remove(...R))};I.classList.add(...R),I.addEventListener("animationend",k),I.addEventListener("animationcancel",k)},[]),W.useEffect(()=>{const I=w.current,R=()=>{I.removeEventListener("animationend",R),s?HE(I,x,o):x()};_||(p?R():(O.current=1,I.className+=` ${S}`,I.addEventListener("animationend",R)))},[_]),Ge.createElement(Ge.Fragment,null,h)}}function Xg(t,e){return t!=null?{content:t.content,containerId:t.props.containerId,id:t.props.toastId,theme:t.props.theme,type:t.props.type,data:t.props.data||{},isLoading:t.props.isLoading,icon:t.props.icon,status:e}:{}}const cn=new Map;let Ja=[];const uf=new Set,WE=t=>uf.forEach(e=>e(t)),py=()=>cn.size>0;function my(t,e){var n;if(e)return!((n=cn.get(e))==null||!n.isToastActive(t));let r=!1;return cn.forEach(s=>{s.isToastActive(t)&&(r=!0)}),r}function xy(t,e){cf(t)&&(py()||Ja.push({content:t,options:e}),cn.forEach(n=>{n.buildToast(t,e)}))}function $g(t,e){cn.forEach(n=>{e!=null&&e!=null&&e.containerId?(e==null?void 0:e.containerId)===n.id&&n.toggle(t,e==null?void 0:e.id):n.toggle(t,e==null?void 0:e.id)})}function GE(t){const{subscribe:e,getSnapshot:n,setProps:r}=W.useRef(function(o){const c=o.containerId||1;return{subscribe(h){const g=function(x,w,_){let E=1,A=0,S=[],O=[],I=[],R=w;const k=new Map,P=new Set,F=()=>{I=Array.from(k.values()),P.forEach(z=>z())},H=z=>{O=z==null?[]:O.filter(V=>V!==z),F()},B=z=>{const{toastId:V,onOpen:J,updateId:se,children:Q}=z.props,ge=se==null;z.staleId&&k.delete(z.staleId),k.set(V,z),O=[...O,z.props.toastId].filter(Se=>Se!==z.staleId),F(),_(Xg(z,ge?"added":"updated")),ge&&Mn(J)&&J(W.isValidElement(Q)&&Q.props)};return{id:x,props:R,observe:z=>(P.add(z),()=>P.delete(z)),toggle:(z,V)=>{k.forEach(J=>{V!=null&&V!==J.props.toastId||Mn(J.toggle)&&J.toggle(z)})},removeToast:H,toasts:k,clearQueue:()=>{A-=S.length,S=[]},buildToast:(z,V)=>{if((xe=>{let{containerId:Ue,toastId:Ce,updateId:ct}=xe;const oe=Ue?Ue!==x:x!==1,fn=k.has(Ce)&&ct==null;return oe||fn})(V))return;const{toastId:J,updateId:se,data:Q,staleId:ge,delay:Se}=V,$=()=>{H(J)},be=se==null;be&&A++;const ae={...R,style:R.toastStyle,key:E++,...Object.fromEntries(Object.entries(V).filter(xe=>{let[Ue,Ce]=xe;return Ce!=null})),toastId:J,updateId:se,data:Q,closeToast:$,isIn:!1,className:Sc(V.className||R.toastClassName),bodyClassName:Sc(V.bodyClassName||R.bodyClassName),progressClassName:Sc(V.progressClassName||R.progressClassName),autoClose:!V.isLoading&&(re=V.autoClose,de=R.autoClose,re===!1||Qa(re)&&re>0?re:de),deleteToast(){const xe=k.get(J),{onClose:Ue,children:Ce}=xe.props;Mn(Ue)&&Ue(W.isValidElement(Ce)&&Ce.props),_(Xg(xe,"removed")),k.delete(J),A--,A<0&&(A=0),S.length>0?B(S.shift()):F()}};var re,de;ae.closeButton=R.closeButton,V.closeButton===!1||cf(V.closeButton)?ae.closeButton=V.closeButton:V.closeButton===!0&&(ae.closeButton=!cf(R.closeButton)||R.closeButton);let he=z;W.isValidElement(z)&&!us(z.type)?he=W.cloneElement(z,{closeToast:$,toastProps:ae,data:Q}):Mn(z)&&(he=z({closeToast:$,toastProps:ae,data:Q}));const ke={content:he,props:ae,staleId:ge};R.limit&&R.limit>0&&A>R.limit&&be?S.push(ke):Qa(Se)?setTimeout(()=>{B(ke)},Se):B(ke)},setProps(z){R=z},setToggle:(z,V)=>{k.get(z).toggle=V},isToastActive:z=>O.some(V=>V===z),getSnapshot:()=>I}}(c,o,WE);cn.set(c,g);const p=g.observe(h);return Ja.forEach(x=>xy(x.content,x.options)),Ja=[],()=>{p(),cn.delete(c)}},setProps(h){var g;(g=cn.get(c))==null||g.setProps(h)},getSnapshot(){var h;return(h=cn.get(c))==null?void 0:h.getSnapshot()}}}(t)).current;r(t);const s=W.useSyncExternalStore(e,n,n);return{getToastToRender:function(o){if(!s)return[];const c=new Map;return t.newestOnTop&&s.reverse(),s.forEach(h=>{const{position:g}=h.props;c.has(g)||c.set(g,[]),c.get(g).push(h)}),Array.from(c,h=>o(h[0],h[1]))},isToastActive:my,count:s==null?void 0:s.length}}function XE(t){const[e,n]=W.useState(!1),[r,s]=W.useState(!1),o=W.useRef(null),c=W.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:h,pauseOnHover:g,closeToast:p,onClick:x,closeOnClick:w}=t;var _,E;function A(){n(!0)}function S(){n(!1)}function O(k){const P=o.current;c.canDrag&&P&&(c.didMove=!0,e&&S(),c.delta=t.draggableDirection==="x"?k.clientX-c.start:k.clientY-c.start,c.start!==k.clientX&&(c.canCloseOnClick=!1),P.style.transform=`translate3d(${t.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`},0)`,P.style.opacity=""+(1-Math.abs(c.delta/c.removalDistance)))}function I(){document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",I);const k=o.current;if(c.canDrag&&c.didMove&&k){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance)return s(!0),t.closeToast(),void t.collapseAll();k.style.transition="transform 0.2s, opacity 0.2s",k.style.removeProperty("transform"),k.style.removeProperty("opacity")}}(E=cn.get((_={id:t.toastId,containerId:t.containerId,fn:n}).containerId||1))==null||E.setToggle(_.id,_.fn),W.useEffect(()=>{if(t.pauseOnFocusLoss)return document.hasFocus()||S(),window.addEventListener("focus",A),window.addEventListener("blur",S),()=>{window.removeEventListener("focus",A),window.removeEventListener("blur",S)}},[t.pauseOnFocusLoss]);const R={onPointerDown:function(k){if(t.draggable===!0||t.draggable===k.pointerType){c.didMove=!1,document.addEventListener("pointermove",O),document.addEventListener("pointerup",I);const P=o.current;c.canCloseOnClick=!0,c.canDrag=!0,P.style.transition="none",t.draggableDirection==="x"?(c.start=k.clientX,c.removalDistance=P.offsetWidth*(t.draggablePercent/100)):(c.start=k.clientY,c.removalDistance=P.offsetHeight*(t.draggablePercent===80?1.5*t.draggablePercent:t.draggablePercent)/100)}},onPointerUp:function(k){const{top:P,bottom:F,left:H,right:B}=o.current.getBoundingClientRect();k.nativeEvent.type!=="touchend"&&t.pauseOnHover&&k.clientX>=H&&k.clientX<=B&&k.clientY>=P&&k.clientY<=F?S():A()}};return h&&g&&(R.onMouseEnter=S,t.stacked||(R.onMouseLeave=A)),w&&(R.onClick=k=>{x&&x(k),c.canCloseOnClick&&p()}),{playToast:A,pauseToast:S,isRunning:e,preventExitTransition:r,toastRef:o,eventHandlers:R}}function $E(t){let{delay:e,isRunning:n,closeToast:r,type:s="default",hide:o,className:c,style:h,controlledProgress:g,progress:p,rtl:x,isIn:w,theme:_}=t;const E=o||g&&p===0,A={...h,animationDuration:`${e}ms`,animationPlayState:n?"running":"paused"};g&&(A.transform=`scaleX(${p})`);const S=mi("Toastify__progress-bar",g?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${_}`,`Toastify__progress-bar--${s}`,{"Toastify__progress-bar--rtl":x}),O=Mn(c)?c({rtl:x,type:s,defaultClassName:S}):mi(S,c),I={[g&&p>=1?"onTransitionEnd":"onAnimationEnd"]:g&&p<1?null:()=>{w&&r()}};return Ge.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":E},Ge.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${_} Toastify__progress-bar--${s}`}),Ge.createElement("div",{role:"progressbar","aria-hidden":E?"true":"false","aria-label":"notification timer",className:O,style:A,...I}))}let YE=1;const yy=()=>""+YE++;function KE(t){return t&&(us(t.toastId)||Qa(t.toastId))?t.toastId:yy()}function Ea(t,e){return xy(t,e),e.toastId}function ru(t,e){return{...e,type:e&&e.type||t,toastId:KE(e)}}function Zl(t){return(e,n)=>Ea(e,ru(t,n))}function _e(t,e){return Ea(t,ru("default",e))}_e.loading=(t,e)=>Ea(t,ru("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...e})),_e.promise=function(t,e,n){let r,{pending:s,error:o,success:c}=e;s&&(r=us(s)?_e.loading(s,n):_e.loading(s.render,{...n,...s}));const h={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},g=(x,w,_)=>{if(w==null)return void _e.dismiss(r);const E={type:x,...h,...n,data:_},A=us(w)?{render:w}:w;return r?_e.update(r,{...E,...A}):_e(A.render,{...E,...A}),_},p=Mn(t)?t():t;return p.then(x=>g("success",c,x)).catch(x=>g("error",o,x)),p},_e.success=Zl("success"),_e.info=Zl("info"),_e.error=Zl("error"),_e.warning=Zl("warning"),_e.warn=_e.warning,_e.dark=(t,e)=>Ea(t,ru("default",{theme:"dark",...e})),_e.dismiss=function(t){(function(e){var n;if(py()){if(e==null||us(n=e)||Qa(n))cn.forEach(r=>{r.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){const r=cn.get(e.containerId);r?r.removeToast(e.id):cn.forEach(s=>{s.removeToast(e.id)})}}else Ja=Ja.filter(r=>e!=null&&r.options.toastId!==e)})(t)},_e.clearWaitingQueue=function(t){t===void 0&&(t={}),cn.forEach(e=>{!e.props.limit||t.containerId&&e.id!==t.containerId||e.clearQueue()})},_e.isActive=my,_e.update=function(t,e){e===void 0&&(e={});const n=((r,s)=>{var o;let{containerId:c}=s;return(o=cn.get(c||1))==null?void 0:o.toasts.get(r)})(t,e);if(n){const{props:r,content:s}=n,o={delay:100,...r,...e,toastId:e.toastId||t,updateId:yy()};o.toastId!==t&&(o.staleId=t);const c=o.render||s;delete o.render,Ea(c,o)}},_e.done=t=>{_e.update(t,{progress:1})},_e.onChange=function(t){return uf.add(t),()=>{uf.delete(t)}},_e.play=t=>$g(!0,t),_e.pause=t=>$g(!1,t);const qE=typeof window<"u"?W.useLayoutEffect:W.useEffect,Ql=t=>{let{theme:e,type:n,isLoading:r,...s}=t;return Ge.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${n})`,...s})},Wd={info:function(t){return Ge.createElement(Ql,{...t},Ge.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(t){return Ge.createElement(Ql,{...t},Ge.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(t){return Ge.createElement(Ql,{...t},Ge.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(t){return Ge.createElement(Ql,{...t},Ge.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Ge.createElement("div",{className:"Toastify__spinner"})}},ZE=t=>{const{isRunning:e,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:o}=XE(t),{closeButton:c,children:h,autoClose:g,onClick:p,type:x,hideProgressBar:w,closeToast:_,transition:E,position:A,className:S,style:O,bodyClassName:I,bodyStyle:R,progressClassName:k,progressStyle:P,updateId:F,role:H,progress:B,rtl:z,toastId:V,deleteToast:J,isIn:se,isLoading:Q,closeOnClick:ge,theme:Se}=t,$=mi("Toastify__toast",`Toastify__toast-theme--${Se}`,`Toastify__toast--${x}`,{"Toastify__toast--rtl":z},{"Toastify__toast--close-on-click":ge}),be=Mn(S)?S({rtl:z,position:A,type:x,defaultClassName:$}):mi($,S),ae=function(ke){let{theme:xe,type:Ue,isLoading:Ce,icon:ct}=ke,oe=null;const fn={theme:xe,type:Ue};return ct===!1||(Mn(ct)?oe=ct({...fn,isLoading:Ce}):W.isValidElement(ct)?oe=W.cloneElement(ct,fn):Ce?oe=Wd.spinner():(St=>St in Wd)(Ue)&&(oe=Wd[Ue](fn))),oe}(t),re=!!B||!g,de={closeToast:_,type:x,theme:Se};let he=null;return c===!1||(he=Mn(c)?c(de):W.isValidElement(c)?W.cloneElement(c,de):function(ke){let{closeToast:xe,theme:Ue,ariaLabel:Ce="close"}=ke;return Ge.createElement("button",{className:`Toastify__close-button Toastify__close-button--${Ue}`,type:"button",onClick:ct=>{ct.stopPropagation(),xe(ct)},"aria-label":Ce},Ge.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ge.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(de)),Ge.createElement(E,{isIn:se,done:J,position:A,preventExitTransition:n,nodeRef:r,playToast:o},Ge.createElement("div",{id:V,onClick:p,"data-in":se,className:be,...s,style:O,ref:r},Ge.createElement("div",{...se&&{role:H},className:Mn(I)?I({type:x}):mi("Toastify__toast-body",I),style:R},ae!=null&&Ge.createElement("div",{className:mi("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!Q})},ae),Ge.createElement("div",null,h)),he,Ge.createElement($E,{...F&&!re?{key:`pb-${F}`}:{},rtl:z,theme:Se,delay:g,isRunning:e,isIn:se,closeToast:_,hide:w,type:x,style:P,className:k,controlledProgress:re,progress:B||0})))},Uu=function(t,e){return e===void 0&&(e=!1),{enter:`Toastify--animate Toastify__${t}-enter`,exit:`Toastify--animate Toastify__${t}-exit`,appendPosition:e}},QE=Fu(Uu("bounce",!0));Fu(Uu("slide",!0));Fu(Uu("zoom"));Fu(Uu("flip"));const JE={position:"top-right",transition:QE,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};function eS(t){let e={...JE,...t};const n=t.stacked,[r,s]=W.useState(!0),o=W.useRef(null),{getToastToRender:c,isToastActive:h,count:g}=GE(e),{className:p,style:x,rtl:w,containerId:_}=e;function E(S){const O=mi("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":w});return Mn(p)?p({position:S,rtl:w,defaultClassName:O}):mi(O,Sc(p))}function A(){n&&(s(!0),_e.play())}return qE(()=>{if(n){var S;const O=o.current.querySelectorAll('[data-in="true"]'),I=12,R=(S=e.position)==null?void 0:S.includes("top");let k=0,P=0;Array.from(O).reverse().forEach((F,H)=>{const B=F;B.classList.add("Toastify__toast--stacked"),H>0&&(B.dataset.collapsed=`${r}`),B.dataset.pos||(B.dataset.pos=R?"top":"bot");const z=k*(r?.2:1)+(r?0:I*H);B.style.setProperty("--y",`${R?z:-1*z}px`),B.style.setProperty("--g",`${I}`),B.style.setProperty("--s",""+(1-(r?P:0))),k+=B.offsetHeight,P+=.025})}},[r,g,n]),Ge.createElement("div",{ref:o,className:"Toastify",id:_,onMouseEnter:()=>{n&&(s(!1),_e.pause())},onMouseLeave:A},c((S,O)=>{const I=O.length?{...x}:{...x,pointerEvents:"none"};return Ge.createElement("div",{className:E(S),style:I,key:`container-${S}`},O.map(R=>{let{content:k,props:P}=R;return Ge.createElement(ZE,{...P,stacked:n,collapseAll:A,isIn:h(P.toastId,P.containerId),style:P.style,key:`toast-${P.key}`},k)}))}))}const wy=W.createContext(void 0),zu=()=>{const t=W.useContext(wy);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},tS=({children:t})=>{const[e,n]=W.useState(null),[r,s]=W.useState(null),[o,c]=W.useState(!0),[h,g]=W.useState(null);W.useEffect(()=>{(async()=>{try{const{data:{session:O}}=await nt.auth.getSession();O!=null&&O.user&&(n(O.user),await p(O.user.id))}catch(O){console.error("Error loading user:",O)}finally{c(!1)}})();const{data:{subscription:S}}=nt.auth.onAuthStateChange(async(O,I)=>{I!=null&&I.user?(n(I.user),await p(I.user.id)):(n(null),s(null)),c(!1)});return()=>{S.unsubscribe()}},[]);const p=async A=>{try{const{data:S,error:O}=await nt.from("profiles").select("*").eq("id",A).single();if(O)throw O;S&&s(S)}catch(S){console.error("Error fetching profile:",S)}},E={user:e,profile:r,loading:o,error:h,login:async(A,S)=>{try{c(!0),g(null);const{data:O,error:I}=await nt.auth.signInWithPassword({email:A,password:S});if(I)throw I}catch(O){throw g(O.message||"Login failed"),O}finally{c(!1)}},register:async A=>{try{c(!0),g(null);const{name:S,email:O,password:I,phone:R,role:k,...P}=A,{data:F,error:H}=await nt.auth.signUp({email:O,password:I,options:{data:{name:S,role:k}}});if(H)throw H;if(!F.user)throw new Error("User registration failed");if(await nt.from("profiles").update({phone:R}).eq("id",F.user.id),k==="advertiser"){const{companyName:B,companyAddress:z,gstin:V}=P;await nt.from("advertisers").insert({user_id:F.user.id,company_name:B,company_address:z,gstin:V||null})}else if(k==="driver"){const{vehicleType:B,vehicleNumber:z,licenseNumber:V}=P;await nt.from("drivers").insert({user_id:F.user.id,vehicle_type:B,vehicle_number:z,license_number:V})}}catch(S){throw g(S.message||"Registration failed"),S}finally{c(!1)}},logout:async()=>{try{const{error:A}=await nt.auth.signOut();if(A)throw A;n(null),s(null),_e.success("Logged out successfully")}catch(A){console.error("Logout error:",A),_e.error("Failed to log out")}},isAuthenticated:!!e};return b.jsx(wy.Provider,{value:E,children:t})},nS=()=>{const[t,e]=W.useState(!1),{user:n,profile:r,logout:s,isAuthenticated:o}=zu(),c=To(),h=async()=>{await s(),c("/"),e(!1)},g=()=>{e(!t)};return b.jsxs("nav",{className:"bg-white/90 shadow-md backdrop-blur-sm sticky top-0 z-50",children:[b.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"flex justify-between h-16",children:[b.jsx("div",{className:"flex items-center",children:b.jsxs(Ne,{to:"/",className:"flex-shrink-0 flex items-center",children:[b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#4f46e5",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[b.jsx("rect",{x:"2",y:"7",width:"20",height:"15",rx:"2",ry:"2"}),b.jsx("polyline",{points:"17 2 12 7 7 2"}),b.jsx("line",{x1:"2",y1:"17",x2:"22",y2:"17"})]}),b.jsx("span",{className:"ml-2 text-xl font-bold text-indigo-600",children:"DriveAds"})]})}),b.jsx("div",{className:"hidden md:flex md:items-center md:space-x-4",children:o&&r?b.jsxs(b.Fragment,{children:[r.role==="advertiser"&&b.jsxs(b.Fragment,{children:[b.jsx(Ne,{to:"/advertiser/dashboard",className:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-indigo-600",children:"Dashboard"}),b.jsx(Ne,{to:"/advertiser/campaigns",className:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-indigo-600",children:"Campaigns"}),b.jsx(Ne,{to:"/advertiser/create-campaign",className:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-indigo-600",children:"Create Campaign"})]}),r.role==="driver"&&b.jsxs(b.Fragment,{children:[b.jsx(Ne,{to:"/driver/dashboard",className:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-indigo-600",children:"Dashboard"}),b.jsx(Ne,{to:"/driver/available-banners",className:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-indigo-600",children:"Available Banners"}),b.jsx(Ne,{to:"/driver/my-banners",className:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-indigo-600",children:"My Banners"}),b.jsx(Ne,{to:"/driver/earnings",className:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-indigo-600",children:"Earnings"})]}),b.jsxs("div",{className:"flex items-center ml-4",children:[b.jsx("span",{className:"text-sm font-medium text-gray-700 mr-2",children:r.name}),b.jsxs("button",{onClick:h,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[b.jsx(kg,{size:16,className:"mr-1"}),"Logout"]})]})]}):b.jsxs(b.Fragment,{children:[b.jsx(Ne,{to:"/login",className:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-indigo-600",children:"Sign In"}),b.jsx(Ne,{to:"/register",className:"px-3 py-2 rounded-md text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Register"})]})}),b.jsx("div",{className:"flex items-center md:hidden",children:b.jsxs("button",{onClick:g,className:"inline-flex items-center justify-center p-2 rounded-md text-gray-700 hover:text-indigo-600 focus:outline-none","aria-expanded":t,children:[b.jsx("span",{className:"sr-only",children:t?"Close menu":"Open menu"}),t?b.jsx(W2,{size:24}):b.jsx(R3,{size:24})]})})]})}),t&&b.jsx("div",{className:"md:hidden",children:b.jsx("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:o&&r?b.jsxs(b.Fragment,{children:[r.role==="advertiser"&&b.jsxs(b.Fragment,{children:[b.jsxs(Ne,{to:"/advertiser/dashboard",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-indigo-600",onClick:()=>e(!1),children:[b.jsx(es,{size:18,className:"inline mr-2"}),"Dashboard"]}),b.jsxs(Ne,{to:"/advertiser/campaigns",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-indigo-600",onClick:()=>e(!1),children:[b.jsx(es,{size:18,className:"inline mr-2"}),"Campaigns"]}),b.jsxs(Ne,{to:"/advertiser/create-campaign",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-indigo-600",onClick:()=>e(!1),children:[b.jsx(es,{size:18,className:"inline mr-2"}),"Create Campaign"]})]}),r.role==="driver"&&b.jsxs(b.Fragment,{children:[b.jsxs(Ne,{to:"/driver/dashboard",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-indigo-600",onClick:()=>e(!1),children:[b.jsx(es,{size:18,className:"inline mr-2"}),"Dashboard"]}),b.jsxs(Ne,{to:"/driver/available-banners",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-indigo-600",onClick:()=>e(!1),children:[b.jsx($r,{size:18,className:"inline mr-2"}),"Available Banners"]}),b.jsxs(Ne,{to:"/driver/my-banners",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-indigo-600",onClick:()=>e(!1),children:[b.jsx($r,{size:18,className:"inline mr-2"}),"My Banners"]}),b.jsxs(Ne,{to:"/driver/earnings",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-indigo-600",onClick:()=>e(!1),children:[b.jsx(es,{size:18,className:"inline mr-2"}),"Earnings"]})]}),b.jsxs("div",{className:"border-t border-gray-200 pt-4 pb-3",children:[b.jsxs("div",{className:"flex items-center px-5",children:[b.jsx("div",{className:"flex-shrink-0",children:b.jsx(jd,{size:24,className:"text-gray-500"})}),b.jsxs("div",{className:"ml-3",children:[b.jsx("div",{className:"text-base font-medium text-gray-800",children:r.name}),b.jsx("div",{className:"text-sm font-medium text-gray-500",children:r.email})]})]}),b.jsx("div",{className:"mt-3 px-2",children:b.jsxs("button",{onClick:h,className:"block w-full text-left px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-indigo-600",children:[b.jsx(kg,{size:18,className:"inline mr-2"}),"Logout"]})})]})]}):b.jsxs(b.Fragment,{children:[b.jsxs(Ne,{to:"/login",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-indigo-600",onClick:()=>e(!1),children:[b.jsx(jd,{size:18,className:"inline mr-2"}),"Sign In"]}),b.jsxs(Ne,{to:"/register",className:"block px-3 py-2 rounded-md text-base font-medium text-gray-700 hover:text-indigo-600",onClick:()=>e(!1),children:[b.jsx(jd,{size:18,className:"inline mr-2"}),"Register"]})]})})})]})},rS=()=>b.jsx("footer",{className:"bg-gray-800/90 text-white backdrop-blur-sm",children:b.jsxs("div",{className:"max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-4",children:"DriveAds"}),b.jsx("p",{className:"text-gray-300 text-sm",children:"Automated advertising platform connecting businesses with auto and cab drivers for maximum visibility."})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Quick Links"}),b.jsxs("ul",{className:"space-y-2",children:[b.jsx("li",{children:b.jsx(Ne,{to:"/",className:"text-gray-300 hover:text-white text-sm",children:"Home"})}),b.jsx("li",{children:b.jsx(Ne,{to:"/about",className:"text-gray-300 hover:text-white text-sm",children:"About Us"})}),b.jsx("li",{children:b.jsx(Ne,{to:"/contact",className:"text-gray-300 hover:text-white text-sm",children:"Contact"})}),b.jsx("li",{children:b.jsx(Ne,{to:"/faq",className:"text-gray-300 hover:text-white text-sm",children:"FAQ"})})]})]}),b.jsxs("div",{children:[b.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Contact Us"}),b.jsxs("address",{className:"text-gray-300 text-sm not-italic",children:[b.jsx("p",{children:"123 Ad Street"}),b.jsx("p",{children:"Bangalore, Karnataka 560001"}),b.jsx("p",{className:"mt-2",children:"Email: info@driveads.com"}),b.jsx("p",{children:"Phone: +91 9876543210"})]})]})]}),b.jsxs("div",{className:"border-t border-gray-700 mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",children:[b.jsxs("p",{className:"text-gray-300 text-sm",children:["© ",new Date().getFullYear()," DriveAds. All rights reserved."]}),b.jsx("div",{className:"mt-4 md:mt-0",children:b.jsxs("ul",{className:"flex space-x-4",children:[b.jsx("li",{children:b.jsx(Ne,{to:"/terms",className:"text-gray-300 hover:text-white text-sm",children:"Terms of Service"})}),b.jsx("li",{children:b.jsx(Ne,{to:"/privacy",className:"text-gray-300 hover:text-white text-sm",children:"Privacy Policy"})})]})})]})]})}),Yt=({children:t})=>b.jsxs("div",{className:"flex flex-col min-h-screen",children:[b.jsx(nS,{}),b.jsx("main",{className:"flex-grow",children:t}),b.jsx(rS,{})]}),iS=()=>(W.useEffect(()=>{const t=document.createElement("script");return t.src="https://unpkg.com/@splinetool/viewer@0.9.355/build/spline.viewer.js",t.async=!0,document.body.appendChild(t),()=>{document.body.removeChild(t)}},[]),b.jsxs(Yt,{children:[b.jsxs("section",{className:"relative text-white",children:[b.jsx("div",{className:"absolute inset-0 -z-10 h-full w-full overflow-hidden",children:b.jsx("spline-viewer",{url:"https://my.spline.design/3dcitynavigation-740db8e11fdecef89c416473d8e1a0a1/"})}),b.jsx("div",{className:"relative z-10 bg-gradient-to-r from-indigo-600/80 to-indigo-800/80 backdrop-blur-sm",children:b.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 md:py-28",children:b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Transform Vehicles Into Moving Billboards"}),b.jsx("p",{className:"text-lg md:text-xl mb-8",children:"Place your ads on autos and cabs for maximum visibility. Reach your target audience on the go with DriveAds."}),b.jsxs("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[b.jsx(Ne,{to:"/register?role=advertiser",className:"btn-primary text-center",children:"Advertise Your Brand"}),b.jsx(Ne,{to:"/register?role=driver",className:"btn-secondary text-center",children:"Join as a Driver"})]})]}),b.jsx("div",{className:"hidden md:block md:opacity-0",children:b.jsx("div",{className:"rounded-lg h-[400px]"})})]})})})]}),b.jsx("section",{className:"py-16 bg-white/90 backdrop-blur-sm",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsxs("div",{className:"text-center mb-16",children:[b.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"How DriveAds Works"}),b.jsx("p",{className:"mt-4 text-xl text-gray-600",children:"A simple process to get your ads on the road"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[b.jsxs("div",{className:"bg-gray-50 p-8 rounded-lg text-center shadow-md hover:shadow-xl transition-shadow duration-300",children:[b.jsx("div",{className:"bg-indigo-100 w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-4",children:b.jsx("span",{className:"text-2xl font-bold text-indigo-600",children:"1"})}),b.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Create Campaign"}),b.jsx("p",{className:"text-gray-600",children:"Choose your vehicle type, campaign duration, and upload your banner design."})]}),b.jsxs("div",{className:"bg-gray-50 p-8 rounded-lg text-center shadow-md hover:shadow-xl transition-shadow duration-300",children:[b.jsx("div",{className:"bg-indigo-100 w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-4",children:b.jsx("span",{className:"text-2xl font-bold text-indigo-600",children:"2"})}),b.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Drivers Claim Banners"}),b.jsx("p",{className:"text-gray-600",children:"Verified drivers select your campaign and place banners on their vehicles."})]}),b.jsxs("div",{className:"bg-gray-50 p-8 rounded-lg text-center shadow-md hover:shadow-xl transition-shadow duration-300",children:[b.jsx("div",{className:"bg-indigo-100 w-16 h-16 mx-auto rounded-full flex items-center justify-center mb-4",children:b.jsx("span",{className:"text-2xl font-bold text-indigo-600",children:"3"})}),b.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Verified Visibility"}),b.jsx("p",{className:"text-gray-600",children:"Drivers verify banner placement with photos, ensuring your ad gets the visibility you paid for."})]})]})]})}),b.jsx("section",{className:"py-16 bg-gray-50/90 backdrop-blur-sm",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[b.jsxs("div",{className:"text-center mb-16",children:[b.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Why Choose DriveAds?"}),b.jsx("p",{className:"mt-4 text-xl text-gray-600",children:"Benefits for both advertisers and drivers"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[b.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300",children:[b.jsx("h3",{className:"text-2xl font-bold text-indigo-600 mb-4",children:"For Advertisers"}),b.jsxs("ul",{className:"space-y-4",children:[b.jsxs("li",{className:"flex items-start",children:[b.jsx(Jh,{className:"text-indigo-500 mt-1 mr-3",size:20}),b.jsx("span",{children:"High visibility in busy urban areas"})]}),b.jsxs("li",{className:"flex items-start",children:[b.jsx(Og,{className:"text-indigo-500 mt-1 mr-3",size:20}),b.jsx("span",{children:"Verified ad placement with photo proof"})]}),b.jsxs("li",{className:"flex items-start",children:[b.jsx(Rg,{className:"text-indigo-500 mt-1 mr-3",size:20}),b.jsx("span",{children:"Reach diverse audiences across the city"})]}),b.jsxs("li",{className:"flex items-start",children:[b.jsx($r,{className:"text-indigo-500 mt-1 mr-3",size:20}),b.jsx("span",{children:"Choose between autos (₹70/day) and cabs (₹100/day)"})]})]})]}),b.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md hover:shadow-xl transition-shadow duration-300",children:[b.jsx("h3",{className:"text-2xl font-bold text-amber-500 mb-4",children:"For Drivers"}),b.jsxs("ul",{className:"space-y-4",children:[b.jsxs("li",{className:"flex items-start",children:[b.jsx(Jh,{className:"text-amber-500 mt-1 mr-3",size:20}),b.jsx("span",{children:"Earn additional income with minimal effort"})]}),b.jsxs("li",{className:"flex items-start",children:[b.jsx(Og,{className:"text-amber-500 mt-1 mr-3",size:20}),b.jsx("span",{children:"Simple verification process using your smartphone"})]}),b.jsxs("li",{className:"flex items-start",children:[b.jsx(Rg,{className:"text-amber-500 mt-1 mr-3",size:20}),b.jsx("span",{children:"Choose campaigns that fit your schedule"})]}),b.jsxs("li",{className:"flex items-start",children:[b.jsx($r,{className:"text-amber-500 mt-1 mr-3",size:20}),b.jsx("span",{children:"No interference with your regular business"})]})]})]})]})]})}),b.jsx("section",{className:"bg-indigo-700/90 text-white py-16 backdrop-blur-sm",children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[b.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Ready to Get Started?"}),b.jsx("p",{className:"text-xl mb-8 max-w-3xl mx-auto",children:"Join DriveAds today and transform how you advertise or earn extra income as a driver."}),b.jsxs("div",{className:"flex flex-col sm:flex-row justify-center space-y-4 sm:space-y-0 sm:space-x-4",children:[b.jsx(Ne,{to:"/register?role=advertiser",className:"bg-white text-indigo-700 hover:bg-gray-100 font-medium py-3 px-6 rounded-md transition duration-200",children:"Register as Advertiser"}),b.jsx(Ne,{to:"/register?role=driver",className:"bg-amber-500 hover:bg-amber-600 text-white font-medium py-3 px-6 rounded-md transition duration-200",children:"Register as Driver"})]})]})})]})),sS=()=>{const[t,e]=W.useState(""),[n,r]=W.useState(""),[s,o]=W.useState(!1),{login:c}=zu(),h=To(),g=async p=>{if(p.preventDefault(),!t||!n){_e.error("Please fill in all fields");return}o(!0);try{await c(t,n),_e.success("Login successful!"),h("/")}catch(x){_e.error(x.message||"Login failed")}finally{o(!1)}};return b.jsx(Yt,{children:b.jsx("div",{className:"min-h-[calc(100vh-64px-200px)] flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),b.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",b.jsx(Ne,{to:"/register",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"create a new account"})]})]}),b.jsxs("form",{className:"mt-8 space-y-6",onSubmit:g,children:[b.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),b.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:t,onChange:p=>e(p.target.value)})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),b.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:n,onChange:p=>r(p.target.value)})]})]}),b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),b.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),b.jsx("div",{className:"text-sm",children:b.jsx("a",{href:"#",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Forgot your password?"})})]}),b.jsx("div",{children:b.jsx("button",{type:"submit",disabled:s,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-70",children:s?"Signing in...":"Sign in"})})]})]})})})},oS=()=>{const t=Io(),n=new URLSearchParams(t.search).get("role"),[r,s]=W.useState({name:"",email:"",password:"",confirmPassword:"",phone:"",role:n||"advertiser",companyName:"",companyAddress:"",gstin:"",vehicleType:"auto",vehicleNumber:"",licenseNumber:""}),[o,c]=W.useState(!1),{register:h}=zu(),g=To(),p=w=>{const{name:_,value:E}=w.target;s(A=>({...A,[_]:E}))},x=async w=>{if(w.preventDefault(),r.password!==r.confirmPassword){_e.error("Passwords do not match");return}if(r.password.length<6){_e.error("Password must be at least 6 characters");return}c(!0);try{const _={name:r.name,email:r.email,password:r.password,phone:r.phone,role:r.role};r.role==="advertiser"?Object.assign(_,{companyName:r.companyName,companyAddress:r.companyAddress,gstin:r.gstin}):r.role==="driver"&&Object.assign(_,{vehicleType:r.vehicleType,vehicleNumber:r.vehicleNumber,licenseNumber:r.licenseNumber}),await h(_),_e.success("Registration successful! Please check your email to confirm your account."),r.role==="advertiser"?g("/advertiser/dashboard"):g("/driver/dashboard")}catch(_){_e.error(_.message||"Registration failed")}finally{c(!1)}};return b.jsx(Yt,{children:b.jsx("div",{className:"min-h-[calc(100vh-64px-200px)] flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:b.jsxs("div",{className:"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow-md",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),b.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",b.jsx(Ne,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"sign in to your existing account"})]})]}),b.jsxs("form",{className:"mt-8 space-y-6",onSubmit:x,children:[b.jsxs("div",{className:"rounded-md shadow-sm space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700",children:"Full Name"}),b.jsx("input",{id:"name",name:"name",type:"text",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.name,onChange:p})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),b.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.email,onChange:p})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700",children:"Phone Number"}),b.jsx("input",{id:"phone",name:"phone",type:"tel",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.phone,onChange:p})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),b.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.password,onChange:p})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),b.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.confirmPassword,onChange:p})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Register as"}),b.jsxs("select",{id:"role",name:"role",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:r.role,onChange:p,children:[b.jsx("option",{value:"advertiser",children:"Advertiser"}),b.jsx("option",{value:"driver",children:"Driver"})]})]}),r.role==="advertiser"&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"border-t border-gray-200 pt-4",children:b.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Company Information"})}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"companyName",className:"block text-sm font-medium text-gray-700",children:"Company Name"}),b.jsx("input",{id:"companyName",name:"companyName",type:"text",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.companyName,onChange:p})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"companyAddress",className:"block text-sm font-medium text-gray-700",children:"Company Address"}),b.jsx("input",{id:"companyAddress",name:"companyAddress",type:"text",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.companyAddress,onChange:p})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"gstin",className:"block text-sm font-medium text-gray-700",children:"GSTIN (Optional)"}),b.jsx("input",{id:"gstin",name:"gstin",type:"text",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.gstin,onChange:p})]})]}),r.role==="driver"&&b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"border-t border-gray-200 pt-4",children:b.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Vehicle Information"})}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"vehicleType",className:"block text-sm font-medium text-gray-700",children:"Vehicle Type"}),b.jsxs("select",{id:"vehicleType",name:"vehicleType",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:r.vehicleType,onChange:p,children:[b.jsx("option",{value:"auto",children:"Auto"}),b.jsx("option",{value:"car",children:"Car (Cab)"})]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"vehicleNumber",className:"block text-sm font-medium text-gray-700",children:"Vehicle Number"}),b.jsx("input",{id:"vehicleNumber",name:"vehicleNumber",type:"text",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.vehicleNumber,onChange:p})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"licenseNumber",className:"block text-sm font-medium text-gray-700",children:"License Number"}),b.jsx("input",{id:"licenseNumber",name:"licenseNumber",type:"text",required:!0,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.licenseNumber,onChange:p})]})]})]}),b.jsx("div",{children:b.jsx("button",{type:"submit",disabled:o,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-70",children:o?"Creating account...":"Create account"})})]})]})})})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function ml(t){return t+.5|0}const xi=(t,e,n)=>Math.max(Math.min(t,n),e);function ua(t){return xi(ml(t*2.55),0,255)}function Ni(t){return xi(ml(t*255),0,255)}function Fr(t){return xi(ml(t/2.55)/100,0,1)}function Yg(t){return xi(ml(t*100),0,100)}const Wn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},df=[..."0123456789ABCDEF"],aS=t=>df[t&15],lS=t=>df[(t&240)>>4]+df[t&15],Jl=t=>(t&240)>>4===(t&15),cS=t=>Jl(t.r)&&Jl(t.g)&&Jl(t.b)&&Jl(t.a);function uS(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&Wn[t[1]]*17,g:255&Wn[t[2]]*17,b:255&Wn[t[3]]*17,a:e===5?Wn[t[4]]*17:255}:(e===7||e===9)&&(n={r:Wn[t[1]]<<4|Wn[t[2]],g:Wn[t[3]]<<4|Wn[t[4]],b:Wn[t[5]]<<4|Wn[t[6]],a:e===9?Wn[t[7]]<<4|Wn[t[8]]:255})),n}const dS=(t,e)=>t<255?e(t):"";function hS(t){var e=cS(t)?aS:lS;return t?"#"+e(t.r)+e(t.g)+e(t.b)+dS(t.a,e):void 0}const fS=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function vy(t,e,n){const r=e*Math.min(n,1-n),s=(o,c=(o+t/30)%12)=>n-r*Math.max(Math.min(c-3,9-c,1),-1);return[s(0),s(8),s(4)]}function gS(t,e,n){const r=(s,o=(s+t/60)%6)=>n-n*e*Math.max(Math.min(o,4-o,1),0);return[r(5),r(3),r(1)]}function pS(t,e,n){const r=vy(t,1,.5);let s;for(e+n>1&&(s=1/(e+n),e*=s,n*=s),s=0;s<3;s++)r[s]*=1-e-n,r[s]+=e;return r}function mS(t,e,n,r,s){return t===s?(e-n)/r+(e<n?6:0):e===s?(n-t)/r+2:(t-e)/r+4}function A0(t){const n=t.r/255,r=t.g/255,s=t.b/255,o=Math.max(n,r,s),c=Math.min(n,r,s),h=(o+c)/2;let g,p,x;return o!==c&&(x=o-c,p=h>.5?x/(2-o-c):x/(o+c),g=mS(n,r,s,x,o),g=g*60+.5),[g|0,p||0,h]}function I0(t,e,n,r){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,r)).map(Ni)}function T0(t,e,n){return I0(vy,t,e,n)}function xS(t,e,n){return I0(pS,t,e,n)}function yS(t,e,n){return I0(gS,t,e,n)}function by(t){return(t%360+360)%360}function wS(t){const e=fS.exec(t);let n=255,r;if(!e)return;e[5]!==r&&(n=e[6]?ua(+e[5]):Ni(+e[5]));const s=by(+e[2]),o=+e[3]/100,c=+e[4]/100;return e[1]==="hwb"?r=xS(s,o,c):e[1]==="hsv"?r=yS(s,o,c):r=T0(s,o,c),{r:r[0],g:r[1],b:r[2],a:n}}function vS(t,e){var n=A0(t);n[0]=by(n[0]+e),n=T0(n),t.r=n[0],t.g=n[1],t.b=n[2]}function bS(t){if(!t)return;const e=A0(t),n=e[0],r=Yg(e[1]),s=Yg(e[2]);return t.a<255?`hsla(${n}, ${r}%, ${s}%, ${Fr(t.a)})`:`hsl(${n}, ${r}%, ${s}%)`}const Kg={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},qg={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function _S(){const t={},e=Object.keys(qg),n=Object.keys(Kg);let r,s,o,c,h;for(r=0;r<e.length;r++){for(c=h=e[r],s=0;s<n.length;s++)o=n[s],h=h.replace(o,Kg[o]);o=parseInt(qg[c],16),t[h]=[o>>16&255,o>>8&255,o&255]}return t}let ec;function CS(t){ec||(ec=_S(),ec.transparent=[0,0,0,0]);const e=ec[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const ES=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function SS(t){const e=ES.exec(t);let n=255,r,s,o;if(e){if(e[7]!==r){const c=+e[7];n=e[8]?ua(c):xi(c*255,0,255)}return r=+e[1],s=+e[3],o=+e[5],r=255&(e[2]?ua(r):xi(r,0,255)),s=255&(e[4]?ua(s):xi(s,0,255)),o=255&(e[6]?ua(o):xi(o,0,255)),{r,g:s,b:o,a:n}}}function AS(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Fr(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Gd=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Bs=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function IS(t,e,n){const r=Bs(Fr(t.r)),s=Bs(Fr(t.g)),o=Bs(Fr(t.b));return{r:Ni(Gd(r+n*(Bs(Fr(e.r))-r))),g:Ni(Gd(s+n*(Bs(Fr(e.g))-s))),b:Ni(Gd(o+n*(Bs(Fr(e.b))-o))),a:t.a+n*(e.a-t.a)}}function tc(t,e,n){if(t){let r=A0(t);r[e]=Math.max(0,Math.min(r[e]+r[e]*n,e===0?360:1)),r=T0(r),t.r=r[0],t.g=r[1],t.b=r[2]}}function _y(t,e){return t&&Object.assign(e||{},t)}function Zg(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Ni(t[3]))):(e=_y(t,{r:0,g:0,b:0,a:1}),e.a=Ni(e.a)),e}function TS(t){return t.charAt(0)==="r"?SS(t):wS(t)}class el{constructor(e){if(e instanceof el)return e;const n=typeof e;let r;n==="object"?r=Zg(e):n==="string"&&(r=uS(e)||CS(e)||TS(e)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var e=_y(this._rgb);return e&&(e.a=Fr(e.a)),e}set rgb(e){this._rgb=Zg(e)}rgbString(){return this._valid?AS(this._rgb):void 0}hexString(){return this._valid?hS(this._rgb):void 0}hslString(){return this._valid?bS(this._rgb):void 0}mix(e,n){if(e){const r=this.rgb,s=e.rgb;let o;const c=n===o?.5:n,h=2*c-1,g=r.a-s.a,p=((h*g===-1?h:(h+g)/(1+h*g))+1)/2;o=1-p,r.r=255&p*r.r+o*s.r+.5,r.g=255&p*r.g+o*s.g+.5,r.b=255&p*r.b+o*s.b+.5,r.a=c*r.a+(1-c)*s.a,this.rgb=r}return this}interpolate(e,n){return e&&(this._rgb=IS(this._rgb,e._rgb,n)),this}clone(){return new el(this.rgb)}alpha(e){return this._rgb.a=Ni(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=ml(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return tc(this._rgb,2,e),this}darken(e){return tc(this._rgb,2,-e),this}saturate(e){return tc(this._rgb,1,e),this}desaturate(e){return tc(this._rgb,1,-e),this}rotate(e){return vS(this._rgb,e),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Rr(){}const NS=(()=>{let t=0;return()=>t++})();function Xe(t){return t==null}function Rt(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function Fe(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function Qn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function vr(t,e){return Qn(t)?t:e}function Pe(t,e){return typeof t>"u"?e:t}const kS=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function at(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function $e(t,e,n,r){let s,o,c;if(Rt(t))for(o=t.length,s=0;s<o;s++)e.call(n,t[s],s);else if(Fe(t))for(c=Object.keys(t),o=c.length,s=0;s<o;s++)e.call(n,t[c[s]],c[s])}function iu(t,e){let n,r,s,o;if(!t||!e||t.length!==e.length)return!1;for(n=0,r=t.length;n<r;++n)if(s=t[n],o=e[n],s.datasetIndex!==o.datasetIndex||s.index!==o.index)return!1;return!0}function su(t){if(Rt(t))return t.map(su);if(Fe(t)){const e=Object.create(null),n=Object.keys(t),r=n.length;let s=0;for(;s<r;++s)e[n[s]]=su(t[n[s]]);return e}return t}function Cy(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function OS(t,e,n,r){if(!Cy(t))return;const s=e[t],o=n[t];Fe(s)&&Fe(o)?tl(s,o,r):e[t]=su(o)}function tl(t,e,n){const r=Rt(e)?e:[e],s=r.length;if(!Fe(t))return t;n=n||{};const o=n.merger||OS;let c;for(let h=0;h<s;++h){if(c=r[h],!Fe(c))continue;const g=Object.keys(c);for(let p=0,x=g.length;p<x;++p)o(g[p],t,c,n)}return t}function Sa(t,e){return tl(t,e,{merger:RS})}function RS(t,e,n){if(!Cy(t))return;const r=e[t],s=n[t];Fe(r)&&Fe(s)?Sa(r,s):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=su(s))}const Qg={"":t=>t,x:t=>t.x,y:t=>t.y};function DS(t){const e=t.split("."),n=[];let r="";for(const s of e)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function MS(t){const e=DS(t);return n=>{for(const r of e){if(r==="")break;n=n&&n[r]}return n}}function wo(t,e){return(Qg[e]||(Qg[e]=MS(e)))(t)}function N0(t){return t.charAt(0).toUpperCase()+t.slice(1)}const nl=t=>typeof t<"u",Ri=t=>typeof t=="function",Jg=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function PS(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ut=Math.PI,Tr=2*Ut,LS=Tr+Ut,ou=Number.POSITIVE_INFINITY,BS=Ut/180,lr=Ut/2,Gi=Ut/4,ep=Ut*2/3,Ey=Math.log10,Nr=Math.sign;function Aa(t,e,n){return Math.abs(t-e)<n}function tp(t){const e=Math.round(t);t=Aa(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Ey(t))),r=t/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function jS(t){const e=[],n=Math.sqrt(t);let r;for(r=1;r<n;r++)t%r===0&&(e.push(r),e.push(t/r));return n===(n|0)&&e.push(n),e.sort((s,o)=>s-o).pop(),e}function FS(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function rl(t){return!FS(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function US(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function zS(t,e,n){let r,s,o;for(r=0,s=t.length;r<s;r++)o=t[r][n],isNaN(o)||(e.min=Math.min(e.min,o),e.max=Math.max(e.max,o))}function ss(t){return t*(Ut/180)}function VS(t){return t*(180/Ut)}function np(t){if(!Qn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function HS(t,e){const n=e.x-t.x,r=e.y-t.y,s=Math.sqrt(n*n+r*r);let o=Math.atan2(r,n);return o<-.5*Ut&&(o+=Tr),{angle:o,distance:s}}function hf(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function WS(t,e){return(t-e+LS)%Tr-Ut}function oi(t){return(t%Tr+Tr)%Tr}function Sy(t,e,n,r){const s=oi(t),o=oi(e),c=oi(n),h=oi(o-s),g=oi(c-s),p=oi(s-o),x=oi(s-c);return s===o||s===c||r&&o===c||h>g&&p<x}function Pn(t,e,n){return Math.max(e,Math.min(n,t))}function GS(t){return Pn(t,-32768,32767)}function os(t,e,n,r=1e-6){return t>=Math.min(e,n)-r&&t<=Math.max(e,n)+r}function k0(t,e,n){n=n||(c=>t[c]<e);let r=t.length-1,s=0,o;for(;r-s>1;)o=s+r>>1,n(o)?s=o:r=o;return{lo:s,hi:r}}const as=(t,e,n,r)=>k0(t,n,r?s=>{const o=t[s][e];return o<n||o===n&&t[s+1][e]===n}:s=>t[s][e]<n),XS=(t,e,n)=>k0(t,n,r=>t[r][e]>=n);function $S(t,e,n){let r=0,s=t.length;for(;r<s&&t[r]<e;)r++;for(;s>r&&t[s-1]>n;)s--;return r>0||s<t.length?t.slice(r,s):t}const Ay=["push","pop","shift","splice","unshift"];function YS(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),Ay.forEach(n=>{const r="_onData"+N0(n),s=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...o){const c=s.apply(this,o);return t._chartjs.listeners.forEach(h=>{typeof h[r]=="function"&&h[r](...o)}),c}})})}function rp(t,e){const n=t._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(e);s!==-1&&r.splice(s,1),!(r.length>0)&&(Ay.forEach(o=>{delete t[o]}),delete t._chartjs)}function Iy(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const Ty=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function Ny(t,e){let n=[],r=!1;return function(...s){n=s,r||(r=!0,Ty.call(window,()=>{r=!1,t.apply(e,n)}))}}function KS(t,e){let n;return function(...r){return e?(clearTimeout(n),n=setTimeout(t,e,r)):t.apply(this,r),e}}const O0=t=>t==="start"?"left":t==="end"?"right":"center",tn=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,qS=(t,e,n,r)=>t===(r?"left":"right")?n:t==="center"?(e+n)/2:e;function ZS(t,e,n){const r=e.length;let s=0,o=r;if(t._sorted){const{iScale:c,vScale:h,_parsed:g}=t,p=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,x=c.axis,{min:w,max:_,minDefined:E,maxDefined:A}=c.getUserBounds();if(E){if(s=Math.min(as(g,x,w).lo,n?r:as(e,x,c.getPixelForValue(w)).lo),p){const S=g.slice(0,s+1).reverse().findIndex(O=>!Xe(O[h.axis]));s-=Math.max(0,S)}s=Pn(s,0,r-1)}if(A){let S=Math.max(as(g,c.axis,_,!0).hi+1,n?0:as(e,x,c.getPixelForValue(_),!0).hi+1);if(p){const O=g.slice(S-1).findIndex(I=>!Xe(I[h.axis]));S+=Math.max(0,O)}o=Pn(S,s,r)-s}else o=r-s}return{start:s,count:o}}function QS(t){const{xScale:e,yScale:n,_scaleRanges:r}=t,s={xmin:e.min,xmax:e.max,ymin:n.min,ymax:n.max};if(!r)return t._scaleRanges=s,!0;const o=r.xmin!==e.min||r.xmax!==e.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),o}const nc=t=>t===0||t===1,ip=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Tr/n)),sp=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*Tr/n)+1,Ia={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*lr)+1,easeOutSine:t=>Math.sin(t*lr),easeInOutSine:t=>-.5*(Math.cos(Ut*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>nc(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>nc(t)?t:ip(t,.075,.3),easeOutElastic:t=>nc(t)?t:sp(t,.075,.3),easeInOutElastic(t){return nc(t)?t:t<.5?.5*ip(t*2,.1125,.45):.5+.5*sp(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-Ia.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Ia.easeInBounce(t*2)*.5:Ia.easeOutBounce(t*2-1)*.5+.5};function R0(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function op(t){return R0(t)?t:new el(t)}function Xd(t){return R0(t)?t:new el(t).saturate(.5).darken(.1).hexString()}const JS=["x","y","borderWidth","radius","tension"],eA=["color","borderColor","backgroundColor"];function tA(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:eA},numbers:{type:"number",properties:JS}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function nA(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const ap=new Map;function rA(t,e){e=e||{};const n=t+JSON.stringify(e);let r=ap.get(n);return r||(r=new Intl.NumberFormat(t,e),ap.set(n,r)),r}function ky(t,e,n){return rA(e,n).format(t)}const iA={values(t){return Rt(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const r=this.chart.options.locale;let s,o=t;if(n.length>1){const p=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(p<1e-4||p>1e15)&&(s="scientific"),o=sA(t,n)}const c=Ey(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),g={notation:s,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(g,this.options.ticks.format),ky(t,r,g)}};function sA(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Oy={formatters:iA};function oA(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Oy.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const xs=Object.create(null),ff=Object.create(null);function Ta(t,e){if(!e)return t;const n=e.split(".");for(let r=0,s=n.length;r<s;++r){const o=n[r];t=t[o]||(t[o]=Object.create(null))}return t}function $d(t,e,n){return typeof e=="string"?tl(Ta(t,e),n):tl(Ta(t,""),e)}class aA{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,s)=>Xd(s.backgroundColor),this.hoverBorderColor=(r,s)=>Xd(s.borderColor),this.hoverColor=(r,s)=>Xd(s.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return $d(this,e,n)}get(e){return Ta(this,e)}describe(e,n){return $d(ff,e,n)}override(e,n){return $d(xs,e,n)}route(e,n,r,s){const o=Ta(this,e),c=Ta(this,r),h="_"+n;Object.defineProperties(o,{[h]:{value:o[n],writable:!0},[n]:{enumerable:!0,get(){const g=this[h],p=c[s];return Fe(g)?Object.assign({},p,g):Pe(g,p)},set(g){this[h]=g}}})}apply(e){e.forEach(n=>n(this))}}var Ct=new aA({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[tA,nA,oA]);function lA(t){return!t||Xe(t.size)||Xe(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function lp(t,e,n,r,s){let o=e[s];return o||(o=e[s]=t.measureText(s).width,n.push(s)),o>r&&(r=o),r}function Xi(t,e,n){const r=t.currentDevicePixelRatio,s=n!==0?Math.max(n/2,.5):0;return Math.round((e-s)*r)/r+s}function cp(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function gf(t,e,n,r){Ry(t,e,n,r,null)}function Ry(t,e,n,r,s){let o,c,h,g,p,x,w,_;const E=e.pointStyle,A=e.rotation,S=e.radius;let O=(A||0)*BS;if(E&&typeof E=="object"&&(o=E.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){t.save(),t.translate(n,r),t.rotate(O),t.drawImage(E,-E.width/2,-E.height/2,E.width,E.height),t.restore();return}if(!(isNaN(S)||S<=0)){switch(t.beginPath(),E){default:s?t.ellipse(n,r,s/2,S,0,0,Tr):t.arc(n,r,S,0,Tr),t.closePath();break;case"triangle":x=s?s/2:S,t.moveTo(n+Math.sin(O)*x,r-Math.cos(O)*S),O+=ep,t.lineTo(n+Math.sin(O)*x,r-Math.cos(O)*S),O+=ep,t.lineTo(n+Math.sin(O)*x,r-Math.cos(O)*S),t.closePath();break;case"rectRounded":p=S*.516,g=S-p,c=Math.cos(O+Gi)*g,w=Math.cos(O+Gi)*(s?s/2-p:g),h=Math.sin(O+Gi)*g,_=Math.sin(O+Gi)*(s?s/2-p:g),t.arc(n-w,r-h,p,O-Ut,O-lr),t.arc(n+_,r-c,p,O-lr,O),t.arc(n+w,r+h,p,O,O+lr),t.arc(n-_,r+c,p,O+lr,O+Ut),t.closePath();break;case"rect":if(!A){g=Math.SQRT1_2*S,x=s?s/2:g,t.rect(n-x,r-g,2*x,2*g);break}O+=Gi;case"rectRot":w=Math.cos(O)*(s?s/2:S),c=Math.cos(O)*S,h=Math.sin(O)*S,_=Math.sin(O)*(s?s/2:S),t.moveTo(n-w,r-h),t.lineTo(n+_,r-c),t.lineTo(n+w,r+h),t.lineTo(n-_,r+c),t.closePath();break;case"crossRot":O+=Gi;case"cross":w=Math.cos(O)*(s?s/2:S),c=Math.cos(O)*S,h=Math.sin(O)*S,_=Math.sin(O)*(s?s/2:S),t.moveTo(n-w,r-h),t.lineTo(n+w,r+h),t.moveTo(n+_,r-c),t.lineTo(n-_,r+c);break;case"star":w=Math.cos(O)*(s?s/2:S),c=Math.cos(O)*S,h=Math.sin(O)*S,_=Math.sin(O)*(s?s/2:S),t.moveTo(n-w,r-h),t.lineTo(n+w,r+h),t.moveTo(n+_,r-c),t.lineTo(n-_,r+c),O+=Gi,w=Math.cos(O)*(s?s/2:S),c=Math.cos(O)*S,h=Math.sin(O)*S,_=Math.sin(O)*(s?s/2:S),t.moveTo(n-w,r-h),t.lineTo(n+w,r+h),t.moveTo(n+_,r-c),t.lineTo(n-_,r+c);break;case"line":c=s?s/2:Math.cos(O)*S,h=Math.sin(O)*S,t.moveTo(n-c,r-h),t.lineTo(n+c,r+h);break;case"dash":t.moveTo(n,r),t.lineTo(n+Math.cos(O)*(s?s/2:S),r+Math.sin(O)*S);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function il(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function D0(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function M0(t){t.restore()}function cA(t,e,n,r,s){if(!e)return t.lineTo(n.x,n.y);if(s==="middle"){const o=(e.x+n.x)/2;t.lineTo(o,e.y),t.lineTo(o,n.y)}else s==="after"!=!!r?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function uA(t,e,n,r){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(r?e.cp1x:e.cp2x,r?e.cp1y:e.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function dA(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),Xe(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function hA(t,e,n,r,s){if(s.strikethrough||s.underline){const o=t.measureText(r),c=e-o.actualBoundingBoxLeft,h=e+o.actualBoundingBoxRight,g=n-o.actualBoundingBoxAscent,p=n+o.actualBoundingBoxDescent,x=s.strikethrough?(g+p)/2:p;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=s.decorationWidth||2,t.moveTo(c,x),t.lineTo(h,x),t.stroke()}}function fA(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function sl(t,e,n,r,s,o={}){const c=Rt(e)?e:[e],h=o.strokeWidth>0&&o.strokeColor!=="";let g,p;for(t.save(),t.font=s.string,dA(t,o),g=0;g<c.length;++g)p=c[g],o.backdrop&&fA(t,o.backdrop),h&&(o.strokeColor&&(t.strokeStyle=o.strokeColor),Xe(o.strokeWidth)||(t.lineWidth=o.strokeWidth),t.strokeText(p,n,r,o.maxWidth)),t.fillText(p,n,r,o.maxWidth),hA(t,n,r,p,o),r+=Number(s.lineHeight);t.restore()}function au(t,e){const{x:n,y:r,w:s,h:o,radius:c}=e;t.arc(n+c.topLeft,r+c.topLeft,c.topLeft,1.5*Ut,Ut,!0),t.lineTo(n,r+o-c.bottomLeft),t.arc(n+c.bottomLeft,r+o-c.bottomLeft,c.bottomLeft,Ut,lr,!0),t.lineTo(n+s-c.bottomRight,r+o),t.arc(n+s-c.bottomRight,r+o-c.bottomRight,c.bottomRight,lr,0,!0),t.lineTo(n+s,r+c.topRight),t.arc(n+s-c.topRight,r+c.topRight,c.topRight,0,-lr,!0),t.lineTo(n+c.topLeft,r)}const gA=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,pA=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function mA(t,e){const n=(""+t).match(gA);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const xA=t=>+t||0;function Dy(t,e){const n={},r=Fe(e),s=r?Object.keys(e):e,o=Fe(t)?r?c=>Pe(t[c],t[e[c]]):c=>t[c]:()=>t;for(const c of s)n[c]=xA(o(c));return n}function My(t){return Dy(t,{top:"y",right:"x",bottom:"y",left:"x"})}function oo(t){return Dy(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Jn(t){const e=My(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function rn(t,e){t=t||{},e=e||Ct.font;let n=Pe(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let r=Pe(t.style,e.style);r&&!(""+r).match(pA)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:Pe(t.family,e.family),lineHeight:mA(Pe(t.lineHeight,e.lineHeight),n),size:n,style:r,weight:Pe(t.weight,e.weight),string:""};return s.string=lA(s),s}function rc(t,e,n,r){let s,o,c;for(s=0,o=t.length;s<o;++s)if(c=t[s],c!==void 0&&c!==void 0)return c}function yA(t,e,n){const{min:r,max:s}=t,o=kS(e,(s-r)/2),c=(h,g)=>n&&h===0?0:h+g;return{min:c(r,-Math.abs(o)),max:c(s,o)}}function _s(t,e){return Object.assign(Object.create(t),e)}function P0(t,e=[""],n,r,s=()=>t[0]){const o=n||t;typeof r>"u"&&(r=jy("_fallback",t));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:o,_fallback:r,_getTarget:s,override:h=>P0([h,...t],e,o,r)};return new Proxy(c,{deleteProperty(h,g){return delete h[g],delete h._keys,delete t[0][g],!0},get(h,g){return Ly(h,g,()=>AA(g,e,t,h))},getOwnPropertyDescriptor(h,g){return Reflect.getOwnPropertyDescriptor(h._scopes[0],g)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(h,g){return dp(h).includes(g)},ownKeys(h){return dp(h)},set(h,g,p){const x=h._storage||(h._storage=s());return h[g]=x[g]=p,delete h._keys,!0}})}function vo(t,e,n,r){const s={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:Py(t,r),setContext:o=>vo(t,o,n,r),override:o=>vo(t.override(o),e,n,r)};return new Proxy(s,{deleteProperty(o,c){return delete o[c],delete t[c],!0},get(o,c,h){return Ly(o,c,()=>vA(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(t,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,c)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(o,c){return Reflect.has(t,c)},ownKeys(){return Reflect.ownKeys(t)},set(o,c,h){return t[c]=h,delete o[c],!0}})}function Py(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:r=e.indexable,_allKeys:s=e.allKeys}=t;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Ri(n)?n:()=>n,isIndexable:Ri(r)?r:()=>r}}const wA=(t,e)=>t?t+N0(e):e,L0=(t,e)=>Fe(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function Ly(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const r=n();return t[e]=r,r}function vA(t,e,n){const{_proxy:r,_context:s,_subProxy:o,_descriptors:c}=t;let h=r[e];return Ri(h)&&c.isScriptable(e)&&(h=bA(e,h,t,n)),Rt(h)&&h.length&&(h=_A(e,h,t,c.isIndexable)),L0(e,h)&&(h=vo(h,s,o&&o[e],c)),h}function bA(t,e,n,r){const{_proxy:s,_context:o,_subProxy:c,_stack:h}=n;if(h.has(t))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+t);h.add(t);let g=e(o,c||r);return h.delete(t),L0(t,g)&&(g=B0(s._scopes,s,t,g)),g}function _A(t,e,n,r){const{_proxy:s,_context:o,_subProxy:c,_descriptors:h}=n;if(typeof o.index<"u"&&r(t))return e[o.index%e.length];if(Fe(e[0])){const g=e,p=s._scopes.filter(x=>x!==g);e=[];for(const x of g){const w=B0(p,s,t,x);e.push(vo(w,o,c&&c[t],h))}}return e}function By(t,e,n){return Ri(t)?t(e,n):t}const CA=(t,e)=>t===!0?e:typeof t=="string"?wo(e,t):void 0;function EA(t,e,n,r,s){for(const o of e){const c=CA(n,o);if(c){t.add(c);const h=By(c._fallback,n,s);if(typeof h<"u"&&h!==n&&h!==r)return h}else if(c===!1&&typeof r<"u"&&n!==r)return null}return!1}function B0(t,e,n,r){const s=e._rootScopes,o=By(e._fallback,n,r),c=[...t,...s],h=new Set;h.add(r);let g=up(h,c,n,o||n,r);return g===null||typeof o<"u"&&o!==n&&(g=up(h,c,o,g,r),g===null)?!1:P0(Array.from(h),[""],s,o,()=>SA(e,n,r))}function up(t,e,n,r,s){for(;n;)n=EA(t,e,n,r,s);return n}function SA(t,e,n){const r=t._getTarget();e in r||(r[e]={});const s=r[e];return Rt(s)&&Fe(n)?n:s||{}}function AA(t,e,n,r){let s;for(const o of e)if(s=jy(wA(o,t),n),typeof s<"u")return L0(t,s)?B0(n,r,t,s):s}function jy(t,e){for(const n of e){if(!n)continue;const r=n[t];if(typeof r<"u")return r}}function dp(t){let e=t._keys;return e||(e=t._keys=IA(t._scopes)),e}function IA(t){const e=new Set;for(const n of t)for(const r of Object.keys(n).filter(s=>!s.startsWith("_")))e.add(r);return Array.from(e)}const TA=Number.EPSILON||1e-14,bo=(t,e)=>e<t.length&&!t[e].skip&&t[e],Fy=t=>t==="x"?"y":"x";function NA(t,e,n,r){const s=t.skip?e:t,o=e,c=n.skip?e:n,h=hf(o,s),g=hf(c,o);let p=h/(h+g),x=g/(h+g);p=isNaN(p)?0:p,x=isNaN(x)?0:x;const w=r*p,_=r*x;return{previous:{x:o.x-w*(c.x-s.x),y:o.y-w*(c.y-s.y)},next:{x:o.x+_*(c.x-s.x),y:o.y+_*(c.y-s.y)}}}function kA(t,e,n){const r=t.length;let s,o,c,h,g,p=bo(t,0);for(let x=0;x<r-1;++x)if(g=p,p=bo(t,x+1),!(!g||!p)){if(Aa(e[x],0,TA)){n[x]=n[x+1]=0;continue}s=n[x]/e[x],o=n[x+1]/e[x],h=Math.pow(s,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),n[x]=s*c*e[x],n[x+1]=o*c*e[x])}}function OA(t,e,n="x"){const r=Fy(n),s=t.length;let o,c,h,g=bo(t,0);for(let p=0;p<s;++p){if(c=h,h=g,g=bo(t,p+1),!h)continue;const x=h[n],w=h[r];c&&(o=(x-c[n])/3,h[`cp1${n}`]=x-o,h[`cp1${r}`]=w-o*e[p]),g&&(o=(g[n]-x)/3,h[`cp2${n}`]=x+o,h[`cp2${r}`]=w+o*e[p])}}function RA(t,e="x"){const n=Fy(e),r=t.length,s=Array(r).fill(0),o=Array(r);let c,h,g,p=bo(t,0);for(c=0;c<r;++c)if(h=g,g=p,p=bo(t,c+1),!!g){if(p){const x=p[e]-g[e];s[c]=x!==0?(p[n]-g[n])/x:0}o[c]=h?p?Nr(s[c-1])!==Nr(s[c])?0:(s[c-1]+s[c])/2:s[c-1]:s[c]}kA(t,s,o),OA(t,o,e)}function ic(t,e,n){return Math.max(Math.min(t,n),e)}function DA(t,e){let n,r,s,o,c,h=il(t[0],e);for(n=0,r=t.length;n<r;++n)c=o,o=h,h=n<r-1&&il(t[n+1],e),o&&(s=t[n],c&&(s.cp1x=ic(s.cp1x,e.left,e.right),s.cp1y=ic(s.cp1y,e.top,e.bottom)),h&&(s.cp2x=ic(s.cp2x,e.left,e.right),s.cp2y=ic(s.cp2y,e.top,e.bottom)))}function MA(t,e,n,r,s){let o,c,h,g;if(e.spanGaps&&(t=t.filter(p=>!p.skip)),e.cubicInterpolationMode==="monotone")RA(t,s);else{let p=r?t[t.length-1]:t[0];for(o=0,c=t.length;o<c;++o)h=t[o],g=NA(p,h,t[Math.min(o+1,c-(r?0:1))%c],e.tension),h.cp1x=g.previous.x,h.cp1y=g.previous.y,h.cp2x=g.next.x,h.cp2y=g.next.y,p=h}e.capBezierPoints&&DA(t,n)}function j0(){return typeof window<"u"&&typeof document<"u"}function F0(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function lu(t,e,n){let r;return typeof t=="string"?(r=parseInt(t,10),t.indexOf("%")!==-1&&(r=r/100*e.parentNode[n])):r=t,r}const Vu=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function PA(t,e){return Vu(t).getPropertyValue(e)}const LA=["top","right","bottom","left"];function ds(t,e,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const o=LA[s];r[o]=parseFloat(t[e+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const BA=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function jA(t,e){const n=t.touches,r=n&&n.length?n[0]:t,{offsetX:s,offsetY:o}=r;let c=!1,h,g;if(BA(s,o,t.target))h=s,g=o;else{const p=e.getBoundingClientRect();h=r.clientX-p.left,g=r.clientY-p.top,c=!0}return{x:h,y:g,box:c}}function Qi(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:r}=e,s=Vu(n),o=s.boxSizing==="border-box",c=ds(s,"padding"),h=ds(s,"border","width"),{x:g,y:p,box:x}=jA(t,n),w=c.left+(x&&h.left),_=c.top+(x&&h.top);let{width:E,height:A}=e;return o&&(E-=c.width+h.width,A-=c.height+h.height),{x:Math.round((g-w)/E*n.width/r),y:Math.round((p-_)/A*n.height/r)}}function FA(t,e,n){let r,s;if(e===void 0||n===void 0){const o=t&&F0(t);if(!o)e=t.clientWidth,n=t.clientHeight;else{const c=o.getBoundingClientRect(),h=Vu(o),g=ds(h,"border","width"),p=ds(h,"padding");e=c.width-p.width-g.width,n=c.height-p.height-g.height,r=lu(h.maxWidth,o,"clientWidth"),s=lu(h.maxHeight,o,"clientHeight")}}return{width:e,height:n,maxWidth:r||ou,maxHeight:s||ou}}const sc=t=>Math.round(t*10)/10;function UA(t,e,n,r){const s=Vu(t),o=ds(s,"margin"),c=lu(s.maxWidth,t,"clientWidth")||ou,h=lu(s.maxHeight,t,"clientHeight")||ou,g=FA(t,e,n);let{width:p,height:x}=g;if(s.boxSizing==="content-box"){const _=ds(s,"border","width"),E=ds(s,"padding");p-=E.width+_.width,x-=E.height+_.height}return p=Math.max(0,p-o.width),x=Math.max(0,r?p/r:x-o.height),p=sc(Math.min(p,c,g.maxWidth)),x=sc(Math.min(x,h,g.maxHeight)),p&&!x&&(x=sc(p/2)),(e!==void 0||n!==void 0)&&r&&g.height&&x>g.height&&(x=g.height,p=sc(Math.floor(x*r))),{width:p,height:x}}function hp(t,e,n){const r=e||1,s=Math.floor(t.height*r),o=Math.floor(t.width*r);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const c=t.canvas;return c.style&&(n||!c.style.height&&!c.style.width)&&(c.style.height=`${t.height}px`,c.style.width=`${t.width}px`),t.currentDevicePixelRatio!==r||c.height!==s||c.width!==o?(t.currentDevicePixelRatio=r,c.height=s,c.width=o,t.ctx.setTransform(r,0,0,r,0,0),!0):!1}const zA=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};j0()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function fp(t,e){const n=PA(t,e),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Ji(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function VA(t,e,n,r){return{x:t.x+n*(e.x-t.x),y:r==="middle"?n<.5?t.y:e.y:r==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function HA(t,e,n,r){const s={x:t.cp2x,y:t.cp2y},o={x:e.cp1x,y:e.cp1y},c=Ji(t,s,n),h=Ji(s,o,n),g=Ji(o,e,n),p=Ji(c,h,n),x=Ji(h,g,n);return Ji(p,x,n)}const WA=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},GA=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ao(t,e,n){return t?WA(e,n):GA()}function Uy(t,e){let n,r;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=r)}function zy(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Vy(t){return t==="angle"?{between:Sy,compare:WS,normalize:oi}:{between:os,compare:(e,n)=>e-n,normalize:e=>e}}function gp({start:t,end:e,count:n,loop:r,style:s}){return{start:t%n,end:e%n,loop:r&&(e-t+1)%n===0,style:s}}function XA(t,e,n){const{property:r,start:s,end:o}=n,{between:c,normalize:h}=Vy(r),g=e.length;let{start:p,end:x,loop:w}=t,_,E;if(w){for(p+=g,x+=g,_=0,E=g;_<E&&c(h(e[p%g][r]),s,o);++_)p--,x--;p%=g,x%=g}return x<p&&(x+=g),{start:p,end:x,loop:w,style:t.style}}function $A(t,e,n){if(!n)return[t];const{property:r,start:s,end:o}=n,c=e.length,{compare:h,between:g,normalize:p}=Vy(r),{start:x,end:w,loop:_,style:E}=XA(t,e,n),A=[];let S=!1,O=null,I,R,k;const P=()=>g(s,k,I)&&h(s,k)!==0,F=()=>h(o,I)===0||g(o,k,I),H=()=>S||P(),B=()=>!S||F();for(let z=x,V=x;z<=w;++z)R=e[z%c],!R.skip&&(I=p(R[r]),I!==k&&(S=g(I,s,o),O===null&&H()&&(O=h(I,s)===0?z:V),O!==null&&B()&&(A.push(gp({start:O,end:z,loop:_,count:c,style:E})),O=null),V=z,k=I));return O!==null&&A.push(gp({start:O,end:w,loop:_,count:c,style:E})),A}function YA(t,e){const n=[],r=t.segments;for(let s=0;s<r.length;s++){const o=$A(r[s],t.points,e);o.length&&n.push(...o)}return n}function KA(t,e,n,r){let s=0,o=e-1;if(n&&!r)for(;s<e&&!t[s].skip;)s++;for(;s<e&&t[s].skip;)s++;for(s%=e,n&&(o+=s);o>s&&t[o%e].skip;)o--;return o%=e,{start:s,end:o}}function qA(t,e,n,r){const s=t.length,o=[];let c=e,h=t[e],g;for(g=e+1;g<=n;++g){const p=t[g%s];p.skip||p.stop?h.skip||(r=!1,o.push({start:e%s,end:(g-1)%s,loop:r}),e=c=p.stop?g:null):(c=g,h.skip&&(e=g)),h=p}return c!==null&&o.push({start:e%s,end:c%s,loop:r}),o}function ZA(t,e){const n=t.points,r=t.options.spanGaps,s=n.length;if(!s)return[];const o=!!t._loop,{start:c,end:h}=KA(n,s,o,r);if(r===!0)return pp(t,[{start:c,end:h,loop:o}],n,e);const g=h<c?h+s:h,p=!!t._fullLoop&&c===0&&h===s-1;return pp(t,qA(n,c,g,p),n,e)}function pp(t,e,n,r){return!r||!r.setContext||!n?e:QA(t,e,n,r)}function QA(t,e,n,r){const s=t._chart.getContext(),o=mp(t.options),{_datasetIndex:c,options:{spanGaps:h}}=t,g=n.length,p=[];let x=o,w=e[0].start,_=w;function E(A,S,O,I){const R=h?-1:1;if(A!==S){for(A+=g;n[A%g].skip;)A-=R;for(;n[S%g].skip;)S+=R;A%g!==S%g&&(p.push({start:A%g,end:S%g,loop:O,style:I}),x=I,w=S%g)}}for(const A of e){w=h?w:A.start;let S=n[w%g],O;for(_=w+1;_<=A.end;_++){const I=n[_%g];O=mp(r.setContext(_s(s,{type:"segment",p0:S,p1:I,p0DataIndex:(_-1)%g,p1DataIndex:_%g,datasetIndex:c}))),JA(O,x)&&E(w,_-1,A.loop,x),S=I,x=O}w<_-1&&E(w,_-1,A.loop,x)}return p}function mp(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function JA(t,e){if(!e)return!1;const n=[],r=function(s,o){return R0(o)?(n.includes(o)||n.push(o),n.indexOf(o)):o};return JSON.stringify(t,r)!==JSON.stringify(e,r)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class e4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,r,s){const o=n.listeners[s],c=n.duration;o.forEach(h=>h({chart:e,initial:n.initial,numSteps:c,currentStep:Math.min(r-n.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=Ty.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((r,s)=>{if(!r.running||!r.items.length)return;const o=r.items;let c=o.length-1,h=!1,g;for(;c>=0;--c)g=o[c],g._active?(g._total>r.duration&&(r.duration=g._total),g.tick(e),h=!0):(o[c]=o[o.length-1],o.pop());h&&(s.draw(),this._notify(s,r,e,"progress")),o.length||(r.running=!1,this._notify(s,r,e,"complete"),r.initial=!1),n+=o.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let r=n.get(e);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,r)),r}listen(e,n,r){this._getAnims(e).listeners[n].push(r)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,s)=>Math.max(r,s._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const r=n.items;let s=r.length-1;for(;s>=0;--s)r[s].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Dr=new e4;const xp="transparent",t4={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const r=op(t||xp),s=r.valid&&op(e||xp);return s&&s.valid?s.mix(r,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class n4{constructor(e,n,r,s){const o=n[r];s=rc([e.to,s,o,e.from]);const c=rc([e.from,o,s]);this._active=!0,this._fn=e.fn||t4[e.type||typeof c],this._easing=Ia[e.easing]||Ia.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=r,this._from=c,this._to=s,this._promises=void 0}active(){return this._active}update(e,n,r){if(this._active){this._notify(!1);const s=this._target[this._prop],o=r-this._start,c=this._duration-o;this._start=r,this._duration=Math.floor(Math.max(c,e.duration)),this._total+=o,this._loop=!!e.loop,this._to=rc([e.to,n,s,e.from]),this._from=rc([e.from,s,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,r=this._duration,s=this._prop,o=this._from,c=this._loop,h=this._to;let g;if(this._active=o!==h&&(c||n<r),!this._active){this._target[s]=h,this._notify(!0);return}if(n<0){this._target[s]=o;return}g=n/r%2,g=c&&g>1?2-g:g,g=this._easing(Math.min(1,Math.max(0,g))),this._target[s]=this._fn(o,h,g)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,r)=>{e.push({res:n,rej:r})})}_notify(e){const n=e?"res":"rej",r=this._promises||[];for(let s=0;s<r.length;s++)r[s][n]()}}class Hy{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!Fe(e))return;const n=Object.keys(Ct.animation),r=this._properties;Object.getOwnPropertyNames(e).forEach(s=>{const o=e[s];if(!Fe(o))return;const c={};for(const h of n)c[h]=o[h];(Rt(o.properties)&&o.properties||[s]).forEach(h=>{(h===s||!r.has(h))&&r.set(h,c)})})}_animateOptions(e,n){const r=n.options,s=i4(e,r);if(!s)return[];const o=this._createAnimations(s,r);return r.$shared&&r4(e.options.$animations,r).then(()=>{e.options=r},()=>{}),o}_createAnimations(e,n){const r=this._properties,s=[],o=e.$animations||(e.$animations={}),c=Object.keys(n),h=Date.now();let g;for(g=c.length-1;g>=0;--g){const p=c[g];if(p.charAt(0)==="$")continue;if(p==="options"){s.push(...this._animateOptions(e,n));continue}const x=n[p];let w=o[p];const _=r.get(p);if(w)if(_&&w.active()){w.update(_,x,h);continue}else w.cancel();if(!_||!_.duration){e[p]=x;continue}o[p]=w=new n4(_,e,p,x),s.push(w)}return s}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const r=this._createAnimations(e,n);if(r.length)return Dr.add(this._chart,r),!0}}function r4(t,e){const n=[],r=Object.keys(e);for(let s=0;s<r.length;s++){const o=t[r[s]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function i4(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function yp(t,e){const n=t&&t.options||{},r=n.reverse,s=n.min===void 0?e:0,o=n.max===void 0?e:0;return{start:r?o:s,end:r?s:o}}function s4(t,e,n){if(n===!1)return!1;const r=yp(t,n),s=yp(e,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}function o4(t){let e,n,r,s;return Fe(t)?(e=t.top,n=t.right,r=t.bottom,s=t.left):e=n=r=s=t,{top:e,right:n,bottom:r,left:s,disabled:t===!1}}function Wy(t,e){const n=[],r=t._getSortedDatasetMetas(e);let s,o;for(s=0,o=r.length;s<o;++s)n.push(r[s].index);return n}function wp(t,e,n,r={}){const s=t.keys,o=r.mode==="single";let c,h,g,p;if(e===null)return;let x=!1;for(c=0,h=s.length;c<h;++c){if(g=+s[c],g===n){if(x=!0,r.all)continue;break}p=t.values[g],Qn(p)&&(o||e===0||Nr(e)===Nr(p))&&(e+=p)}return!x&&!r.all?0:e}function a4(t,e){const{iScale:n,vScale:r}=e,s=n.axis==="x"?"x":"y",o=r.axis==="x"?"x":"y",c=Object.keys(t),h=new Array(c.length);let g,p,x;for(g=0,p=c.length;g<p;++g)x=c[g],h[g]={[s]:x,[o]:t[x]};return h}function Yd(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function l4(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function c4(t){const{min:e,max:n,minDefined:r,maxDefined:s}=t.getUserBounds();return{min:r?e:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}function u4(t,e,n){const r=t[e]||(t[e]={});return r[n]||(r[n]={})}function vp(t,e,n,r){for(const s of e.getMatchingVisibleMetas(r).reverse()){const o=t[s.index];if(n&&o>0||!n&&o<0)return s.index}return null}function bp(t,e){const{chart:n,_cachedMeta:r}=t,s=n._stacks||(n._stacks={}),{iScale:o,vScale:c,index:h}=r,g=o.axis,p=c.axis,x=l4(o,c,r),w=e.length;let _;for(let E=0;E<w;++E){const A=e[E],{[g]:S,[p]:O}=A,I=A._stacks||(A._stacks={});_=I[p]=u4(s,x,S),_[h]=O,_._top=vp(_,c,!0,r.type),_._bottom=vp(_,c,!1,r.type);const R=_._visualValues||(_._visualValues={});R[h]=O}}function Kd(t,e){const n=t.scales;return Object.keys(n).filter(r=>n[r].axis===e).shift()}function d4(t,e){return _s(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function h4(t,e,n){return _s(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function ea(t,e){const n=t.controller.index,r=t.vScale&&t.vScale.axis;if(r){e=e||t._parsed;for(const s of e){const o=s._stacks;if(!o||o[r]===void 0||o[r][n]===void 0)return;delete o[r][n],o[r]._visualValues!==void 0&&o[r]._visualValues[n]!==void 0&&delete o[r]._visualValues[n]}}}const qd=t=>t==="reset"||t==="none",_p=(t,e)=>e?t:Object.assign({},t),f4=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:Wy(n,!0),values:null};class lo{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=Yd(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&ea(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(w,_,E,A)=>w==="x"?_:w==="r"?A:E,o=n.xAxisID=Pe(r.xAxisID,Kd(e,"x")),c=n.yAxisID=Pe(r.yAxisID,Kd(e,"y")),h=n.rAxisID=Pe(r.rAxisID,Kd(e,"r")),g=n.indexAxis,p=n.iAxisID=s(g,o,c,h),x=n.vAxisID=s(g,c,o,h);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(c),n.rScale=this.getScaleForId(h),n.iScale=this.getScaleForId(p),n.vScale=this.getScaleForId(x)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&rp(this._data,this),e._stacked&&ea(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Fe(n)){const s=this._cachedMeta;this._data=a4(n,s)}else if(r!==n){if(r){rp(r,this);const s=this._cachedMeta;ea(s),s._parsed=[]}n&&Object.isExtensible(n)&&YS(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const o=n._stacked;n._stacked=Yd(n.vScale,n),n.stack!==r.stack&&(s=!0,ea(n),n.stack=r.stack),this._resyncElements(e),(s||o!==n._stacked)&&(bp(this,n._parsed),n._stacked=Yd(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:o,_stacked:c}=r,h=o.axis;let g=e===0&&n===s.length?!0:r._sorted,p=e>0&&r._parsed[e-1],x,w,_;if(this._parsing===!1)r._parsed=s,r._sorted=!0,_=s;else{Rt(s[e])?_=this.parseArrayData(r,s,e,n):Fe(s[e])?_=this.parseObjectData(r,s,e,n):_=this.parsePrimitiveData(r,s,e,n);const E=()=>w[h]===null||p&&w[h]<p[h];for(x=0;x<n;++x)r._parsed[x+e]=w=_[x],g&&(E()&&(g=!1),p=w);r._sorted=g}c&&bp(this,_)}parsePrimitiveData(e,n,r,s){const{iScale:o,vScale:c}=e,h=o.axis,g=c.axis,p=o.getLabels(),x=o===c,w=new Array(s);let _,E,A;for(_=0,E=s;_<E;++_)A=_+r,w[_]={[h]:x||o.parse(p[A],A),[g]:c.parse(n[A],A)};return w}parseArrayData(e,n,r,s){const{xScale:o,yScale:c}=e,h=new Array(s);let g,p,x,w;for(g=0,p=s;g<p;++g)x=g+r,w=n[x],h[g]={x:o.parse(w[0],x),y:c.parse(w[1],x)};return h}parseObjectData(e,n,r,s){const{xScale:o,yScale:c}=e,{xAxisKey:h="x",yAxisKey:g="y"}=this._parsing,p=new Array(s);let x,w,_,E;for(x=0,w=s;x<w;++x)_=x+r,E=n[_],p[x]={x:o.parse(wo(E,h),_),y:c.parse(wo(E,g),_)};return p}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const s=this.chart,o=this._cachedMeta,c=n[e.axis],h={keys:Wy(s,!0),values:n._stacks[e.axis]._visualValues};return wp(h,c,o.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const o=r[n.axis];let c=o===null?NaN:o;const h=s&&r._stacks[n.axis];s&&h&&(s.values=h,c=wp(s,o,this._cachedMeta.index)),e.min=Math.min(e.min,c),e.max=Math.max(e.max,c)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,o=r._sorted&&e===r.iScale,c=s.length,h=this._getOtherScale(e),g=f4(n,r,this.chart),p={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:x,max:w}=c4(h);let _,E;function A(){E=s[_];const S=E[h.axis];return!Qn(E[e.axis])||x>S||w<S}for(_=0;_<c&&!(!A()&&(this.updateRangeFromParsed(p,e,E,g),o));++_);if(o){for(_=c-1;_>=0;--_)if(!A()){this.updateRangeFromParsed(p,e,E,g);break}}return p}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,o,c;for(s=0,o=n.length;s<o;++s)c=n[s][e.axis],Qn(c)&&r.push(c);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,o=this.getParsed(e);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=o4(Pe(this.options.clip,s4(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,r=this._cachedMeta,s=r.data||[],o=n.chartArea,c=[],h=this._drawStart||0,g=this._drawCount||s.length-h,p=this.options.drawActiveElementsOnTop;let x;for(r.dataset&&r.dataset.draw(e,o,h,g),x=h;x<h+g;++x){const w=s[x];w.hidden||(w.active&&p?c.push(w):w.draw(e,o))}for(x=0;x<c.length;++x)c[x].draw(e,o)}getStyle(e,n){const r=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const c=this._cachedMeta.data[e];o=c.$context||(c.$context=h4(this.getContext(),e,c)),o.parsed=this.getParsed(e),o.raw=s.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=d4(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=r,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s=n==="active",o=this._cachedDataOpts,c=e+"-"+n,h=o[c],g=this.enableOptionSharing&&nl(r);if(h)return _p(h,g);const p=this.chart.config,x=p.datasetElementScopeKeys(this._type,e),w=s?[`${e}Hover`,"hover",e,""]:[e,""],_=p.getOptionScopes(this.getDataset(),x),E=Object.keys(Ct.elements[e]),A=()=>this.getContext(r,s,n),S=p.resolveNamedOptions(_,E,A,w);return S.$shared&&(S.$shared=g,o[c]=Object.freeze(_p(S,g))),S}_resolveAnimations(e,n,r){const s=this.chart,o=this._cachedDataOpts,c=`animation-${n}`,h=o[c];if(h)return h;let g;if(s.options.animation!==!1){const x=this.chart.config,w=x.datasetAnimationScopeKeys(this._type,n),_=x.getOptionScopes(this.getDataset(),w);g=x.createResolver(_,this.getContext(e,r,n))}const p=new Hy(s,g&&g.animations);return g&&g._cacheable&&(o[c]=Object.freeze(p)),p}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||qd(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,o=this.getSharedOptions(r),c=this.includeOptions(n,o)||o!==s;return this.updateSharedOptions(o,n,r),{sharedOptions:o,includeOptions:c}}updateElement(e,n,r,s){qd(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!qd(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const o=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[h,g,p]of this._syncList)this[h](g,p);this._syncList=[];const s=r.length,o=n.length,c=Math.min(o,s);c&&this.parse(0,c),o>s?this._insertElements(s,o-s,e):o<s&&this._removeElements(o,s-o)}_insertElements(e,n,r=!0){const s=this._cachedMeta,o=s.data,c=e+n;let h;const g=p=>{for(p.length+=n,h=p.length-1;h>=c;h--)p[h]=p[h-n]};for(g(o),h=e;h<c;++h)o[h]=new this.dataElementType;this._parsing&&g(s._parsed),this.parse(e,n),r&&this.updateElements(o,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&ea(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ve(lo,"defaults",{}),ve(lo,"datasetElementType",null),ve(lo,"dataElementType",null);function g4(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let r=[];for(let s=0,o=n.length;s<o;s++)r=r.concat(n[s].controller.getAllParsedValues(t));t._cache.$bar=Iy(r.sort((s,o)=>s-o))}return t._cache.$bar}function p4(t){const e=t.iScale,n=g4(e,t.type);let r=e._length,s,o,c,h;const g=()=>{c===32767||c===-32768||(nl(h)&&(r=Math.min(r,Math.abs(c-h)||r)),h=c)};for(s=0,o=n.length;s<o;++s)c=e.getPixelForValue(n[s]),g();for(h=void 0,s=0,o=e.ticks.length;s<o;++s)c=e.getPixelForTick(s),g();return r}function m4(t,e,n,r){const s=n.barThickness;let o,c;return Xe(s)?(o=e.min*n.categoryPercentage,c=n.barPercentage):(o=s*r,c=1),{chunk:o/r,ratio:c,start:e.pixels[t]-o/2}}function x4(t,e,n,r){const s=e.pixels,o=s[t];let c=t>0?s[t-1]:null,h=t<s.length-1?s[t+1]:null;const g=n.categoryPercentage;c===null&&(c=o-(h===null?e.end-e.start:h-o)),h===null&&(h=o+o-c);const p=o-(o-Math.min(c,h))/2*g;return{chunk:Math.abs(h-c)/2*g/r,ratio:n.barPercentage,start:p}}function y4(t,e,n,r){const s=n.parse(t[0],r),o=n.parse(t[1],r),c=Math.min(s,o),h=Math.max(s,o);let g=c,p=h;Math.abs(c)>Math.abs(h)&&(g=h,p=c),e[n.axis]=p,e._custom={barStart:g,barEnd:p,start:s,end:o,min:c,max:h}}function Gy(t,e,n,r){return Rt(t)?y4(t,e,n,r):e[n.axis]=n.parse(t,r),e}function Cp(t,e,n,r){const s=t.iScale,o=t.vScale,c=s.getLabels(),h=s===o,g=[];let p,x,w,_;for(p=n,x=n+r;p<x;++p)_=e[p],w={},w[s.axis]=h||s.parse(c[p],p),g.push(Gy(_,w,o,p));return g}function Zd(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function w4(t,e,n){return t!==0?Nr(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function v4(t){let e,n,r,s,o;return t.horizontal?(e=t.base>t.x,n="left",r="right"):(e=t.base<t.y,n="bottom",r="top"),e?(s="end",o="start"):(s="start",o="end"),{start:n,end:r,reverse:e,top:s,bottom:o}}function b4(t,e,n,r){let s=e.borderSkipped;const o={};if(!s){t.borderSkipped=o;return}if(s===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:g,top:p,bottom:x}=v4(t);s==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===r?s=p:(n._bottom||0)===r?s=x:(o[Ep(x,c,h,g)]=!0,s=p)),o[Ep(s,c,h,g)]=!0,t.borderSkipped=o}function Ep(t,e,n,r){return r?(t=_4(t,e,n),t=Sp(t,n,e)):t=Sp(t,e,n),t}function _4(t,e,n){return t===e?n:t===n?e:t}function Sp(t,e,n){return t==="start"?e:t==="end"?n:t}function C4(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class Ac extends lo{parsePrimitiveData(e,n,r,s){return Cp(e,n,r,s)}parseArrayData(e,n,r,s){return Cp(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:o,vScale:c}=e,{xAxisKey:h="x",yAxisKey:g="y"}=this._parsing,p=o.axis==="x"?h:g,x=c.axis==="x"?h:g,w=[];let _,E,A,S;for(_=r,E=r+s;_<E;++_)S=n[_],A={},A[o.axis]=o.parse(wo(S,p),_),w.push(Gy(wo(S,x),A,c,_));return w}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const o=r._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,o=this.getParsed(e),c=o._custom,h=Zd(c)?"["+c.start+", "+c.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const o=s==="reset",{index:c,_cachedMeta:{vScale:h}}=this,g=h.getBasePixel(),p=h.isHorizontal(),x=this._getRuler(),{sharedOptions:w,includeOptions:_}=this._getSharedOptions(n,s);for(let E=n;E<n+r;E++){const A=this.getParsed(E),S=o||Xe(A[h.axis])?{base:g,head:g}:this._calculateBarValuePixels(E),O=this._calculateBarIndexPixels(E,x),I=(A._stacks||{})[h.axis],R={horizontal:p,base:S.base,enableBorderRadius:!I||Zd(A._custom)||c===I._top||c===I._bottom,x:p?S.head:O.center,y:p?O.center:S.head,height:p?O.size:Math.abs(S.size),width:p?Math.abs(S.size):O.size};_&&(R.options=w||this.resolveDataElementOptions(E,e[E].active?"active":s));const k=R.options||e[E].options;b4(R,k,I,c),C4(R,k,x.ratio),this.updateElement(e[E],E,R,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(x=>x.controller.options.grouped),o=r.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(n),g=h&&h[r.axis],p=x=>{const w=x._parsed.find(E=>E[r.axis]===g),_=w&&w[x.vScale.axis];if(Xe(_)||isNaN(_))return!0};for(const x of s)if(!(n!==void 0&&p(x))&&((o===!1||c.indexOf(x.stack)===-1||o===void 0&&x.stack===void 0)&&c.push(x.stack),x.index===e))break;return c.length||c.push(void 0),c}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const s=this._getStacks(e,r),o=n!==void 0?s.indexOf(n):-1;return o===-1?s.length-1:o}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let o,c;for(o=0,c=n.data.length;o<c;++o)s.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));const h=e.barThickness;return{min:h||p4(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:h?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r,index:s},options:{base:o,minBarLength:c}}=this,h=o||0,g=this.getParsed(e),p=g._custom,x=Zd(p);let w=g[n.axis],_=0,E=r?this.applyStack(n,g,r):w,A,S;E!==w&&(_=E-w,E=w),x&&(w=p.barStart,E=p.barEnd-p.barStart,w!==0&&Nr(w)!==Nr(p.barEnd)&&(_=0),_+=w);const O=!Xe(o)&&!x?o:_;let I=n.getPixelForValue(O);if(this.chart.getDataVisibility(e)?A=n.getPixelForValue(_+E):A=I,S=A-I,Math.abs(S)<c){S=w4(S,n,h)*c,w===h&&(I-=S/2);const R=n.getPixelForDecimal(0),k=n.getPixelForDecimal(1),P=Math.min(R,k),F=Math.max(R,k);I=Math.max(Math.min(I,F),P),A=I+S,r&&!x&&(g._stacks[n.axis]._visualValues[s]=n.getValueForPixel(A)-n.getValueForPixel(I))}if(I===n.getPixelForValue(h)){const R=Nr(S)*n.getLineWidthForValue(h)/2;I+=R,S-=R}return{size:S,base:I,head:A,center:A+S/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,o=s.skipNull,c=Pe(s.maxBarThickness,1/0);let h,g;if(n.grouped){const p=o?this._getStackCount(e):n.stackCount,x=s.barThickness==="flex"?x4(e,n,s,p):m4(e,n,s,p),w=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);h=x.start+x.chunk*w+x.chunk/2,g=Math.min(c,x.chunk*x.ratio)}else h=r.getPixelForValue(this.getParsed(e)[r.axis],e),g=Math.min(c,n.min*n.ratio);return{base:h-g/2,head:h+g/2,center:h,size:g}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let o=0;for(;o<s;++o)this.getParsed(o)[n.axis]!==null&&!r[o].hidden&&r[o].draw(this._ctx)}}ve(Ac,"id","bar"),ve(Ac,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ve(Ac,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Ic extends lo{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:o}=n,c=this.chart._animationsDisabled;let{start:h,count:g}=ZS(n,s,c);this._drawStart=h,this._drawCount=g,QS(n)&&(h=0,g=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=s;const p=this.resolveDatasetElementOptions(e);this.options.showLine||(p.borderWidth=0),p.segment=this.options.segment,this.updateElement(r,void 0,{animated:!c,options:p},e),this.updateElements(s,h,g,e)}updateElements(e,n,r,s){const o=s==="reset",{iScale:c,vScale:h,_stacked:g,_dataset:p}=this._cachedMeta,{sharedOptions:x,includeOptions:w}=this._getSharedOptions(n,s),_=c.axis,E=h.axis,{spanGaps:A,segment:S}=this.options,O=rl(A)?A:Number.POSITIVE_INFINITY,I=this.chart._animationsDisabled||o||s==="none",R=n+r,k=e.length;let P=n>0&&this.getParsed(n-1);for(let F=0;F<k;++F){const H=e[F],B=I?H:{};if(F<n||F>=R){B.skip=!0;continue}const z=this.getParsed(F),V=Xe(z[E]),J=B[_]=c.getPixelForValue(z[_],F),se=B[E]=o||V?h.getBasePixel():h.getPixelForValue(g?this.applyStack(h,z,g):z[E],F);B.skip=isNaN(J)||isNaN(se)||V,B.stop=F>0&&Math.abs(z[_]-P[_])>O,S&&(B.parsed=z,B.raw=p.data[F]),w&&(B.options=x||this.resolveDataElementOptions(F,H.active?"active":s)),I||this.updateElement(H,F,B,s),P=z}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const o=s[0].size(this.resolveDataElementOptions(0)),c=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,o,c)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}ve(Ic,"id","line"),ve(Ic,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ve(Ic,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function $i(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class U0{constructor(e){ve(this,"options");this.options=e||{}}static override(e){Object.assign(U0.prototype,e)}init(){}formats(){return $i()}parse(){return $i()}format(){return $i()}add(){return $i()}diff(){return $i()}startOf(){return $i()}endOf(){return $i()}}var E4={_date:U0};function S4(t,e,n,r){const{controller:s,data:o,_sorted:c}=t,h=s._cachedMeta.iScale,g=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(h&&e===h.axis&&e!=="r"&&c&&o.length){const p=h._reversePixels?XS:as;if(r){if(s._sharedOptions){const x=o[0],w=typeof x.getRange=="function"&&x.getRange(e);if(w){const _=p(o,e,n-w),E=p(o,e,n+w);return{lo:_.lo,hi:E.hi}}}}else{const x=p(o,e,n);if(g){const{vScale:w}=s._cachedMeta,{_parsed:_}=t,E=_.slice(0,x.lo+1).reverse().findIndex(S=>!Xe(S[w.axis]));x.lo-=Math.max(0,E);const A=_.slice(x.hi).findIndex(S=>!Xe(S[w.axis]));x.hi+=Math.max(0,A)}return x}}return{lo:0,hi:o.length-1}}function Hu(t,e,n,r,s){const o=t.getSortedVisibleDatasetMetas(),c=n[e];for(let h=0,g=o.length;h<g;++h){const{index:p,data:x}=o[h],{lo:w,hi:_}=S4(o[h],e,c,s);for(let E=w;E<=_;++E){const A=x[E];A.skip||r(A,p,E)}}}function A4(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(r,s){const o=e?Math.abs(r.x-s.x):0,c=n?Math.abs(r.y-s.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function Qd(t,e,n,r,s){const o=[];return!s&&!t.isPointInArea(e)||Hu(t,n,e,function(h,g,p){!s&&!il(h,t.chartArea,0)||h.inRange(e.x,e.y,r)&&o.push({element:h,datasetIndex:g,index:p})},!0),o}function I4(t,e,n,r){let s=[];function o(c,h,g){const{startAngle:p,endAngle:x}=c.getProps(["startAngle","endAngle"],r),{angle:w}=HS(c,{x:e.x,y:e.y});Sy(w,p,x)&&s.push({element:c,datasetIndex:h,index:g})}return Hu(t,n,e,o),s}function T4(t,e,n,r,s,o){let c=[];const h=A4(n);let g=Number.POSITIVE_INFINITY;function p(x,w,_){const E=x.inRange(e.x,e.y,s);if(r&&!E)return;const A=x.getCenterPoint(s);if(!(!!o||t.isPointInArea(A))&&!E)return;const O=h(e,A);O<g?(c=[{element:x,datasetIndex:w,index:_}],g=O):O===g&&c.push({element:x,datasetIndex:w,index:_})}return Hu(t,n,e,p),c}function Jd(t,e,n,r,s,o){return!o&&!t.isPointInArea(e)?[]:n==="r"&&!r?I4(t,e,n,s):T4(t,e,n,r,s,o)}function Ap(t,e,n,r,s){const o=[],c=n==="x"?"inXRange":"inYRange";let h=!1;return Hu(t,n,e,(g,p,x)=>{g[c]&&g[c](e[n],s)&&(o.push({element:g,datasetIndex:p,index:x}),h=h||g.inRange(e.x,e.y,s))}),r&&!h?[]:o}var N4={modes:{index(t,e,n,r){const s=Qi(e,t),o=n.axis||"x",c=n.includeInvisible||!1,h=n.intersect?Qd(t,s,o,r,c):Jd(t,s,o,!1,r,c),g=[];return h.length?(t.getSortedVisibleDatasetMetas().forEach(p=>{const x=h[0].index,w=p.data[x];w&&!w.skip&&g.push({element:w,datasetIndex:p.index,index:x})}),g):[]},dataset(t,e,n,r){const s=Qi(e,t),o=n.axis||"xy",c=n.includeInvisible||!1;let h=n.intersect?Qd(t,s,o,r,c):Jd(t,s,o,!1,r,c);if(h.length>0){const g=h[0].datasetIndex,p=t.getDatasetMeta(g).data;h=[];for(let x=0;x<p.length;++x)h.push({element:p[x],datasetIndex:g,index:x})}return h},point(t,e,n,r){const s=Qi(e,t),o=n.axis||"xy",c=n.includeInvisible||!1;return Qd(t,s,o,r,c)},nearest(t,e,n,r){const s=Qi(e,t),o=n.axis||"xy",c=n.includeInvisible||!1;return Jd(t,s,o,n.intersect,r,c)},x(t,e,n,r){const s=Qi(e,t);return Ap(t,s,"x",n.intersect,r)},y(t,e,n,r){const s=Qi(e,t);return Ap(t,s,"y",n.intersect,r)}}};const Xy=["left","top","right","bottom"];function ta(t,e){return t.filter(n=>n.pos===e)}function Ip(t,e){return t.filter(n=>Xy.indexOf(n.pos)===-1&&n.box.axis===e)}function na(t,e){return t.sort((n,r)=>{const s=e?r:n,o=e?n:r;return s.weight===o.weight?s.index-o.index:s.weight-o.weight})}function k4(t){const e=[];let n,r,s,o,c,h;for(n=0,r=(t||[]).length;n<r;++n)s=t[n],{position:o,options:{stack:c,stackWeight:h=1}}=s,e.push({index:n,box:s,pos:o,horizontal:s.isHorizontal(),weight:s.weight,stack:c&&o+c,stackWeight:h});return e}function O4(t){const e={};for(const n of t){const{stack:r,pos:s,stackWeight:o}=n;if(!r||!Xy.includes(s))continue;const c=e[r]||(e[r]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return e}function R4(t,e){const n=O4(t),{vBoxMaxWidth:r,hBoxMaxHeight:s}=e;let o,c,h;for(o=0,c=t.length;o<c;++o){h=t[o];const{fullSize:g}=h.box,p=n[h.stack],x=p&&h.stackWeight/p.weight;h.horizontal?(h.width=x?x*r:g&&e.availableWidth,h.height=s):(h.width=r,h.height=x?x*s:g&&e.availableHeight)}return n}function D4(t){const e=k4(t),n=na(e.filter(p=>p.box.fullSize),!0),r=na(ta(e,"left"),!0),s=na(ta(e,"right")),o=na(ta(e,"top"),!0),c=na(ta(e,"bottom")),h=Ip(e,"x"),g=Ip(e,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:s.concat(g).concat(c).concat(h),chartArea:ta(e,"chartArea"),vertical:r.concat(s).concat(g),horizontal:o.concat(c).concat(h)}}function Tp(t,e,n,r){return Math.max(t[n],e[n])+Math.max(t[r],e[r])}function $y(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function M4(t,e,n,r){const{pos:s,box:o}=n,c=t.maxPadding;if(!Fe(s)){n.size&&(t[s]-=n.size);const w=r[n.stack]||{size:0,count:1};w.size=Math.max(w.size,n.horizontal?o.height:o.width),n.size=w.size/w.count,t[s]+=n.size}o.getPadding&&$y(c,o.getPadding());const h=Math.max(0,e.outerWidth-Tp(c,t,"left","right")),g=Math.max(0,e.outerHeight-Tp(c,t,"top","bottom")),p=h!==t.w,x=g!==t.h;return t.w=h,t.h=g,n.horizontal?{same:p,other:x}:{same:x,other:p}}function P4(t){const e=t.maxPadding;function n(r){const s=Math.max(e[r]-t[r],0);return t[r]+=s,s}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function L4(t,e){const n=e.maxPadding;function r(s){const o={left:0,top:0,right:0,bottom:0};return s.forEach(c=>{o[c]=Math.max(e[c],n[c])}),o}return r(t?["left","right"]:["top","bottom"])}function da(t,e,n,r){const s=[];let o,c,h,g,p,x;for(o=0,c=t.length,p=0;o<c;++o){h=t[o],g=h.box,g.update(h.width||e.w,h.height||e.h,L4(h.horizontal,e));const{same:w,other:_}=M4(e,n,h,r);p|=w&&s.length,x=x||_,g.fullSize||s.push(h)}return p&&da(s,e,n,r)||x}function oc(t,e,n,r,s){t.top=n,t.left=e,t.right=e+r,t.bottom=n+s,t.width=r,t.height=s}function Np(t,e,n,r){const s=n.padding;let{x:o,y:c}=e;for(const h of t){const g=h.box,p=r[h.stack]||{placed:0,weight:1},x=h.stackWeight/p.weight||1;if(h.horizontal){const w=e.w*x,_=p.size||g.height;nl(p.start)&&(c=p.start),g.fullSize?oc(g,s.left,c,n.outerWidth-s.right-s.left,_):oc(g,e.left+p.placed,c,w,_),p.start=c,p.placed+=w,c=g.bottom}else{const w=e.h*x,_=p.size||g.width;nl(p.start)&&(o=p.start),g.fullSize?oc(g,o,s.top,_,n.outerHeight-s.bottom-s.top):oc(g,o,e.top+p.placed,_,w),p.start=o,p.placed+=w,o=g.right}}e.x=o,e.y=c}var Yn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,r){if(!t)return;const s=Jn(t.options.layout.padding),o=Math.max(e-s.width,0),c=Math.max(n-s.height,0),h=D4(t.boxes),g=h.vertical,p=h.horizontal;$e(t.boxes,S=>{typeof S.beforeLayout=="function"&&S.beforeLayout()});const x=g.reduce((S,O)=>O.box.options&&O.box.options.display===!1?S:S+1,0)||1,w=Object.freeze({outerWidth:e,outerHeight:n,padding:s,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/x,hBoxMaxHeight:c/2}),_=Object.assign({},s);$y(_,Jn(r));const E=Object.assign({maxPadding:_,w:o,h:c,x:s.left,y:s.top},s),A=R4(g.concat(p),w);da(h.fullSize,E,w,A),da(g,E,w,A),da(p,E,w,A)&&da(g,E,w,A),P4(E),Np(h.leftAndTop,E,w,A),E.x+=E.w,E.y+=E.h,Np(h.rightAndBottom,E,w,A),t.chartArea={left:E.left,top:E.top,right:E.left+E.w,bottom:E.top+E.h,height:E.h,width:E.w},$e(h.chartArea,S=>{const O=S.box;Object.assign(O,t.chartArea),O.update(E.w,E.h,{left:0,top:0,right:0,bottom:0})})}};class Yy{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,r){}removeEventListener(e,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,r,s){return n=Math.max(0,n||e.width),r=r||e.height,{width:n,height:Math.max(0,s?Math.floor(n/s):r)}}isAttached(e){return!0}updateConfig(e){}}class B4 extends Yy{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Tc="$chartjs",j4={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},kp=t=>t===null||t==="";function F4(t,e){const n=t.style,r=t.getAttribute("height"),s=t.getAttribute("width");if(t[Tc]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",kp(s)){const o=fp(t,"width");o!==void 0&&(t.width=o)}if(kp(r))if(t.style.height==="")t.height=t.width/(e||2);else{const o=fp(t,"height");o!==void 0&&(t.height=o)}return t}const Ky=zA?{passive:!0}:!1;function U4(t,e,n){t&&t.addEventListener(e,n,Ky)}function z4(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,Ky)}function V4(t,e){const n=j4[t.type]||t.type,{x:r,y:s}=Qi(t,e);return{type:n,chart:e,native:t,x:r!==void 0?r:null,y:s!==void 0?s:null}}function cu(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function H4(t,e,n){const r=t.canvas,s=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||cu(h.addedNodes,r),c=c&&!cu(h.removedNodes,r);c&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function W4(t,e,n){const r=t.canvas,s=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||cu(h.removedNodes,r),c=c&&!cu(h.addedNodes,r);c&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const ol=new Map;let Op=0;function qy(){const t=window.devicePixelRatio;t!==Op&&(Op=t,ol.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function G4(t,e){ol.size||window.addEventListener("resize",qy),ol.set(t,e)}function X4(t){ol.delete(t),ol.size||window.removeEventListener("resize",qy)}function $4(t,e,n){const r=t.canvas,s=r&&F0(r);if(!s)return;const o=Ny((h,g)=>{const p=s.clientWidth;n(h,g),p<s.clientWidth&&n()},window),c=new ResizeObserver(h=>{const g=h[0],p=g.contentRect.width,x=g.contentRect.height;p===0&&x===0||o(p,x)});return c.observe(s),G4(t,o),c}function eh(t,e,n){n&&n.disconnect(),e==="resize"&&X4(t)}function Y4(t,e,n){const r=t.canvas,s=Ny(o=>{t.ctx!==null&&n(V4(o,t))},t);return U4(r,e,s),s}class K4 extends Yy{acquireContext(e,n){const r=e&&e.getContext&&e.getContext("2d");return r&&r.canvas===e?(F4(e,n),r):null}releaseContext(e){const n=e.canvas;if(!n[Tc])return!1;const r=n[Tc].initial;["height","width"].forEach(o=>{const c=r[o];Xe(c)?n.removeAttribute(o):n.setAttribute(o,c)});const s=r.style||{};return Object.keys(s).forEach(o=>{n.style[o]=s[o]}),n.width=n.width,delete n[Tc],!0}addEventListener(e,n,r){this.removeEventListener(e,n);const s=e.$proxies||(e.$proxies={}),c={attach:H4,detach:W4,resize:$4}[n]||Y4;s[n]=c(e,n,r)}removeEventListener(e,n){const r=e.$proxies||(e.$proxies={}),s=r[n];if(!s)return;({attach:eh,detach:eh,resize:eh}[n]||z4)(e,n,s),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,r,s){return UA(e,n,r,s)}isAttached(e){const n=e&&F0(e);return!!(n&&n.isConnected)}}function q4(t){return!j0()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?B4:K4}class kr{constructor(){ve(this,"x");ve(this,"y");ve(this,"active",!1);ve(this,"options");ve(this,"$animations")}tooltipPosition(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}hasValue(){return rl(this.x)&&rl(this.y)}getProps(e,n){const r=this.$animations;if(!n||!r)return this;const s={};return e.forEach(o=>{s[o]=r[o]&&r[o].active()?r[o]._to:this[o]}),s}}ve(kr,"defaults",{}),ve(kr,"defaultRoutes");function Z4(t,e){const n=t.options.ticks,r=Q4(t),s=Math.min(n.maxTicksLimit||r,r),o=n.major.enabled?e8(e):[],c=o.length,h=o[0],g=o[c-1],p=[];if(c>s)return t8(e,p,o,c/s),p;const x=J4(o,e,s);if(c>0){let w,_;const E=c>1?Math.round((g-h)/(c-1)):null;for(ac(e,p,x,Xe(E)?0:h-E,h),w=0,_=c-1;w<_;w++)ac(e,p,x,o[w],o[w+1]);return ac(e,p,x,g,Xe(E)?e.length:g+E),p}return ac(e,p,x),p}function Q4(t){const e=t.options.offset,n=t._tickSize(),r=t._length/n+(e?0:1),s=t._maxLength/n;return Math.floor(Math.min(r,s))}function J4(t,e,n){const r=n8(t),s=e.length/n;if(!r)return Math.max(s,1);const o=jS(r);for(let c=0,h=o.length-1;c<h;c++){const g=o[c];if(g>s)return g}return Math.max(s,1)}function e8(t){const e=[];let n,r;for(n=0,r=t.length;n<r;n++)t[n].major&&e.push(n);return e}function t8(t,e,n,r){let s=0,o=n[0],c;for(r=Math.ceil(r),c=0;c<t.length;c++)c===o&&(e.push(t[c]),s++,o=n[s*r])}function ac(t,e,n,r,s){const o=Pe(r,0),c=Math.min(Pe(s,t.length),t.length);let h=0,g,p,x;for(n=Math.ceil(n),s&&(g=s-r,n=g/Math.floor(g/n)),x=o;x<0;)h++,x=Math.round(o+h*n);for(p=Math.max(o,0);p<c;p++)p===x&&(e.push(t[p]),h++,x=Math.round(o+h*n))}function n8(t){const e=t.length;let n,r;if(e<2)return!1;for(r=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==r)return!1;return r}const r8=t=>t==="left"?"right":t==="right"?"left":t,Rp=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,Dp=(t,e)=>Math.min(e||t,t);function Mp(t,e){const n=[],r=t.length/e,s=t.length;let o=0;for(;o<s;o+=r)n.push(t[Math.floor(o)]);return n}function i8(t,e,n){const r=t.ticks.length,s=Math.min(e,r-1),o=t._startPixel,c=t._endPixel,h=1e-6;let g=t.getPixelForTick(s),p;if(!(n&&(r===1?p=Math.max(g-o,c-g):e===0?p=(t.getPixelForTick(1)-g)/2:p=(g-t.getPixelForTick(s-1))/2,g+=s<e?p:-p,g<o-h||g>c+h)))return g}function s8(t,e){$e(t,n=>{const r=n.gc,s=r.length/2;let o;if(s>e){for(o=0;o<s;++o)delete n.data[r[o]];r.splice(0,s)}})}function ra(t){return t.drawTicks?t.tickLength:0}function Pp(t,e){if(!t.display)return 0;const n=rn(t.font,e),r=Jn(t.padding);return(Rt(t.text)?t.text.length:1)*n.lineHeight+r.height}function o8(t,e){return _s(t,{scale:e,type:"scale"})}function a8(t,e,n){return _s(t,{tick:n,index:e,type:"tick"})}function l8(t,e,n){let r=O0(t);return(n&&e!=="right"||!n&&e==="right")&&(r=r8(r)),r}function c8(t,e,n,r){const{top:s,left:o,bottom:c,right:h,chart:g}=t,{chartArea:p,scales:x}=g;let w=0,_,E,A;const S=c-s,O=h-o;if(t.isHorizontal()){if(E=tn(r,o,h),Fe(n)){const I=Object.keys(n)[0],R=n[I];A=x[I].getPixelForValue(R)+S-e}else n==="center"?A=(p.bottom+p.top)/2+S-e:A=Rp(t,n,e);_=h-o}else{if(Fe(n)){const I=Object.keys(n)[0],R=n[I];E=x[I].getPixelForValue(R)-O+e}else n==="center"?E=(p.left+p.right)/2-O+e:E=Rp(t,n,e);A=tn(r,c,s),w=n==="left"?-lr:lr}return{titleX:E,titleY:A,maxWidth:_,rotation:w}}class Oo extends kr{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:r,_suggestedMax:s}=this;return e=vr(e,Number.POSITIVE_INFINITY),n=vr(n,Number.NEGATIVE_INFINITY),r=vr(r,Number.POSITIVE_INFINITY),s=vr(s,Number.NEGATIVE_INFINITY),{min:vr(e,r),max:vr(n,s),minDefined:Qn(e),maxDefined:Qn(n)}}getMinMax(e){let{min:n,max:r,minDefined:s,maxDefined:o}=this.getUserBounds(),c;if(s&&o)return{min:n,max:r};const h=this.getMatchingVisibleMetas();for(let g=0,p=h.length;g<p;++g)c=h[g].controller.getMinMax(this,e),s||(n=Math.min(n,c.min)),o||(r=Math.max(r,c.max));return n=o&&n>r?r:n,r=s&&n>r?n:r,{min:vr(n,vr(r,n)),max:vr(r,vr(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){at(this.options.beforeUpdate,[this])}update(e,n,r){const{beginAtZero:s,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=yA(this,o,s),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const g=h<this.ticks.length;this._convertTicksToLabels(g?Mp(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=Z4(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),g&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,e=!e),this._startPixel=n,this._endPixel=r,this._reversePixels=e,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){at(this.options.afterUpdate,[this])}beforeSetDimensions(){at(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){at(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),at(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){at(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let r,s,o;for(r=0,s=e.length;r<s;r++)o=e[r],o.label=at(n.callback,[o.value,r,e],this)}afterTickToLabelConversion(){at(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){at(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,r=Dp(this.ticks.length,e.ticks.maxTicksLimit),s=n.minRotation||0,o=n.maxRotation;let c=s,h,g,p;if(!this._isVisible()||!n.display||s>=o||r<=1||!this.isHorizontal()){this.labelRotation=s;return}const x=this._getLabelSizes(),w=x.widest.width,_=x.highest.height,E=Pn(this.chart.width-w,0,this.maxWidth);h=e.offset?this.maxWidth/r:E/(r-1),w+6>h&&(h=E/(r-(e.offset?.5:1)),g=this.maxHeight-ra(e.grid)-n.padding-Pp(e.title,this.chart.options.font),p=Math.sqrt(w*w+_*_),c=VS(Math.min(Math.asin(Pn((x.highest.height+6)/h,-1,1)),Math.asin(Pn(g/p,-1,1))-Math.asin(Pn(_/p,-1,1)))),c=Math.max(s,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){at(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){at(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:r,title:s,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const g=Pp(s,n.options.font);if(h?(e.width=this.maxWidth,e.height=ra(o)+g):(e.height=this.maxHeight,e.width=ra(o)+g),r.display&&this.ticks.length){const{first:p,last:x,widest:w,highest:_}=this._getLabelSizes(),E=r.padding*2,A=ss(this.labelRotation),S=Math.cos(A),O=Math.sin(A);if(h){const I=r.mirror?0:O*w.width+S*_.height;e.height=Math.min(this.maxHeight,e.height+I+E)}else{const I=r.mirror?0:S*w.width+O*_.height;e.width=Math.min(this.maxWidth,e.width+I+E)}this._calculatePadding(p,x,O,S)}}this._handleMargins(),h?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,r,s){const{ticks:{align:o,padding:c},position:h}=this.options,g=this.labelRotation!==0,p=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const x=this.getPixelForTick(0)-this.left,w=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,E=0;g?p?(_=s*e.width,E=r*n.height):(_=r*e.height,E=s*n.width):o==="start"?E=n.width:o==="end"?_=e.width:o!=="inner"&&(_=e.width/2,E=n.width/2),this.paddingLeft=Math.max((_-x+c)*this.width/(this.width-x),0),this.paddingRight=Math.max((E-w+c)*this.width/(this.width-w),0)}else{let x=n.height/2,w=e.height/2;o==="start"?(x=0,w=e.height):o==="end"&&(x=n.height,w=0),this.paddingTop=x+c,this.paddingBottom=w+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){at(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,r;for(n=0,r=e.length;n<r;n++)Xe(e[n].label)&&(e.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=Mp(r,n)),this._labelSizes=e=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,r){const{ctx:s,_longestTextCache:o}=this,c=[],h=[],g=Math.floor(n/Dp(n,r));let p=0,x=0,w,_,E,A,S,O,I,R,k,P,F;for(w=0;w<n;w+=g){if(A=e[w].label,S=this._resolveTickFontOptions(w),s.font=O=S.string,I=o[O]=o[O]||{data:{},gc:[]},R=S.lineHeight,k=P=0,!Xe(A)&&!Rt(A))k=lp(s,I.data,I.gc,k,A),P=R;else if(Rt(A))for(_=0,E=A.length;_<E;++_)F=A[_],!Xe(F)&&!Rt(F)&&(k=lp(s,I.data,I.gc,k,F),P+=R);c.push(k),h.push(P),p=Math.max(k,p),x=Math.max(P,x)}s8(o,n);const H=c.indexOf(p),B=h.indexOf(x),z=V=>({width:c[V]||0,height:h[V]||0});return{first:z(0),last:z(n-1),widest:z(H),highest:z(B),widths:c,heights:h}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return GS(this._alignToPixels?Xi(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const r=n[e];return r.$context||(r.$context=a8(this.getContext(),e,r))}return this.$context||(this.$context=o8(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=ss(this.labelRotation),r=Math.abs(Math.cos(n)),s=Math.abs(Math.sin(n)),o=this._getLabelSizes(),c=e.autoSkipPadding||0,h=o?o.widest.width+c:0,g=o?o.highest.height+c:0;return this.isHorizontal()?g*r>h*s?h/r:g/s:g*s<h*r?g/r:h/s}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,r=this.chart,s=this.options,{grid:o,position:c,border:h}=s,g=o.offset,p=this.isHorizontal(),w=this.ticks.length+(g?1:0),_=ra(o),E=[],A=h.setContext(this.getContext()),S=A.display?A.width:0,O=S/2,I=function(be){return Xi(r,be,S)};let R,k,P,F,H,B,z,V,J,se,Q,ge;if(c==="top")R=I(this.bottom),B=this.bottom-_,V=R-O,se=I(e.top)+O,ge=e.bottom;else if(c==="bottom")R=I(this.top),se=e.top,ge=I(e.bottom)-O,B=R+O,V=this.top+_;else if(c==="left")R=I(this.right),H=this.right-_,z=R-O,J=I(e.left)+O,Q=e.right;else if(c==="right")R=I(this.left),J=e.left,Q=I(e.right)-O,H=R+O,z=this.left+_;else if(n==="x"){if(c==="center")R=I((e.top+e.bottom)/2+.5);else if(Fe(c)){const be=Object.keys(c)[0],ae=c[be];R=I(this.chart.scales[be].getPixelForValue(ae))}se=e.top,ge=e.bottom,B=R+O,V=B+_}else if(n==="y"){if(c==="center")R=I((e.left+e.right)/2);else if(Fe(c)){const be=Object.keys(c)[0],ae=c[be];R=I(this.chart.scales[be].getPixelForValue(ae))}H=R-O,z=H-_,J=e.left,Q=e.right}const Se=Pe(s.ticks.maxTicksLimit,w),$=Math.max(1,Math.ceil(w/Se));for(k=0;k<w;k+=$){const be=this.getContext(k),ae=o.setContext(be),re=h.setContext(be),de=ae.lineWidth,he=ae.color,ke=re.dash||[],xe=re.dashOffset,Ue=ae.tickWidth,Ce=ae.tickColor,ct=ae.tickBorderDash||[],oe=ae.tickBorderDashOffset;P=i8(this,k,g),P!==void 0&&(F=Xi(r,P,de),p?H=z=J=Q=F:B=V=se=ge=F,E.push({tx1:H,ty1:B,tx2:z,ty2:V,x1:J,y1:se,x2:Q,y2:ge,width:de,color:he,borderDash:ke,borderDashOffset:xe,tickWidth:Ue,tickColor:Ce,tickBorderDash:ct,tickBorderDashOffset:oe}))}return this._ticksLength=w,this._borderValue=R,E}_computeLabelItems(e){const n=this.axis,r=this.options,{position:s,ticks:o}=r,c=this.isHorizontal(),h=this.ticks,{align:g,crossAlign:p,padding:x,mirror:w}=o,_=ra(r.grid),E=_+x,A=w?-x:E,S=-ss(this.labelRotation),O=[];let I,R,k,P,F,H,B,z,V,J,se,Q,ge="middle";if(s==="top")H=this.bottom-A,B=this._getXAxisLabelAlignment();else if(s==="bottom")H=this.top+A,B=this._getXAxisLabelAlignment();else if(s==="left"){const $=this._getYAxisLabelAlignment(_);B=$.textAlign,F=$.x}else if(s==="right"){const $=this._getYAxisLabelAlignment(_);B=$.textAlign,F=$.x}else if(n==="x"){if(s==="center")H=(e.top+e.bottom)/2+E;else if(Fe(s)){const $=Object.keys(s)[0],be=s[$];H=this.chart.scales[$].getPixelForValue(be)+E}B=this._getXAxisLabelAlignment()}else if(n==="y"){if(s==="center")F=(e.left+e.right)/2-E;else if(Fe(s)){const $=Object.keys(s)[0],be=s[$];F=this.chart.scales[$].getPixelForValue(be)}B=this._getYAxisLabelAlignment(_).textAlign}n==="y"&&(g==="start"?ge="top":g==="end"&&(ge="bottom"));const Se=this._getLabelSizes();for(I=0,R=h.length;I<R;++I){k=h[I],P=k.label;const $=o.setContext(this.getContext(I));z=this.getPixelForTick(I)+o.labelOffset,V=this._resolveTickFontOptions(I),J=V.lineHeight,se=Rt(P)?P.length:1;const be=se/2,ae=$.color,re=$.textStrokeColor,de=$.textStrokeWidth;let he=B;c?(F=z,B==="inner"&&(I===R-1?he=this.options.reverse?"left":"right":I===0?he=this.options.reverse?"right":"left":he="center"),s==="top"?p==="near"||S!==0?Q=-se*J+J/2:p==="center"?Q=-Se.highest.height/2-be*J+J:Q=-Se.highest.height+J/2:p==="near"||S!==0?Q=J/2:p==="center"?Q=Se.highest.height/2-be*J:Q=Se.highest.height-se*J,w&&(Q*=-1),S!==0&&!$.showLabelBackdrop&&(F+=J/2*Math.sin(S))):(H=z,Q=(1-se)*J/2);let ke;if($.showLabelBackdrop){const xe=Jn($.backdropPadding),Ue=Se.heights[I],Ce=Se.widths[I];let ct=Q-xe.top,oe=0-xe.left;switch(ge){case"middle":ct-=Ue/2;break;case"bottom":ct-=Ue;break}switch(B){case"center":oe-=Ce/2;break;case"right":oe-=Ce;break;case"inner":I===R-1?oe-=Ce:I>0&&(oe-=Ce/2);break}ke={left:oe,top:ct,width:Ce+xe.width,height:Ue+xe.height,color:$.backdropColor}}O.push({label:P,font:V,textOffset:Q,options:{rotation:S,color:ae,strokeColor:re,strokeWidth:de,textAlign:he,textBaseline:ge,translation:[F,H],backdrop:ke}})}return O}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-ss(this.labelRotation))return e==="top"?"left":"right";let s="center";return n.align==="start"?s="left":n.align==="end"?s="right":n.align==="inner"&&(s="inner"),s}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:r,mirror:s,padding:o}}=this.options,c=this._getLabelSizes(),h=e+o,g=c.widest.width;let p,x;return n==="left"?s?(x=this.right+o,r==="near"?p="left":r==="center"?(p="center",x+=g/2):(p="right",x+=g)):(x=this.right-h,r==="near"?p="right":r==="center"?(p="center",x-=g/2):(p="left",x=this.left)):n==="right"?s?(x=this.left+o,r==="near"?p="right":r==="center"?(p="center",x-=g/2):(p="left",x-=g)):(x=this.left+h,r==="near"?p="left":r==="center"?(p="center",x+=g/2):(p="right",x=this.right)):p="right",{textAlign:p,x}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:r,top:s,width:o,height:c}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(r,s,o,c),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const s=this.ticks.findIndex(o=>o.value===e);return s>=0?n.setContext(this.getContext(s)).lineWidth:0}drawGrid(e){const n=this.options.grid,r=this.ctx,s=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let o,c;const h=(g,p,x)=>{!x.width||!x.color||(r.save(),r.lineWidth=x.width,r.strokeStyle=x.color,r.setLineDash(x.borderDash||[]),r.lineDashOffset=x.borderDashOffset,r.beginPath(),r.moveTo(g.x,g.y),r.lineTo(p.x,p.y),r.stroke(),r.restore())};if(n.display)for(o=0,c=s.length;o<c;++o){const g=s[o];n.drawOnChartArea&&h({x:g.x1,y:g.y1},{x:g.x2,y:g.y2},g),n.drawTicks&&h({x:g.tx1,y:g.ty1},{x:g.tx2,y:g.ty2},{color:g.tickColor,width:g.tickWidth,borderDash:g.tickBorderDash,borderDashOffset:g.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:r,grid:s}}=this,o=r.setContext(this.getContext()),c=r.display?o.width:0;if(!c)return;const h=s.setContext(this.getContext(0)).lineWidth,g=this._borderValue;let p,x,w,_;this.isHorizontal()?(p=Xi(e,this.left,c)-c/2,x=Xi(e,this.right,h)+h/2,w=_=g):(w=Xi(e,this.top,c)-c/2,_=Xi(e,this.bottom,h)+h/2,p=x=g),n.save(),n.lineWidth=o.width,n.strokeStyle=o.color,n.beginPath(),n.moveTo(p,w),n.lineTo(x,_),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const r=this.ctx,s=this._computeLabelArea();s&&D0(r,s);const o=this.getLabelItems(e);for(const c of o){const h=c.options,g=c.font,p=c.label,x=c.textOffset;sl(r,p,0,x,g,h)}s&&M0(r)}drawTitle(){const{ctx:e,options:{position:n,title:r,reverse:s}}=this;if(!r.display)return;const o=rn(r.font),c=Jn(r.padding),h=r.align;let g=o.lineHeight/2;n==="bottom"||n==="center"||Fe(n)?(g+=c.bottom,Rt(r.text)&&(g+=o.lineHeight*(r.text.length-1))):g+=c.top;const{titleX:p,titleY:x,maxWidth:w,rotation:_}=c8(this,g,n,h);sl(e,r.text,0,0,o,{color:r.color,maxWidth:w,rotation:_,textAlign:l8(h,n,s),textBaseline:"middle",translation:[p,x]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,r=Pe(e.grid&&e.grid.z,-1),s=Pe(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Oo.prototype.draw?[{z:n,draw:o=>{this.draw(o)}}]:[{z:r,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:s,draw:()=>{this.drawBorder()}},{z:n,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",s=[];let o,c;for(o=0,c=n.length;o<c;++o){const h=n[o];h[r]===this.id&&(!e||h.type===e)&&s.push(h)}return s}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return rn(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class lc{constructor(e,n,r){this.type=e,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let r;h8(n)&&(r=this.register(n));const s=this.items,o=e.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in s||(s[o]=e,u8(e,c,r),this.override&&Ct.override(e.id,e.overrides)),c}get(e){return this.items[e]}unregister(e){const n=this.items,r=e.id,s=this.scope;r in n&&delete n[r],s&&r in Ct[s]&&(delete Ct[s][r],this.override&&delete xs[r])}}function u8(t,e,n){const r=tl(Object.create(null),[n?Ct.get(n):{},Ct.get(e),t.defaults]);Ct.set(e,r),t.defaultRoutes&&d8(e,t.defaultRoutes),t.descriptors&&Ct.describe(e,t.descriptors)}function d8(t,e){Object.keys(e).forEach(n=>{const r=n.split("."),s=r.pop(),o=[t].concat(r).join("."),c=e[n].split("."),h=c.pop(),g=c.join(".");Ct.route(o,s,g,h)})}function h8(t){return"id"in t&&"defaults"in t}class f8{constructor(){this.controllers=new lc(lo,"datasets",!0),this.elements=new lc(kr,"elements"),this.plugins=new lc(Object,"plugins"),this.scales=new lc(Oo,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,r){[...n].forEach(s=>{const o=r||this._getRegistryForType(s);r||o.isForType(s)||o===this.plugins&&s.id?this._exec(e,o,s):$e(s,c=>{const h=r||this._getRegistryForType(c);this._exec(e,h,c)})})}_exec(e,n,r){const s=N0(e);at(r["before"+s],[],r),n[e](r),at(r["after"+s],[],r)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(e))return r}return this.plugins}_get(e,n,r){const s=n.get(e);if(s===void 0)throw new Error('"'+e+'" is not a registered '+r+".");return s}}var Er=new f8;class g8{constructor(){this._init=[]}notify(e,n,r,s){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const o=s?this._descriptors(e).filter(s):this._descriptors(e),c=this._notify(o,e,n,r);return n==="afterDestroy"&&(this._notify(o,e,"stop"),this._notify(this._init,e,"uninstall")),c}_notify(e,n,r,s){s=s||{};for(const o of e){const c=o.plugin,h=c[r],g=[n,s,o.options];if(at(h,g,c)===!1&&s.cancelable)return!1}return!0}invalidate(){Xe(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const r=e&&e.config,s=Pe(r.options&&r.options.plugins,{}),o=p8(r);return s===!1&&!n?[]:x8(e,o,s,n)}_notifyStateChanges(e){const n=this._oldCache||[],r=this._cache,s=(o,c)=>o.filter(h=>!c.some(g=>h.plugin.id===g.plugin.id));this._notify(s(n,r),e,"stop"),this._notify(s(r,n),e,"start")}}function p8(t){const e={},n=[],r=Object.keys(Er.plugins.items);for(let o=0;o<r.length;o++)n.push(Er.getPlugin(r[o]));const s=t.plugins||[];for(let o=0;o<s.length;o++){const c=s[o];n.indexOf(c)===-1&&(n.push(c),e[c.id]=!0)}return{plugins:n,localIds:e}}function m8(t,e){return!e&&t===!1?null:t===!0?{}:t}function x8(t,{plugins:e,localIds:n},r,s){const o=[],c=t.getContext();for(const h of e){const g=h.id,p=m8(r[g],s);p!==null&&o.push({plugin:h,options:y8(t.config,{plugin:h,local:n[g]},p,c)})}return o}function y8(t,{plugin:e,local:n},r,s){const o=t.pluginScopeKeys(e),c=t.getOptionScopes(r,o);return n&&e.defaults&&c.push(e.defaults),t.createResolver(c,s,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function pf(t,e){const n=Ct.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function w8(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function v8(t,e){return t===e?"_index_":"_value_"}function Lp(t){if(t==="x"||t==="y"||t==="r")return t}function b8(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function mf(t,...e){if(Lp(t))return t;for(const n of e){const r=n.axis||b8(n.position)||t.length>1&&Lp(t[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function Bp(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function _8(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(r=>r.xAxisID===t||r.yAxisID===t);if(n.length)return Bp(t,"x",n[0])||Bp(t,"y",n[0])}return{}}function C8(t,e){const n=xs[t.type]||{scales:{}},r=e.scales||{},s=pf(t.type,e),o=Object.create(null);return Object.keys(r).forEach(c=>{const h=r[c];if(!Fe(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const g=mf(c,h,_8(c,t),Ct.scales[h.type]),p=v8(g,s),x=n.scales||{};o[c]=Sa(Object.create(null),[{axis:g},h,x[g],x[p]])}),t.data.datasets.forEach(c=>{const h=c.type||t.type,g=c.indexAxis||pf(h,e),x=(xs[h]||{}).scales||{};Object.keys(x).forEach(w=>{const _=w8(w,g),E=c[_+"AxisID"]||_;o[E]=o[E]||Object.create(null),Sa(o[E],[{axis:_},r[E],x[w]])})}),Object.keys(o).forEach(c=>{const h=o[c];Sa(h,[Ct.scales[h.type],Ct.scale])}),o}function Zy(t){const e=t.options||(t.options={});e.plugins=Pe(e.plugins,{}),e.scales=C8(t,e)}function Qy(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function E8(t){return t=t||{},t.data=Qy(t.data),Zy(t),t}const jp=new Map,Jy=new Set;function cc(t,e){let n=jp.get(t);return n||(n=e(),jp.set(t,n),Jy.add(n)),n}const ia=(t,e,n)=>{const r=wo(e,n);r!==void 0&&t.add(r)};class S8{constructor(e){this._config=E8(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=Qy(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),Zy(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return cc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return cc(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return cc(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,r=this.type;return cc(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const r=this._scopeCache;let s=r.get(e);return(!s||n)&&(s=new Map,r.set(e,s)),s}getOptionScopes(e,n,r){const{options:s,type:o}=this,c=this._cachedScopes(e,r),h=c.get(n);if(h)return h;const g=new Set;n.forEach(x=>{e&&(g.add(e),x.forEach(w=>ia(g,e,w))),x.forEach(w=>ia(g,s,w)),x.forEach(w=>ia(g,xs[o]||{},w)),x.forEach(w=>ia(g,Ct,w)),x.forEach(w=>ia(g,ff,w))});const p=Array.from(g);return p.length===0&&p.push(Object.create(null)),Jy.has(n)&&c.set(n,p),p}chartOptionScopes(){const{options:e,type:n}=this;return[e,xs[n]||{},Ct.datasets[n]||{},{type:n},Ct,ff]}resolveNamedOptions(e,n,r,s=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=Fp(this._resolverCache,e,s);let g=c;if(I8(c,n)){o.$shared=!1,r=Ri(r)?r():r;const p=this.createResolver(e,r,h);g=vo(c,r,p)}for(const p of n)o[p]=g[p];return o}createResolver(e,n,r=[""],s){const{resolver:o}=Fp(this._resolverCache,e,r);return Fe(n)?vo(o,n,void 0,s):o}}function Fp(t,e,n){let r=t.get(e);r||(r=new Map,t.set(e,r));const s=n.join();let o=r.get(s);return o||(o={resolver:P0(e,n),subPrefixes:n.filter(h=>!h.toLowerCase().includes("hover"))},r.set(s,o)),o}const A8=t=>Fe(t)&&Object.getOwnPropertyNames(t).some(e=>Ri(t[e]));function I8(t,e){const{isScriptable:n,isIndexable:r}=Py(t);for(const s of e){const o=n(s),c=r(s),h=(c||o)&&t[s];if(o&&(Ri(h)||A8(h))||c&&Rt(h))return!0}return!1}var T8="4.4.8";const N8=["top","bottom","left","right","chartArea"];function Up(t,e){return t==="top"||t==="bottom"||N8.indexOf(t)===-1&&e==="x"}function zp(t,e){return function(n,r){return n[t]===r[t]?n[e]-r[e]:n[t]-r[t]}}function Vp(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),at(n&&n.onComplete,[t],e)}function k8(t){const e=t.chart,n=e.options.animation;at(n&&n.onProgress,[t],e)}function ew(t){return j0()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Nc={},Hp=t=>{const e=ew(t);return Object.values(Nc).filter(n=>n.canvas===e).pop()};function O8(t,e,n){const r=Object.keys(t);for(const s of r){const o=+s;if(o>=e){const c=t[s];delete t[s],(n>0||o>e)&&(t[o+n]=c)}}}function R8(t,e,n,r){return!n||t.type==="mouseout"?null:r?e:t}function uc(t,e,n){return t.options.clip?t[n]:e[n]}function D8(t,e){const{xScale:n,yScale:r}=t;return n&&r?{left:uc(n,e,"left"),right:uc(n,e,"right"),top:uc(r,e,"top"),bottom:uc(r,e,"bottom")}:e}var ri;let Ro=(ri=class{static register(...e){Er.add(...e),Wp()}static unregister(...e){Er.remove(...e),Wp()}constructor(e,n){const r=this.config=new S8(n),s=ew(e),o=Hp(s);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||q4(s)),this.platform.updateConfig(r);const h=this.platform.acquireContext(s,c.aspectRatio),g=h&&h.canvas,p=g&&g.height,x=g&&g.width;if(this.id=NS(),this.ctx=h,this.canvas=g,this.width=x,this.height=p,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new g8,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=KS(w=>this.update(w),c.resizeDelay||0),this._dataChanges=[],Nc[this.id]=this,!h||!g){console.error("Failed to create chart: can't acquire context from the given item");return}Dr.listen(this,"complete",Vp),Dr.listen(this,"progress",k8),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:r,height:s,_aspectRatio:o}=this;return Xe(e)?n&&o?o:s?r/s:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Er}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():hp(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return cp(this.canvas,this.ctx),this}stop(){return Dr.stop(this),this}resize(e,n){Dr.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const r=this.options,s=this.canvas,o=r.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(s,e,n,o),h=r.devicePixelRatio||this.platform.getDevicePixelRatio(),g=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,hp(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),at(r.onResize,[this,c],this),this.attached&&this._doResize(g)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};$e(n,(r,s)=>{r.id=s})}buildOrUpdateScales(){const e=this.options,n=e.scales,r=this.scales,s=Object.keys(r).reduce((c,h)=>(c[h]=!1,c),{});let o=[];n&&(o=o.concat(Object.keys(n).map(c=>{const h=n[c],g=mf(c,h),p=g==="r",x=g==="x";return{options:h,dposition:p?"chartArea":x?"bottom":"left",dtype:p?"radialLinear":x?"category":"linear"}}))),$e(o,c=>{const h=c.options,g=h.id,p=mf(g,h),x=Pe(h.type,c.dtype);(h.position===void 0||Up(h.position,p)!==Up(c.dposition))&&(h.position=c.dposition),s[g]=!0;let w=null;if(g in r&&r[g].type===x)w=r[g];else{const _=Er.getScale(x);w=new _({id:g,type:x,ctx:this.ctx,chart:this}),r[w.id]=w}w.init(h,e)}),$e(s,(c,h)=>{c||delete r[h]}),$e(r,c=>{Yn.configure(this,c,c.options),Yn.addBox(this,c)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,r=e.length;if(e.sort((s,o)=>s.index-o.index),r>n){for(let s=n;s<r;++s)this._destroyDatasetMeta(s);e.splice(n,r-n)}this._sortedMetasets=e.slice(0).sort(zp("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((r,s)=>{n.filter(o=>o===r._dataset).length===0&&this._destroyDatasetMeta(s)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let r,s;for(this._removeUnreferencedMetasets(),r=0,s=n.length;r<s;r++){const o=n[r];let c=this.getDatasetMeta(r);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(r),c=this.getDatasetMeta(r)),c.type=h,c.indexAxis=o.indexAxis||pf(h,this.options),c.order=o.order||0,c.index=r,c.label=""+o.label,c.visible=this.isDatasetVisible(r),c.controller)c.controller.updateIndex(r),c.controller.linkScales();else{const g=Er.getController(h),{datasetElementType:p,dataElementType:x}=Ct.datasets[h];Object.assign(g,{dataElementType:Er.getElement(x),datasetElementType:p&&Er.getElement(p)}),c.controller=new g(this,r),e.push(c.controller)}}return this._updateMetasets(),e}_resetElements(){$e(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),s=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let p=0,x=this.data.datasets.length;p<x;p++){const{controller:w}=this.getDatasetMeta(p),_=!s&&o.indexOf(w)===-1;w.buildOrUpdateElements(_),c=Math.max(+w.getMaxOverflow(),c)}c=this._minPadding=r.layout.autoPadding?c:0,this._updateLayout(c),s||$e(o,p=>{p.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(zp("z","_idx"));const{_active:h,_lastEvent:g}=this;g?this._eventHandler(g,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){$e(this.scales,e=>{Yn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(e.events);(!Jg(n,r)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:s,count:o}of n){const c=r==="_removeElements"?-o:o;O8(e,s,c)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=o=>new Set(e.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),s=r(0);for(let o=1;o<n;o++)if(!Jg(s,r(o)))return;return Array.from(s).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Yn.update(this,this.width,this.height,e);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],$e(this.boxes,s=>{r&&s.position==="chartArea"||(s.configure&&s.configure(),this._layers.push(...s._layers()))},this),this._layers.forEach((s,o)=>{s._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,Ri(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const r=this.getDatasetMeta(e),s={meta:r,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",s)!==!1&&(r.controller._update(n),s.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",s))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Dr.has(this)?this.attached&&!Dr.running(this)&&Dr.start(this):(this.draw(),Vp({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:r,height:s}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,s)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,r=[];let s,o;for(s=0,o=n.length;s<o;++s){const c=n[s];(!e||c.visible)&&r.push(c)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,r=e._clip,s=!r.disabled,o=D8(e,this.chartArea),c={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",c)!==!1&&(s&&D0(n,{left:r.left===!1?0:o.left-r.left,right:r.right===!1?this.width:o.right+r.right,top:r.top===!1?0:o.top-r.top,bottom:r.bottom===!1?this.height:o.bottom+r.bottom}),e.controller.draw(),s&&M0(n),c.cancelable=!1,this.notifyPlugins("afterDatasetDraw",c))}isPointInArea(e){return il(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,r,s){const o=N4.modes[n];return typeof o=="function"?o(this,e,r,s):[]}getDatasetMeta(e){const n=this.data.datasets[e],r=this._metasets;let s=r.filter(o=>o&&o._dataset===n).pop();return s||(s={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},r.push(s)),s}getContext(){return this.$context||(this.$context=_s(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const r=this.getDatasetMeta(e);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(e,n){const r=this.getDatasetMeta(e);r.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,r){const s=r?"show":"hide",o=this.getDatasetMeta(e),c=o.controller._resolveAnimations(void 0,s);nl(n)?(o.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(e,r),c.update(o,{visible:r}),this.update(h=>h.datasetIndex===e?s:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),Dr.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),cp(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete Nc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,r=(o,c)=>{n.addEventListener(this,o,c),e[o]=c},s=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};$e(this.options.events,o=>r(o,s))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,r=(g,p)=>{n.addEventListener(this,g,p),e[g]=p},s=(g,p)=>{e[g]&&(n.removeEventListener(this,g,p),delete e[g])},o=(g,p)=>{this.canvas&&this.resize(g,p)};let c;const h=()=>{s("attach",h),this.attached=!0,this.resize(),r("resize",o),r("detach",c)};c=()=>{this.attached=!1,s("resize",o),this._stop(),this._resize(0,0),r("attach",h)},n.isAttached(this.canvas)?h():c()}unbindEvents(){$e(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},$e(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,r){const s=r?"set":"remove";let o,c,h,g;for(n==="dataset"&&(o=this.getDatasetMeta(e[0].datasetIndex),o.controller["_"+s+"DatasetHoverStyle"]()),h=0,g=e.length;h<g;++h){c=e[h];const p=c&&this.getDatasetMeta(c.datasetIndex).controller;p&&p[s+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],r=e.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!iu(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(e,n,r){return this._plugins.notify(this,e,n,r)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,r){const s=this.options.hover,o=(g,p)=>g.filter(x=>!p.some(w=>x.datasetIndex===w.datasetIndex&&x.index===w.index)),c=o(n,e),h=r?e:o(e,n);c.length&&this.updateHoverStyle(c,s.mode,!1),h.length&&s.mode&&this.updateHoverStyle(h,s.mode,!0)}_eventHandler(e,n){const r={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},s=c=>(c.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",r,s)===!1)return;const o=this._handleEvent(e,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,s),(o||r.changed)&&this.render(),this}_handleEvent(e,n,r){const{_active:s=[],options:o}=this,c=n,h=this._getActiveElements(e,s,r,c),g=PS(e),p=R8(e,this._lastEvent,r,g);r&&(this._lastEvent=null,at(o.onHover,[e,h,this],this),g&&at(o.onClick,[e,h,this],this));const x=!iu(h,s);return(x||n)&&(this._active=h,this._updateHoverStyles(h,s,n)),this._lastEvent=p,x}_getActiveElements(e,n,r,s){if(e.type==="mouseout")return[];if(!r)return n;const o=this.options.hover;return this.getElementsAtEventForMode(e,o.mode,o,s)}},ve(ri,"defaults",Ct),ve(ri,"instances",Nc),ve(ri,"overrides",xs),ve(ri,"registry",Er),ve(ri,"version",T8),ve(ri,"getChart",Hp),ri);function Wp(){return $e(Ro.instances,t=>t._plugins.invalidate())}function tw(t,e,n=e){t.lineCap=Pe(n.borderCapStyle,e.borderCapStyle),t.setLineDash(Pe(n.borderDash,e.borderDash)),t.lineDashOffset=Pe(n.borderDashOffset,e.borderDashOffset),t.lineJoin=Pe(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Pe(n.borderWidth,e.borderWidth),t.strokeStyle=Pe(n.borderColor,e.borderColor)}function M8(t,e,n){t.lineTo(n.x,n.y)}function P8(t){return t.stepped?cA:t.tension||t.cubicInterpolationMode==="monotone"?uA:M8}function nw(t,e,n={}){const r=t.length,{start:s=0,end:o=r-1}=n,{start:c,end:h}=e,g=Math.max(s,c),p=Math.min(o,h),x=s<c&&o<c||s>h&&o>h;return{count:r,start:g,loop:e.loop,ilen:p<g&&!x?r+p-g:p-g}}function L8(t,e,n,r){const{points:s,options:o}=e,{count:c,start:h,loop:g,ilen:p}=nw(s,n,r),x=P8(o);let{move:w=!0,reverse:_}=r||{},E,A,S;for(E=0;E<=p;++E)A=s[(h+(_?p-E:E))%c],!A.skip&&(w?(t.moveTo(A.x,A.y),w=!1):x(t,S,A,_,o.stepped),S=A);return g&&(A=s[(h+(_?p:0))%c],x(t,S,A,_,o.stepped)),!!g}function B8(t,e,n,r){const s=e.points,{count:o,start:c,ilen:h}=nw(s,n,r),{move:g=!0,reverse:p}=r||{};let x=0,w=0,_,E,A,S,O,I;const R=P=>(c+(p?h-P:P))%o,k=()=>{S!==O&&(t.lineTo(x,O),t.lineTo(x,S),t.lineTo(x,I))};for(g&&(E=s[R(0)],t.moveTo(E.x,E.y)),_=0;_<=h;++_){if(E=s[R(_)],E.skip)continue;const P=E.x,F=E.y,H=P|0;H===A?(F<S?S=F:F>O&&(O=F),x=(w*x+P)/++w):(k(),t.lineTo(P,F),A=H,w=0,S=O=F),I=F}k()}function xf(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?B8:L8}function j8(t){return t.stepped?VA:t.tension||t.cubicInterpolationMode==="monotone"?HA:Ji}function F8(t,e,n,r){let s=e._path;s||(s=e._path=new Path2D,e.path(s,n,r)&&s.closePath()),tw(t,e.options),t.stroke(s)}function U8(t,e,n,r){const{segments:s,options:o}=e,c=xf(e);for(const h of s)tw(t,o,h.style),t.beginPath(),c(t,e,h,{start:n,end:n+r-1})&&t.closePath(),t.stroke()}const z8=typeof Path2D=="function";function V8(t,e,n,r){z8&&!e.options.segment?F8(t,e,n,r):U8(t,e,n,r)}class Zs extends kr{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const s=r.spanGaps?this._loop:this._fullLoop;MA(this._points,r,e,s,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=ZA(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,r=e.length;return r&&n[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],o=this.points,c=YA(this,{property:n,start:s,end:s});if(!c.length)return;const h=[],g=j8(r);let p,x;for(p=0,x=c.length;p<x;++p){const{start:w,end:_}=c[p],E=o[w],A=o[_];if(E===A){h.push(E);continue}const S=Math.abs((s-E[n])/(A[n]-E[n])),O=g(E,A,S,r.stepped);O[n]=e[n],h.push(O)}return h.length===1?h[0]:h}pathSegment(e,n,r){return xf(this)(e,this,n,r)}path(e,n,r){const s=this.segments,o=xf(this);let c=this._loop;n=n||0,r=r||this.points.length-n;for(const h of s)c&=o(e,this,h,{start:n,end:n+r-1});return!!c}draw(e,n,r,s){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(e.save(),V8(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ve(Zs,"id","line"),ve(Zs,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ve(Zs,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ve(Zs,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function Gp(t,e,n,r){const s=t.options,{[n]:o}=t.getProps([n],r);return Math.abs(e-o)<s.radius+s.hitRadius}class Na extends kr{constructor(n){super();ve(this,"parsed");ve(this,"skip");ve(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,s){const o=this.options,{x:c,y:h}=this.getProps(["x","y"],s);return Math.pow(n-c,2)+Math.pow(r-h,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(n,r){return Gp(this,n,"x",r)}inYRange(n,r){return Gp(this,n,"y",r)}getCenterPoint(n){const{x:r,y:s}=this.getProps(["x","y"],n);return{x:r,y:s}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const s=r&&n.borderWidth||0;return(r+s)*2}draw(n,r){const s=this.options;this.skip||s.radius<.1||!il(this,r,this.size(s)/2)||(n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.fillStyle=s.backgroundColor,gf(n,s,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}ve(Na,"id","point"),ve(Na,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ve(Na,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function rw(t,e){const{x:n,y:r,base:s,width:o,height:c}=t.getProps(["x","y","base","width","height"],e);let h,g,p,x,w;return t.horizontal?(w=c/2,h=Math.min(n,s),g=Math.max(n,s),p=r-w,x=r+w):(w=o/2,h=n-w,g=n+w,p=Math.min(r,s),x=Math.max(r,s)),{left:h,top:p,right:g,bottom:x}}function yi(t,e,n,r){return t?0:Pn(e,n,r)}function H8(t,e,n){const r=t.options.borderWidth,s=t.borderSkipped,o=My(r);return{t:yi(s.top,o.top,0,n),r:yi(s.right,o.right,0,e),b:yi(s.bottom,o.bottom,0,n),l:yi(s.left,o.left,0,e)}}function W8(t,e,n){const{enableBorderRadius:r}=t.getProps(["enableBorderRadius"]),s=t.options.borderRadius,o=oo(s),c=Math.min(e,n),h=t.borderSkipped,g=r||Fe(s);return{topLeft:yi(!g||h.top||h.left,o.topLeft,0,c),topRight:yi(!g||h.top||h.right,o.topRight,0,c),bottomLeft:yi(!g||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:yi(!g||h.bottom||h.right,o.bottomRight,0,c)}}function G8(t){const e=rw(t),n=e.right-e.left,r=e.bottom-e.top,s=H8(t,n/2,r/2),o=W8(t,n/2,r/2);return{outer:{x:e.left,y:e.top,w:n,h:r,radius:o},inner:{x:e.left+s.l,y:e.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,o.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(s.b,s.r))}}}}function th(t,e,n,r){const s=e===null,o=n===null,h=t&&!(s&&o)&&rw(t,r);return h&&(s||os(e,h.left,h.right))&&(o||os(n,h.top,h.bottom))}function X8(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function $8(t,e){t.rect(e.x,e.y,e.w,e.h)}function nh(t,e,n={}){const r=t.x!==n.x?-e:0,s=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-r,c=(t.y+t.h!==n.y+n.h?e:0)-s;return{x:t.x+r,y:t.y+s,w:t.w+o,h:t.h+c,radius:t.radius}}class ka extends kr{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:r,backgroundColor:s}}=this,{inner:o,outer:c}=G8(this),h=X8(c.radius)?au:$8;e.save(),(c.w!==o.w||c.h!==o.h)&&(e.beginPath(),h(e,nh(c,n,o)),e.clip(),h(e,nh(o,-n,c)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),h(e,nh(o,n)),e.fillStyle=s,e.fill(),e.restore()}inRange(e,n,r){return th(this,e,n,r)}inXRange(e,n){return th(this,e,null,n)}inYRange(e,n){return th(this,null,e,n)}getCenterPoint(e){const{x:n,y:r,base:s,horizontal:o}=this.getProps(["x","y","base","horizontal"],e);return{x:o?(n+s)/2:n,y:o?r:(r+s)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}ve(ka,"id","bar"),ve(ka,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ve(ka,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const Xp=(t,e)=>{let{boxHeight:n=e,boxWidth:r=e}=t;return t.usePointStyle&&(n=Math.min(n,e),r=t.pointStyleWidth||Math.min(r,e)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(e,n)}},Y8=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class $p extends kr{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,r){this.maxWidth=e,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=at(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(r=>e.filter(r,this.chart.data))),e.sort&&(n=n.sort((r,s)=>e.sort(r,s,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const r=e.labels,s=rn(r.font),o=s.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:g}=Xp(r,o);let p,x;n.font=s.string,this.isHorizontal()?(p=this.maxWidth,x=this._fitRows(c,o,h,g)+10):(x=this.maxHeight,p=this._fitCols(c,s,h,g)+10),this.width=Math.min(p,e.maxWidth||this.maxWidth),this.height=Math.min(x,e.maxHeight||this.maxHeight)}_fitRows(e,n,r,s){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,g=this.legendHitBoxes=[],p=this.lineWidths=[0],x=s+h;let w=e;o.textAlign="left",o.textBaseline="middle";let _=-1,E=-x;return this.legendItems.forEach((A,S)=>{const O=r+n/2+o.measureText(A.text).width;(S===0||p[p.length-1]+O+2*h>c)&&(w+=x,p[p.length-(S>0?0:1)]=0,E+=x,_++),g[S]={left:0,top:E,row:_,width:O,height:s},p[p.length-1]+=O+h}),w}_fitCols(e,n,r,s){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,g=this.legendHitBoxes=[],p=this.columnSizes=[],x=c-e;let w=h,_=0,E=0,A=0,S=0;return this.legendItems.forEach((O,I)=>{const{itemWidth:R,itemHeight:k}=K8(r,n,o,O,s);I>0&&E+k+2*h>x&&(w+=_+h,p.push({width:_,height:E}),A+=_+h,S++,_=E=0),g[I]={left:A,top:E,col:S,width:R,height:k},_=Math.max(_,R),E+=k+h}),w+=_,p.push({width:_,height:E}),w}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:s},rtl:o}}=this,c=ao(o,this.left,this.width);if(this.isHorizontal()){let h=0,g=tn(r,this.left+s,this.right-this.lineWidths[h]);for(const p of n)h!==p.row&&(h=p.row,g=tn(r,this.left+s,this.right-this.lineWidths[h])),p.top+=this.top+e+s,p.left=c.leftForLtr(c.x(g),p.width),g+=p.width+s}else{let h=0,g=tn(r,this.top+e+s,this.bottom-this.columnSizes[h].height);for(const p of n)p.col!==h&&(h=p.col,g=tn(r,this.top+e+s,this.bottom-this.columnSizes[h].height)),p.top=g,p.left+=this.left+s,p.left=c.leftForLtr(c.x(p.left),p.width),g+=p.height+s}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;D0(e,this),this._draw(),M0(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:r,ctx:s}=this,{align:o,labels:c}=e,h=Ct.color,g=ao(e.rtl,this.left,this.width),p=rn(c.font),{padding:x}=c,w=p.size,_=w/2;let E;this.drawTitle(),s.textAlign=g.textAlign("left"),s.textBaseline="middle",s.lineWidth=.5,s.font=p.string;const{boxWidth:A,boxHeight:S,itemHeight:O}=Xp(c,w),I=function(H,B,z){if(isNaN(A)||A<=0||isNaN(S)||S<0)return;s.save();const V=Pe(z.lineWidth,1);if(s.fillStyle=Pe(z.fillStyle,h),s.lineCap=Pe(z.lineCap,"butt"),s.lineDashOffset=Pe(z.lineDashOffset,0),s.lineJoin=Pe(z.lineJoin,"miter"),s.lineWidth=V,s.strokeStyle=Pe(z.strokeStyle,h),s.setLineDash(Pe(z.lineDash,[])),c.usePointStyle){const J={radius:S*Math.SQRT2/2,pointStyle:z.pointStyle,rotation:z.rotation,borderWidth:V},se=g.xPlus(H,A/2),Q=B+_;Ry(s,J,se,Q,c.pointStyleWidth&&A)}else{const J=B+Math.max((w-S)/2,0),se=g.leftForLtr(H,A),Q=oo(z.borderRadius);s.beginPath(),Object.values(Q).some(ge=>ge!==0)?au(s,{x:se,y:J,w:A,h:S,radius:Q}):s.rect(se,J,A,S),s.fill(),V!==0&&s.stroke()}s.restore()},R=function(H,B,z){sl(s,z.text,H,B+O/2,p,{strikethrough:z.hidden,textAlign:g.textAlign(z.textAlign)})},k=this.isHorizontal(),P=this._computeTitleHeight();k?E={x:tn(o,this.left+x,this.right-r[0]),y:this.top+x+P,line:0}:E={x:this.left+x,y:tn(o,this.top+P+x,this.bottom-n[0].height),line:0},Uy(this.ctx,e.textDirection);const F=O+x;this.legendItems.forEach((H,B)=>{s.strokeStyle=H.fontColor,s.fillStyle=H.fontColor;const z=s.measureText(H.text).width,V=g.textAlign(H.textAlign||(H.textAlign=c.textAlign)),J=A+_+z;let se=E.x,Q=E.y;g.setWidth(this.width),k?B>0&&se+J+x>this.right&&(Q=E.y+=F,E.line++,se=E.x=tn(o,this.left+x,this.right-r[E.line])):B>0&&Q+F>this.bottom&&(se=E.x=se+n[E.line].width+x,E.line++,Q=E.y=tn(o,this.top+P+x,this.bottom-n[E.line].height));const ge=g.x(se);if(I(ge,Q,H),se=qS(V,se+A+_,k?se+J:this.right,e.rtl),R(g.x(se),Q,H),k)E.x+=J+x;else if(typeof H.text!="string"){const Se=p.lineHeight;E.y+=iw(H,Se)+x}else E.y+=F}),zy(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,r=rn(n.font),s=Jn(n.padding);if(!n.display)return;const o=ao(e.rtl,this.left,this.width),c=this.ctx,h=n.position,g=r.size/2,p=s.top+g;let x,w=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),x=this.top+p,w=tn(e.align,w,this.right-_);else{const A=this.columnSizes.reduce((S,O)=>Math.max(S,O.height),0);x=p+tn(e.align,this.top,this.bottom-A-e.labels.padding-this._computeTitleHeight())}const E=tn(h,w,w+_);c.textAlign=o.textAlign(O0(h)),c.textBaseline="middle",c.strokeStyle=n.color,c.fillStyle=n.color,c.font=r.string,sl(c,n.text,E,x,r)}_computeTitleHeight(){const e=this.options.title,n=rn(e.font),r=Jn(e.padding);return e.display?n.lineHeight+r.height:0}_getLegendItemAt(e,n){let r,s,o;if(os(e,this.left,this.right)&&os(n,this.top,this.bottom)){for(o=this.legendHitBoxes,r=0;r<o.length;++r)if(s=o[r],os(e,s.left,s.left+s.width)&&os(n,s.top,s.top+s.height))return this.legendItems[r]}return null}handleEvent(e){const n=this.options;if(!Q8(e.type,n))return;const r=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const s=this._hoveredItem,o=Y8(s,r);s&&!o&&at(n.onLeave,[e,s,this],this),this._hoveredItem=r,r&&!o&&at(n.onHover,[e,r,this],this)}else r&&at(n.onClick,[e,r,this],this)}}function K8(t,e,n,r,s){const o=q8(r,t,e,n),c=Z8(s,r,e.lineHeight);return{itemWidth:o,itemHeight:c}}function q8(t,e,n,r){let s=t.text;return s&&typeof s!="string"&&(s=s.reduce((o,c)=>o.length>c.length?o:c)),e+n.size/2+r.measureText(s).width}function Z8(t,e,n){let r=t;return typeof e.text!="string"&&(r=iw(e,n)),r}function iw(t,e){const n=t.text?t.text.length:0;return e*n}function Q8(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var z0={id:"legend",_element:$p,start(t,e,n){const r=t.legend=new $p({ctx:t.ctx,options:n,chart:t});Yn.configure(t,r,n),Yn.addBox(t,r)},stop(t){Yn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const r=t.legend;Yn.configure(t,r,n),r.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const r=e.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),e.hidden=!0):(s.show(r),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:o,useBorderRadius:c,borderRadius:h}}=t.legend.options;return t._getSortedDatasetMetas().map(g=>{const p=g.controller.getStyle(n?0:void 0),x=Jn(p.borderWidth);return{text:e[g.index].label,fillStyle:p.backgroundColor,fontColor:o,hidden:!g.visible,lineCap:p.borderCapStyle,lineDash:p.borderDash,lineDashOffset:p.borderDashOffset,lineJoin:p.borderJoinStyle,lineWidth:(x.width+x.height)/4,strokeStyle:p.borderColor,pointStyle:r||p.pointStyle,rotation:p.rotation,textAlign:s||p.textAlign,borderRadius:c&&(h||p.borderRadius),datasetIndex:g.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class sw extends kr{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const s=Rt(r.text)?r.text.length:1;this._padding=Jn(r.padding);const o=s*rn(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:r,bottom:s,right:o,options:c}=this,h=c.align;let g=0,p,x,w;return this.isHorizontal()?(x=tn(h,r,o),w=n+e,p=o-r):(c.position==="left"?(x=r+e,w=tn(h,s,n),g=Ut*-.5):(x=o-e,w=tn(h,n,s),g=Ut*.5),p=s-n),{titleX:x,titleY:w,maxWidth:p,rotation:g}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const r=rn(n.font),o=r.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:g,rotation:p}=this._drawArgs(o);sl(e,n.text,0,0,r,{color:n.color,maxWidth:g,rotation:p,textAlign:O0(n.align),textBaseline:"middle",translation:[c,h]})}}function J8(t,e){const n=new sw({ctx:t.ctx,options:e,chart:t});Yn.configure(t,n,e),Yn.addBox(t,n),t.titleBlock=n}var V0={id:"title",_element:sw,start(t,e,n){J8(t,n)},stop(t){const e=t.titleBlock;Yn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const r=t.titleBlock;Yn.configure(t,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ha={average(t){if(!t.length)return!1;let e,n,r=new Set,s=0,o=0;for(e=0,n=t.length;e<n;++e){const h=t[e].element;if(h&&h.hasValue()){const g=h.tooltipPosition();r.add(g.x),s+=g.y,++o}}return o===0||r.size===0?!1:{x:[...r].reduce((h,g)=>h+g)/r.size,y:s/o}},nearest(t,e){if(!t.length)return!1;let n=e.x,r=e.y,s=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=t.length;o<c;++o){const g=t[o].element;if(g&&g.hasValue()){const p=g.getCenterPoint(),x=hf(e,p);x<s&&(s=x,h=g)}}if(h){const g=h.tooltipPosition();n=g.x,r=g.y}return{x:n,y:r}}};function _r(t,e){return e&&(Rt(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Mr(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function e6(t,e){const{element:n,datasetIndex:r,index:s}=e,o=t.getDatasetMeta(r).controller,{label:c,value:h}=o.getLabelAndValue(s);return{chart:t,label:c,parsed:o.getParsed(s),raw:t.data.datasets[r].data[s],formattedValue:h,dataset:o.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function Yp(t,e){const n=t.chart.ctx,{body:r,footer:s,title:o}=t,{boxWidth:c,boxHeight:h}=e,g=rn(e.bodyFont),p=rn(e.titleFont),x=rn(e.footerFont),w=o.length,_=s.length,E=r.length,A=Jn(e.padding);let S=A.height,O=0,I=r.reduce((P,F)=>P+F.before.length+F.lines.length+F.after.length,0);if(I+=t.beforeBody.length+t.afterBody.length,w&&(S+=w*p.lineHeight+(w-1)*e.titleSpacing+e.titleMarginBottom),I){const P=e.displayColors?Math.max(h,g.lineHeight):g.lineHeight;S+=E*P+(I-E)*g.lineHeight+(I-1)*e.bodySpacing}_&&(S+=e.footerMarginTop+_*x.lineHeight+(_-1)*e.footerSpacing);let R=0;const k=function(P){O=Math.max(O,n.measureText(P).width+R)};return n.save(),n.font=p.string,$e(t.title,k),n.font=g.string,$e(t.beforeBody.concat(t.afterBody),k),R=e.displayColors?c+2+e.boxPadding:0,$e(r,P=>{$e(P.before,k),$e(P.lines,k),$e(P.after,k)}),R=0,n.font=x.string,$e(t.footer,k),n.restore(),O+=A.width,{width:O,height:S}}function t6(t,e){const{y:n,height:r}=e;return n<r/2?"top":n>t.height-r/2?"bottom":"center"}function n6(t,e,n,r){const{x:s,width:o}=r,c=n.caretSize+n.caretPadding;if(t==="left"&&s+o+c>e.width||t==="right"&&s-o-c<0)return!0}function r6(t,e,n,r){const{x:s,width:o}=n,{width:c,chartArea:{left:h,right:g}}=t;let p="center";return r==="center"?p=s<=(h+g)/2?"left":"right":s<=o/2?p="left":s>=c-o/2&&(p="right"),n6(p,t,e,n)&&(p="center"),p}function Kp(t,e,n){const r=n.yAlign||e.yAlign||t6(t,n);return{xAlign:n.xAlign||e.xAlign||r6(t,e,n,r),yAlign:r}}function i6(t,e){let{x:n,width:r}=t;return e==="right"?n-=r:e==="center"&&(n-=r/2),n}function s6(t,e,n){let{y:r,height:s}=t;return e==="top"?r+=n:e==="bottom"?r-=s+n:r-=s/2,r}function qp(t,e,n,r){const{caretSize:s,caretPadding:o,cornerRadius:c}=t,{xAlign:h,yAlign:g}=n,p=s+o,{topLeft:x,topRight:w,bottomLeft:_,bottomRight:E}=oo(c);let A=i6(e,h);const S=s6(e,g,p);return g==="center"?h==="left"?A+=p:h==="right"&&(A-=p):h==="left"?A-=Math.max(x,_)+s:h==="right"&&(A+=Math.max(w,E)+s),{x:Pn(A,0,r.width-e.width),y:Pn(S,0,r.height-e.height)}}function dc(t,e,n){const r=Jn(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-r.right:t.x+r.left}function Zp(t){return _r([],Mr(t))}function o6(t,e,n){return _s(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function Qp(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const ow={beforeTitle:Rr,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(r>0&&e.dataIndex<r)return n[e.dataIndex]}return""},afterTitle:Rr,beforeBody:Rr,beforeLabel:Rr,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return Xe(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Rr,afterBody:Rr,beforeFooter:Rr,footer:Rr,afterFooter:Rr};function bn(t,e,n,r){const s=t[e].call(n,r);return typeof s>"u"?ow[e].call(n,r):s}class yf extends kr{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,o=new Hy(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=o6(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=bn(r,"beforeTitle",this,e),o=bn(r,"title",this,e),c=bn(r,"afterTitle",this,e);let h=[];return h=_r(h,Mr(s)),h=_r(h,Mr(o)),h=_r(h,Mr(c)),h}getBeforeBody(e,n){return Zp(bn(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:r}=n,s=[];return $e(e,o=>{const c={before:[],lines:[],after:[]},h=Qp(r,o);_r(c.before,Mr(bn(h,"beforeLabel",this,o))),_r(c.lines,bn(h,"label",this,o)),_r(c.after,Mr(bn(h,"afterLabel",this,o))),s.push(c)}),s}getAfterBody(e,n){return Zp(bn(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:r}=n,s=bn(r,"beforeFooter",this,e),o=bn(r,"footer",this,e),c=bn(r,"afterFooter",this,e);let h=[];return h=_r(h,Mr(s)),h=_r(h,Mr(o)),h=_r(h,Mr(c)),h}_createItems(e){const n=this._active,r=this.chart.data,s=[],o=[],c=[];let h=[],g,p;for(g=0,p=n.length;g<p;++g)h.push(e6(this.chart,n[g]));return e.filter&&(h=h.filter((x,w,_)=>e.filter(x,w,_,r))),e.itemSort&&(h=h.sort((x,w)=>e.itemSort(x,w,r))),$e(h,x=>{const w=Qp(e.callbacks,x);s.push(bn(w,"labelColor",this,x)),o.push(bn(w,"labelPointStyle",this,x)),c.push(bn(w,"labelTextColor",this,x))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let o,c=[];if(!s.length)this.opacity!==0&&(o={opacity:0});else{const h=ha[r.position].call(this,s,this._eventPosition);c=this._createItems(r),this.title=this.getTitle(c,r),this.beforeBody=this.getBeforeBody(c,r),this.body=this.getBody(c,r),this.afterBody=this.getAfterBody(c,r),this.footer=this.getFooter(c,r);const g=this._size=Yp(this,r),p=Object.assign({},h,g),x=Kp(this.chart,r,p),w=qp(r,p,x,this.chart);this.xAlign=x.xAlign,this.yAlign=x.yAlign,o={opacity:1,x:w.x,y:w.y,width:g.width,height:g.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const o=this.getCaretPosition(e,r,s);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:o}=this,{caretSize:c,cornerRadius:h}=r,{topLeft:g,topRight:p,bottomLeft:x,bottomRight:w}=oo(h),{x:_,y:E}=e,{width:A,height:S}=n;let O,I,R,k,P,F;return o==="center"?(P=E+S/2,s==="left"?(O=_,I=O-c,k=P+c,F=P-c):(O=_+A,I=O+c,k=P-c,F=P+c),R=O):(s==="left"?I=_+Math.max(g,x)+c:s==="right"?I=_+A-Math.max(p,w)-c:I=this.caretX,o==="top"?(k=E,P=k-c,O=I-c,R=I+c):(k=E+S,P=k+c,O=I+c,R=I-c),F=k),{x1:O,x2:I,x3:R,y1:k,y2:P,y3:F}}drawTitle(e,n,r){const s=this.title,o=s.length;let c,h,g;if(o){const p=ao(r.rtl,this.x,this.width);for(e.x=dc(this,r.titleAlign,r),n.textAlign=p.textAlign(r.titleAlign),n.textBaseline="middle",c=rn(r.titleFont),h=r.titleSpacing,n.fillStyle=r.titleColor,n.font=c.string,g=0;g<o;++g)n.fillText(s[g],p.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+h,g+1===o&&(e.y+=r.titleMarginBottom-h)}}_drawColorBox(e,n,r,s,o){const c=this.labelColors[r],h=this.labelPointStyles[r],{boxHeight:g,boxWidth:p}=o,x=rn(o.bodyFont),w=dc(this,"left",o),_=s.x(w),E=g<x.lineHeight?(x.lineHeight-g)/2:0,A=n.y+E;if(o.usePointStyle){const S={radius:Math.min(p,g)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},O=s.leftForLtr(_,p)+p/2,I=A+g/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,gf(e,S,O,I),e.strokeStyle=c.borderColor,e.fillStyle=c.backgroundColor,gf(e,S,O,I)}else{e.lineWidth=Fe(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,e.strokeStyle=c.borderColor,e.setLineDash(c.borderDash||[]),e.lineDashOffset=c.borderDashOffset||0;const S=s.leftForLtr(_,p),O=s.leftForLtr(s.xPlus(_,1),p-2),I=oo(c.borderRadius);Object.values(I).some(R=>R!==0)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,au(e,{x:S,y:A,w:p,h:g,radius:I}),e.fill(),e.stroke(),e.fillStyle=c.backgroundColor,e.beginPath(),au(e,{x:O,y:A+1,w:p-2,h:g-2,radius:I}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(S,A,p,g),e.strokeRect(S,A,p,g),e.fillStyle=c.backgroundColor,e.fillRect(O,A+1,p-2,g-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:g,boxWidth:p,boxPadding:x}=r,w=rn(r.bodyFont);let _=w.lineHeight,E=0;const A=ao(r.rtl,this.x,this.width),S=function(z){n.fillText(z,A.x(e.x+E),e.y+_/2),e.y+=_+o},O=A.textAlign(c);let I,R,k,P,F,H,B;for(n.textAlign=c,n.textBaseline="middle",n.font=w.string,e.x=dc(this,O,r),n.fillStyle=r.bodyColor,$e(this.beforeBody,S),E=h&&O!=="right"?c==="center"?p/2+x:p+2+x:0,P=0,H=s.length;P<H;++P){for(I=s[P],R=this.labelTextColors[P],n.fillStyle=R,$e(I.before,S),k=I.lines,h&&k.length&&(this._drawColorBox(n,e,P,A,r),_=Math.max(w.lineHeight,g)),F=0,B=k.length;F<B;++F)S(k[F]),_=w.lineHeight;$e(I.after,S)}E=0,_=w.lineHeight,$e(this.afterBody,S),e.y-=o}drawFooter(e,n,r){const s=this.footer,o=s.length;let c,h;if(o){const g=ao(r.rtl,this.x,this.width);for(e.x=dc(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=g.textAlign(r.footerAlign),n.textBaseline="middle",c=rn(r.footerFont),n.fillStyle=r.footerColor,n.font=c.string,h=0;h<o;++h)n.fillText(s[h],g.x(e.x),e.y+c.lineHeight/2),e.y+=c.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:o,yAlign:c}=this,{x:h,y:g}=e,{width:p,height:x}=r,{topLeft:w,topRight:_,bottomLeft:E,bottomRight:A}=oo(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(h+w,g),c==="top"&&this.drawCaret(e,n,r,s),n.lineTo(h+p-_,g),n.quadraticCurveTo(h+p,g,h+p,g+_),c==="center"&&o==="right"&&this.drawCaret(e,n,r,s),n.lineTo(h+p,g+x-A),n.quadraticCurveTo(h+p,g+x,h+p-A,g+x),c==="bottom"&&this.drawCaret(e,n,r,s),n.lineTo(h+E,g+x),n.quadraticCurveTo(h,g+x,h,g+x-E),c==="center"&&o==="left"&&this.drawCaret(e,n,r,s),n.lineTo(h,g+w),n.quadraticCurveTo(h,g,h+w,g),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,o=r&&r.y;if(s||o){const c=ha[e.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=Yp(this,e),g=Object.assign({},c,this._size),p=Kp(n,e,g),x=qp(e,g,p,n);(s._to!==x.x||o._to!==x.y)&&(this.xAlign=p.xAlign,this.yAlign=p.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,x))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const c=Jn(n.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&h&&(e.save(),e.globalAlpha=r,this.drawBackground(o,e,s,n),Uy(e,n.textDirection),o.y+=c.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),zy(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:h,index:g})=>{const p=this.chart.getDatasetMeta(h);if(!p)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:p.data[g],index:g}}),o=!iu(r,s),c=this._positionChanged(s,n);(o||c)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],c=this._getActiveElements(e,o,n,r),h=this._positionChanged(c,e),g=n||!iu(c,o)||h;return g&&(this._active=c,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),g}_getActiveElements(e,n,r,s){const o=this.options;if(e.type==="mouseout")return[];if(!s)return n.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(e,o.mode,o,r);return o.reverse&&c.reverse(),c}_positionChanged(e,n){const{caretX:r,caretY:s,options:o}=this,c=ha[o.position].call(this,e,n);return c!==!1&&(r!==c.x||s!==c.y)}}ve(yf,"positioners",ha);var H0={id:"tooltip",_element:yf,positioners:ha,afterInit(t,e,n){n&&(t.tooltip=new yf({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:ow},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const a6=(t,e,n,r)=>(typeof e=="string"?(n=t.push(e)-1,r.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function l6(t,e,n,r){const s=t.indexOf(e);if(s===-1)return a6(t,e,n,r);const o=t.lastIndexOf(e);return s!==o?n:s}const c6=(t,e)=>t===null?null:Pn(Math.round(t),0,e);function Jp(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class al extends Oo{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:s,label:o}of n)r[s]===o&&r.splice(s,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(Xe(e))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===e?n:l6(r,e,Pe(n,e),this._addedLabels),c6(n,r.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(r=0),n||(s=this.getLabels().length-1)),this.min=r,this.max=s}buildTicks(){const e=this.min,n=this.max,r=this.options.offset,s=[];let o=this.getLabels();o=e===0&&n===o.length-1?o:o.slice(e,n+1),this._valueRange=Math.max(o.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let c=e;c<=n;c++)s.push({value:c});return s}getLabelForValue(e){return Jp.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}ve(al,"id","category"),ve(al,"defaults",{ticks:{callback:Jp}});function u6(t,e){const n=[],{bounds:s,step:o,min:c,max:h,precision:g,count:p,maxTicks:x,maxDigits:w,includeBounds:_}=t,E=o||1,A=x-1,{min:S,max:O}=e,I=!Xe(c),R=!Xe(h),k=!Xe(p),P=(O-S)/(w+1);let F=tp((O-S)/A/E)*E,H,B,z,V;if(F<1e-14&&!I&&!R)return[{value:S},{value:O}];V=Math.ceil(O/F)-Math.floor(S/F),V>A&&(F=tp(V*F/A/E)*E),Xe(g)||(H=Math.pow(10,g),F=Math.ceil(F*H)/H),s==="ticks"?(B=Math.floor(S/F)*F,z=Math.ceil(O/F)*F):(B=S,z=O),I&&R&&o&&US((h-c)/o,F/1e3)?(V=Math.round(Math.min((h-c)/F,x)),F=(h-c)/V,B=c,z=h):k?(B=I?c:B,z=R?h:z,V=p-1,F=(z-B)/V):(V=(z-B)/F,Aa(V,Math.round(V),F/1e3)?V=Math.round(V):V=Math.ceil(V));const J=Math.max(np(F),np(B));H=Math.pow(10,Xe(g)?J:g),B=Math.round(B*H)/H,z=Math.round(z*H)/H;let se=0;for(I&&(_&&B!==c?(n.push({value:c}),B<c&&se++,Aa(Math.round((B+se*F)*H)/H,c,em(c,P,t))&&se++):B<c&&se++);se<V;++se){const Q=Math.round((B+se*F)*H)/H;if(R&&Q>h)break;n.push({value:Q})}return R&&_&&z!==h?n.length&&Aa(n[n.length-1].value,h,em(h,P,t))?n[n.length-1].value=h:n.push({value:h}):(!R||z===h)&&n.push({value:z}),n}function em(t,e,{horizontal:n,minRotation:r}){const s=ss(r),o=(n?Math.sin(s):Math.cos(s))||.001,c=.75*e*(""+t).length;return Math.min(e/o,c)}class d6 extends Oo{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return Xe(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:s,max:o}=this;const c=g=>s=n?s:g,h=g=>o=r?o:g;if(e){const g=Nr(s),p=Nr(o);g<0&&p<0?h(0):g>0&&p>0&&c(0)}if(s===o){let g=o===0?1:Math.abs(o*.05);h(o+g),e||c(s-g)}this.min=s,this.max=o}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=e,s;return r?(s=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,s>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${s} ticks. Limiting to 1000.`),s=1e3)):(s=this.computeTickLimit(),n=n||11),n&&(s=Math.min(n,s)),s}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let r=this.getTickLimit();r=Math.max(2,r);const s={maxTicks:r,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},o=this._range||this,c=u6(s,o);return e.bounds==="ticks"&&zS(c,this,"value"),e.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const e=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&e.length){const s=(r-n)/Math.max(e.length-1,1)/2;n-=s,r+=s}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(e){return ky(e,this.chart.options.locale,this.options.ticks.format)}}class ll extends d6{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=Qn(e)?e:0,this.max=Qn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,r=ss(this.options.ticks.minRotation),s=(e?Math.sin(r):Math.cos(r))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/s))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}ve(ll,"id","linear"),ve(ll,"defaults",{ticks:{callback:Oy.formatters.numeric}});const Wu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},En=Object.keys(Wu);function tm(t,e){return t-e}function nm(t,e){if(Xe(e))return null;const n=t._adapter,{parser:r,round:s,isoWeekday:o}=t._parseOpts;let c=e;return typeof r=="function"&&(c=r(c)),Qn(c)||(c=typeof r=="string"?n.parse(c,r):n.parse(c)),c===null?null:(s&&(c=s==="week"&&(rl(o)||o===!0)?n.startOf(c,"isoWeek",o):n.startOf(c,s)),+c)}function rm(t,e,n,r){const s=En.length;for(let o=En.indexOf(t);o<s-1;++o){const c=Wu[En[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((n-e)/(h*c.size))<=r)return En[o]}return En[s-1]}function h6(t,e,n,r,s){for(let o=En.length-1;o>=En.indexOf(n);o--){const c=En[o];if(Wu[c].common&&t._adapter.diff(s,r,c)>=e-1)return c}return En[n?En.indexOf(n):0]}function f6(t){for(let e=En.indexOf(t)+1,n=En.length;e<n;++e)if(Wu[En[e]].common)return En[e]}function im(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:r,hi:s}=k0(n,e),o=n[r]>=e?n[r]:n[s];t[o]=!0}}function g6(t,e,n,r){const s=t._adapter,o=+s.startOf(e[0].value,r),c=e[e.length-1].value;let h,g;for(h=o;h<=c;h=+s.add(h,1,r))g=n[h],g>=0&&(e[g].major=!0);return e}function sm(t,e,n){const r=[],s={},o=e.length;let c,h;for(c=0;c<o;++c)h=e[c],s[h]=c,r.push({value:h,major:!1});return o===0||!n?r:g6(t,r,s,n)}class uu extends Oo{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const r=e.time||(e.time={}),s=this._adapter=new E4._date(e.adapters.date);s.init(n),Sa(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:nm(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function g(p){!c&&!isNaN(p.min)&&(s=Math.min(s,p.min)),!h&&!isNaN(p.max)&&(o=Math.max(o,p.max))}(!c||!h)&&(g(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&g(this.getMinMax(!1))),s=Qn(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),o=Qn(o)&&!isNaN(o)?o:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s=r.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,c=this.max,h=$S(s,o,c);return this._unit=n.unit||(r.autoSkip?rm(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):h6(this,h.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:f6(this._unit),this.initOffsets(s),e.reverse&&h.reverse(),sm(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,r=0,s,o;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),e.length===1?n=1-s:n=(this.getDecimalForValue(e[1])-s)/2,o=this.getDecimalForValue(e[e.length-1]),e.length===1?r=o:r=(o-this.getDecimalForValue(e[e.length-2]))/2);const c=e.length<3?.5:.25;n=Pn(n,0,c),r=Pn(r,0,c),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,o=s.time,c=o.unit||rm(o.minUnit,n,r,this._getLabelCapacity(n)),h=Pe(s.ticks.stepSize,1),g=c==="week"?o.isoWeekday:!1,p=rl(g)||g===!0,x={};let w=n,_,E;if(p&&(w=+e.startOf(w,"isoWeek",g)),w=+e.startOf(w,p?"day":c),e.diff(r,n,c)>1e5*h)throw new Error(n+" and "+r+" are too far apart with stepSize of "+h+" "+c);const A=s.ticks.source==="data"&&this.getDataTimestamps();for(_=w,E=0;_<r;_=+e.add(_,h,c),E++)im(x,_,A);return(_===r||s.bounds==="ticks"||E===1)&&im(x,_,A),Object.keys(x).sort(tm).map(S=>+S)}getLabelForValue(e){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(e,r.tooltipFormat):n.format(e,r.displayFormats.datetime)}format(e,n){const s=this.options.time.displayFormats,o=this._unit,c=n||s[o];return this._adapter.format(e,c)}_tickFormatFunction(e,n,r,s){const o=this.options,c=o.ticks.callback;if(c)return at(c,[e,n,r],this);const h=o.time.displayFormats,g=this._unit,p=this._majorUnit,x=g&&h[g],w=p&&h[p],_=r[n],E=p&&w&&_&&_.major;return this._adapter.format(e,s||(E?w:x))}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=ss(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(s),c=Math.sin(s),h=this._resolveTickFontOptions(0).size;return{w:r*o+h*c,h:r*c+h*o}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,o=this._tickFormatFunction(e,0,sm(this,[e],this._majorUnit),s),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let e=this._cache.data||[],n,r;if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(nm(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return Iy(e.sort(tm))}}ve(uu,"id","time"),ve(uu,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function hc(t,e,n){let r=0,s=t.length-1,o,c,h,g;n?(e>=t[r].pos&&e<=t[s].pos&&({lo:r,hi:s}=as(t,"pos",e)),{pos:o,time:h}=t[r],{pos:c,time:g}=t[s]):(e>=t[r].time&&e<=t[s].time&&({lo:r,hi:s}=as(t,"time",e)),{time:o,pos:h}=t[r],{time:c,pos:g}=t[s]);const p=c-o;return p?h+(g-h)*(e-o)/p:h}class om extends uu{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=hc(n,this.min),this._tableRange=hc(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:r}=this,s=[],o=[];let c,h,g,p,x;for(c=0,h=e.length;c<h;++c)p=e[c],p>=n&&p<=r&&s.push(p);if(s.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(c=0,h=s.length;c<h;++c)x=s[c+1],g=s[c-1],p=s[c],Math.round((x+g)/2)!==p&&o.push({time:p,pos:c/(h-1)});return o}_generate(){const e=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(e)||!r.length)&&r.splice(0,0,e),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((s,o)=>s-o)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?e=this.normalize(n.concat(r)):e=n.length?n:r,e=this._cache.all=e,e}getDecimalForValue(e){return(hc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return hc(this._table,r*this._tableRange+this._minPos,!0)}}ve(om,"id","timeseries"),ve(om,"defaults",uu.defaults);const aw="label";function am(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function p6(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function lw(t,e){t.labels=e}function cw(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:aw;const r=[];t.datasets=e.map(s=>{const o=t.datasets.find(c=>c[n]===s[n]);return!o||!s.data||r.includes(o)?{...s}:(r.push(o),Object.assign(o,s),o)})}function m6(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:aw;const n={labels:[],datasets:[]};return lw(n,t.labels),cw(n,t.datasets,e),n}function x6(t,e){const{height:n=150,width:r=300,redraw:s=!1,datasetIdKey:o,type:c,data:h,options:g,plugins:p=[],fallbackContent:x,updateMode:w,..._}=t,E=W.useRef(null),A=W.useRef(null),S=()=>{E.current&&(A.current=new Ro(E.current,{type:c,data:m6(h,o),options:g&&{...g},plugins:p}),am(e,A.current))},O=()=>{am(e,null),A.current&&(A.current.destroy(),A.current=null)};return W.useEffect(()=>{!s&&A.current&&g&&p6(A.current,g)},[s,g]),W.useEffect(()=>{!s&&A.current&&lw(A.current.config.data,h.labels)},[s,h.labels]),W.useEffect(()=>{!s&&A.current&&h.datasets&&cw(A.current.config.data,h.datasets,o)},[s,h.datasets]),W.useEffect(()=>{A.current&&(s?(O(),setTimeout(S)):A.current.update(w))},[s,g,h.labels,h.datasets,w]),W.useEffect(()=>{A.current&&(O(),setTimeout(S))},[c]),W.useEffect(()=>(S(),()=>O()),[]),Ge.createElement("canvas",{ref:E,role:"img",height:n,width:r,..._},x)}const y6=W.forwardRef(x6);function uw(t,e){return Ro.register(e),W.forwardRef((n,r)=>Ge.createElement(y6,{...n,ref:r,type:t}))}const dw=uw("line",Ic),hw=uw("bar",Ac),wi=({title:t,value:e,icon:n,color:r,change:s})=>b.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 transition-all duration-300 hover:shadow-lg",children:b.jsxs("div",{className:"flex items-start justify-between",children:[b.jsxs("div",{children:[b.jsx("h3",{className:"text-gray-500 text-sm font-medium mb-1",children:t}),b.jsxs("div",{className:"flex items-baseline",children:[b.jsx("p",{className:"text-2xl font-semibold",children:e}),s&&b.jsxs("span",{className:`ml-2 text-xs font-medium ${s.isPositive?"text-green-600":"text-red-600"}`,children:[s.isPositive?"+":"",s.value,"%"]})]})]}),b.jsx("div",{className:`p-3 rounded-full ${r}`,children:n})]})}),du=({title:t,children:e,className:n=""})=>b.jsxs("div",{className:`bg-white rounded-lg shadow-md p-6 ${n}`,children:[b.jsx("h3",{className:"text-gray-700 font-medium mb-4",children:t}),b.jsx("div",{className:"w-full h-[300px]",children:e})]}),fw=({id:t,name:e,status:n,startDate:r,endDate:s,bannerCount:o,remainingBanners:c,vehicleType:h,bannerImage:g})=>{const p={active:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800"},x=w=>new Date(w).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"});return b.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-all duration-300 hover:shadow-lg",children:[b.jsxs("div",{className:"h-40 bg-gray-200 relative",children:[g?b.jsx("img",{src:g,alt:e,className:"w-full h-full object-cover"}):b.jsx("div",{className:"w-full h-full flex items-center justify-center bg-indigo-100",children:b.jsx("span",{className:"text-indigo-500 font-medium",children:"No banner image"})}),b.jsx("div",{className:`absolute top-2 right-2 px-2 py-1 rounded-full text-xs font-medium ${p[n]}`,children:n.charAt(0).toUpperCase()+n.slice(1)})]}),b.jsxs("div",{className:"p-4",children:[b.jsx("h3",{className:"font-medium text-lg mb-2 truncate",children:e}),b.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-3",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-gray-500",children:"Start Date"}),b.jsx("p",{className:"font-medium",children:x(r)})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-gray-500",children:"End Date"}),b.jsx("p",{className:"font-medium",children:x(s)})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-gray-500",children:"Vehicle Type"}),b.jsx("p",{className:"font-medium capitalize",children:h})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-gray-500",children:"Banners"}),b.jsxs("p",{className:"font-medium",children:[o-c,"/",o]})]})]}),b.jsx(Ne,{to:`/advertiser/campaigns/${t}`,className:"block w-full text-center py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:"View Details"})]})]})};Ro.register(al,ll,Na,Zs,ka,V0,H0,z0);const w6=()=>{const[t,e]=W.useState(!0),[n,r]=W.useState({activeCampaigns:0,totalCampaigns:0,totalSpent:0,totalBanners:0,assignedBanners:0}),[s,o]=W.useState([]);W.useEffect(()=>{(async()=>{try{e(!0);const{data:{user:p}}=await nt.auth.getUser();if(!p)throw new Error("User not found");const{data:x,error:w}=await nt.from("advertisers").select("id").eq("user_id",p.id).single();if(w)throw w;if(!x)throw new Error("Advertiser profile not found");r({activeCampaigns:3,totalCampaigns:5,totalSpent:12500,totalBanners:25,assignedBanners:18}),o([{id:"1",name:"Summer Sale Promotion",status:"active",startDate:"2025-06-01",endDate:"2025-06-30",bannerCount:10,remainingBanners:2,vehicleType:"auto",bannerImage:"https://images.unsplash.com/photo-1563013544-824ae1b704d3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"},{id:"2",name:"New Store Launch",status:"active",startDate:"2025-05-15",endDate:"2025-07-15",bannerCount:5,remainingBanners:0,vehicleType:"car",bannerImage:"https://images.unsplash.com/photo-1581077968324-c1c7e64bfa2b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"},{id:"3",name:"Festival Discount",status:"pending",startDate:"2025-08-01",endDate:"2025-08-15",bannerCount:8,remainingBanners:8,vehicleType:"auto"}])}catch(p){console.error("Error fetching dashboard data:",p)}finally{e(!1)}})()},[]);const c={labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Active Campaigns",data:[2,3,2,4,3,5],borderColor:"rgb(79, 70, 229)",tension:.4}]},h={labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Monthly Spending (₹)",data:[2e3,3e3,2500,4e3,3500,5e3],backgroundColor:"rgba(79, 70, 229, 0.8)"}]};return b.jsx(Yt,{children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[b.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),b.jsxs(Ne,{to:"/advertiser/create-campaign",className:"mt-4 md:mt-0 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[b.jsx(tu,{size:16,className:"mr-2"}),"Create Campaign"]})]}),t?b.jsx("div",{className:"flex justify-center items-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[b.jsx(wi,{title:"Active Campaigns",value:n.activeCampaigns.toString(),icon:b.jsx(es,{size:24,className:"text-white"}),color:"bg-indigo-600",change:{value:20,isPositive:!0}}),b.jsx(wi,{title:"Total Campaigns",value:n.totalCampaigns.toString(),icon:b.jsx(Jh,{size:24,className:"text-white"}),color:"bg-green-600"}),b.jsx(wi,{title:"Total Spent",value:`₹${n.totalSpent.toLocaleString()}`,icon:b.jsx(qa,{size:24,className:"text-white"}),color:"bg-amber-600",change:{value:15,isPositive:!0}}),b.jsx(wi,{title:"Active Banners",value:`${n.assignedBanners}/${n.totalBanners}`,icon:b.jsx($r,{size:24,className:"text-white"}),color:"bg-purple-600"})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[b.jsx(du,{title:"Campaign Performance",children:b.jsx(dw,{data:c,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}}},height:300})}),b.jsx(du,{title:"Monthly Spending",children:b.jsx(hw,{data:h,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}}},height:300})})]}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Campaigns"}),b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(g=>b.jsx(fw,{id:g.id,name:g.name,status:g.status,startDate:g.startDate,endDate:g.endDate,bannerCount:g.bannerCount,remainingBanners:g.remainingBanners,vehicleType:g.vehicleType,bannerImage:g.bannerImage},g.id))})]})]})]})})},v6=()=>{const[t,e]=W.useState(!0),[n,r]=W.useState([]),[s,o]=W.useState([]),[c,h]=W.useState(""),[g,p]=W.useState("all"),[x,w]=W.useState("all");return W.useEffect(()=>{(async()=>{try{e(!0);const{data:{user:E}}=await nt.auth.getUser();if(!E)throw new Error("User not found");const{data:A,error:S}=await nt.from("advertisers").select("id").eq("user_id",E.id).single();if(S)throw S;if(!A)throw new Error("Advertiser profile not found");const O=[{id:"1",name:"Summer Sale Promotion",status:"active",startDate:"2025-06-01",endDate:"2025-06-30",bannerCount:10,remainingBanners:2,vehicleType:"auto",bannerImage:"https://images.unsplash.com/photo-1563013544-824ae1b704d3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"},{id:"2",name:"New Store Launch",status:"active",startDate:"2025-05-15",endDate:"2025-07-15",bannerCount:5,remainingBanners:0,vehicleType:"car",bannerImage:"https://images.unsplash.com/photo-1581077968324-c1c7e64bfa2b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"},{id:"3",name:"Festival Discount",status:"pending",startDate:"2025-08-01",endDate:"2025-08-15",bannerCount:8,remainingBanners:8,vehicleType:"auto"},{id:"4",name:"Holiday Special",status:"completed",startDate:"2025-01-01",endDate:"2025-01-15",bannerCount:6,remainingBanners:0,vehicleType:"car",bannerImage:"https://images.unsplash.com/photo-1607083206968-13611e3d76db?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"},{id:"5",name:"Weekend Flash Sale",status:"cancelled",startDate:"2025-02-10",endDate:"2025-02-12",bannerCount:4,remainingBanners:4,vehicleType:"auto"}];r(O),o(O)}catch(E){console.error("Error fetching campaigns:",E)}finally{e(!1)}})()},[]),W.useEffect(()=>{let _=[...n];c&&(_=_.filter(E=>E.name.toLowerCase().includes(c.toLowerCase()))),g!=="all"&&(_=_.filter(E=>E.status===g)),x!=="all"&&(_=_.filter(E=>E.vehicleType===x)),o(_)},[c,g,x,n]),b.jsx(Yt,{children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[b.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6",children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"My Campaigns"}),b.jsxs(Ne,{to:"/advertiser/create-campaign",className:"mt-4 md:mt-0 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[b.jsx(tu,{size:16,className:"mr-2"}),"Create Campaign"]})]}),b.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:b.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4",children:[b.jsx("div",{className:"flex-1 mb-4 md:mb-0",children:b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:b.jsx(v0,{size:18,className:"text-gray-400"})}),b.jsx("input",{type:"text",placeholder:"Search campaigns...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:c,onChange:_=>h(_.target.value)})]})}),b.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-4",children:[b.jsxs("div",{className:"mb-4 sm:mb-0",children:[b.jsx("label",{htmlFor:"status-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),b.jsxs("select",{id:"status-filter",className:"block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:g,onChange:_=>p(_.target.value),children:[b.jsx("option",{value:"all",children:"All Statuses"}),b.jsx("option",{value:"active",children:"Active"}),b.jsx("option",{value:"pending",children:"Pending"}),b.jsx("option",{value:"completed",children:"Completed"}),b.jsx("option",{value:"cancelled",children:"Cancelled"})]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"vehicle-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Vehicle Type"}),b.jsxs("select",{id:"vehicle-filter",className:"block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:x,onChange:_=>w(_.target.value),children:[b.jsx("option",{value:"all",children:"All Vehicles"}),b.jsx("option",{value:"auto",children:"Auto"}),b.jsx("option",{value:"car",children:"Car"})]})]})]})]})}),t?b.jsx("div",{className:"flex justify-center items-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):b.jsx(b.Fragment,{children:s.length===0?b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[b.jsx(H2,{size:48,className:"mx-auto text-gray-400 mb-4"}),b.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No campaigns found"}),b.jsx("p",{className:"text-gray-500 mb-4",children:n.length===0?"You haven't created any campaigns yet.":"No campaigns match your current filters."}),n.length===0&&b.jsxs(Ne,{to:"/advertiser/create-campaign",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[b.jsx(tu,{size:16,className:"mr-2"}),"Create Your First Campaign"]})]}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(_=>b.jsx(fw,{id:_.id,name:_.name,status:_.status,startDate:_.startDate,endDate:_.endDate,bannerCount:_.bannerCount,remainingBanners:_.remainingBanners,vehicleType:_.vehicleType,bannerImage:_.bannerImage},_.id))})})]})})},b6=()=>{const t=To(),[e,n]=W.useState(!1),[r,s]=W.useState({name:"",vehicleType:"auto",startDate:"",duration:7,bannerCount:1}),[o,c]=W.useState(null),[h,g]=W.useState(null),p=r.vehicleType==="auto"?70:100,x=p*r.duration*r.bannerCount,w=()=>{if(!r.startDate)return"";const S=new Date(r.startDate),O=new Date(S);return O.setDate(O.getDate()+r.duration),O.toISOString().split("T")[0]},_=S=>{const{name:O,value:I,type:R}=S.target;if(R==="number"){const k=parseInt(I);s(P=>({...P,[O]:k>0?k:1}))}else s(k=>({...k,[O]:I}))},E=S=>{if(S.target.files&&S.target.files[0]){const O=S.target.files[0];if(O.size>5*1024*1024){_e.error("Image size should be less than 5MB");return}if(!O.type.match("image/(jpeg|jpg|png)")){_e.error("Only JPEG and PNG images are allowed");return}c(O);const I=new FileReader;I.onload=R=>{var k;g((k=R.target)==null?void 0:k.result)},I.readAsDataURL(O)}},A=async S=>{if(S.preventDefault(),!o){_e.error("Please upload a banner image");return}if(!r.startDate){_e.error("Please select a start date");return}try{n(!0);const{data:{user:O},error:I}=await nt.auth.getUser();if(I)throw I;if(!O)throw new Error("User not found");const{data:R,error:k}=await nt.from("advertisers").select("id").eq("user_id",O.id).single();if(k)throw k;if(!R)throw new Error("Advertiser profile not found");const P=Date.now(),F=o.name.split(".").pop(),H=`banners/${O.id}/${P}.${F}`,{error:B}=await nt.storage.from("campaign-banners").upload(H,o);if(B)throw B;const{data:{publicUrl:z}}=nt.storage.from("campaign-banners").getPublicUrl(H),V=new Date(r.startDate),J=new Date(V);J.setDate(J.getDate()+r.duration);const{data:se,error:Q}=await nt.from("campaigns").insert({advertiser_id:R.id,name:r.name,vehicle_type:r.vehicleType,duration:r.duration,start_date:V.toISOString(),end_date:J.toISOString(),total_cost:x,banner_count:r.bannerCount,remaining_banners:r.bannerCount,banner_image:z,status:"pending"}).select().single();if(Q)throw Q;_e.success("Campaign created successfully!"),t("/advertiser/campaigns")}catch(O){console.error("Error creating campaign:",O),_e.error(O.message||"Failed to create campaign")}finally{n(!1)}};return b.jsx(Yt,{children:b.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Create New Campaign"}),b.jsx("form",{onSubmit:A,className:"bg-white rounded-lg shadow-md p-6",children:b.jsxs("div",{className:"space-y-6",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Campaign Name"}),b.jsx("input",{type:"text",id:"name",name:"name",required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"e.g. Summer Sale Promotion",value:r.name,onChange:_})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"vehicleType",className:"block text-sm font-medium text-gray-700 mb-1",children:"Vehicle Type"}),b.jsxs("div",{className:"relative",children:[b.jsxs("select",{id:"vehicleType",name:"vehicleType",required:!0,className:"block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:r.vehicleType,onChange:_,children:[b.jsx("option",{value:"auto",children:"Auto (₹70/day)"}),b.jsx("option",{value:"car",children:"Car (₹100/day)"})]}),b.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:b.jsx($r,{size:18,className:"text-gray-400"})})]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"startDate",className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),b.jsxs("div",{className:"relative",children:[b.jsx("input",{type:"date",id:"startDate",name:"startDate",required:!0,min:new Date().toISOString().split("T")[0],className:"block w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.startDate,onChange:_}),b.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:b.jsx(Qh,{size:18,className:"text-gray-400"})})]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"duration",className:"block text-sm font-medium text-gray-700 mb-1",children:"Duration (days)"}),b.jsx("input",{type:"number",id:"duration",name:"duration",min:"1",max:"90",required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.duration,onChange:_}),b.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["Campaign will run from ",r.startDate||"start date"," to ",w()||"end date"]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"bannerCount",className:"block text-sm font-medium text-gray-700 mb-1",children:"Number of Banners"}),b.jsx("input",{type:"number",id:"bannerCount",name:"bannerCount",min:"1",max:"50",required:!0,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:r.bannerCount,onChange:_}),b.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"How many vehicles do you want to display your ad on?"})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Banner Image"}),b.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md",children:h?b.jsxs("div",{className:"space-y-4 text-center",children:[b.jsx("img",{src:h,alt:"Banner preview",className:"mx-auto h-40 object-contain"}),b.jsx("button",{type:"button",className:"text-sm text-indigo-600 hover:text-indigo-500",onClick:()=>{c(null),g(null)},children:"Remove image"})]}):b.jsxs("div",{className:"space-y-1 text-center",children:[b.jsx(D3,{size:40,className:"mx-auto text-gray-400"}),b.jsxs("div",{className:"flex text-sm text-gray-600",children:[b.jsxs("label",{htmlFor:"banner-image",className:"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none",children:[b.jsx("span",{children:"Upload a file"}),b.jsx("input",{id:"banner-image",name:"banner-image",type:"file",accept:"image/jpeg, image/png",className:"sr-only",onChange:E})]}),b.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),b.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG up to 5MB"})]})})]}),b.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[b.jsxs("div",{className:"flex items-center mb-2",children:[b.jsx(qa,{size:20,className:"text-indigo-600 mr-2"}),b.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Cost Summary"})]}),b.jsxs("div",{className:"space-y-2 text-sm",children:[b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-500",children:"Rate per day:"}),b.jsxs("span",{className:"font-medium",children:["₹",p]})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-500",children:"Duration:"}),b.jsxs("span",{className:"font-medium",children:[r.duration," days"]})]}),b.jsxs("div",{className:"flex justify-between",children:[b.jsx("span",{className:"text-gray-500",children:"Number of banners:"}),b.jsx("span",{className:"font-medium",children:r.bannerCount})]}),b.jsxs("div",{className:"border-t border-gray-200 pt-2 flex justify-between",children:[b.jsx("span",{className:"font-medium",children:"Total cost:"}),b.jsxs("span",{className:"font-bold text-indigo-600",children:["₹",x]})]})]})]}),b.jsx("div",{className:"bg-yellow-50 p-4 rounded-md",children:b.jsxs("div",{className:"flex",children:[b.jsx("div",{className:"flex-shrink-0",children:b.jsx(N3,{size:20,className:"text-yellow-600"})}),b.jsxs("div",{className:"ml-3",children:[b.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Important Information"}),b.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:b.jsx("p",{children:"By creating this campaign, you agree to our terms and conditions. Banners will be displayed on vehicles only after they are claimed by drivers and verified."})})]})]})}),b.jsx("div",{className:"flex justify-end",children:b.jsx("button",{type:"submit",disabled:e,className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50",children:e?b.jsxs(b.Fragment,{children:[b.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"Creating Campaign..."]}):"Create Campaign"})})]})})]})})},W0=({id:t,campaignName:e,status:n,startDate:r,endDate:s,vehicleType:o,bannerImage:c,onClaim:h,onVerify:g})=>{const p={available:"bg-blue-100 text-blue-800",assigned:"bg-yellow-100 text-yellow-800",verified:"bg-green-100 text-green-800",completed:"bg-gray-100 text-gray-800"},x=w=>new Date(w).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"});return b.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden transition-all duration-300 hover:shadow-lg",children:[b.jsxs("div",{className:"h-40 bg-gray-200 relative",children:[c?b.jsx("img",{src:c,alt:e,className:"w-full h-full object-cover"}):b.jsx("div",{className:"w-full h-full flex items-center justify-center bg-indigo-100",children:b.jsx("span",{className:"text-indigo-500 font-medium",children:"No banner image"})}),b.jsx("div",{className:`absolute top-2 right-2 px-2 py-1 rounded-full text-xs font-medium ${p[n]}`,children:n.charAt(0).toUpperCase()+n.slice(1)})]}),b.jsxs("div",{className:"p-4",children:[b.jsx("h3",{className:"font-medium text-lg mb-2 truncate",children:e}),b.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm mb-3",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-gray-500",children:"Start Date"}),b.jsx("p",{className:"font-medium",children:x(r)})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-gray-500",children:"End Date"}),b.jsx("p",{className:"font-medium",children:x(s)})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-gray-500",children:"Vehicle Type"}),b.jsx("p",{className:"font-medium capitalize",children:o})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-gray-500",children:"Daily Rate"}),b.jsxs("p",{className:"font-medium",children:["₹",o==="auto"?"70":"100"]})]})]}),n==="available"&&h&&b.jsx("button",{onClick:h,className:"block w-full text-center py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:"Claim Banner"}),(n==="assigned"||n==="verified")&&g&&b.jsx("button",{onClick:g,className:"block w-full text-center py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors",children:"Verify Placement"}),!h&&!g&&b.jsx(Ne,{to:`/driver/my-banners/${t}`,className:"block w-full text-center py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors",children:"View Details"})]})]})};var ce;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ce||(ce={}));var lm=new Map([[ce.QR_CODE,"QR_CODE"],[ce.AZTEC,"AZTEC"],[ce.CODABAR,"CODABAR"],[ce.CODE_39,"CODE_39"],[ce.CODE_93,"CODE_93"],[ce.CODE_128,"CODE_128"],[ce.DATA_MATRIX,"DATA_MATRIX"],[ce.MAXICODE,"MAXICODE"],[ce.ITF,"ITF"],[ce.EAN_13,"EAN_13"],[ce.EAN_8,"EAN_8"],[ce.PDF_417,"PDF_417"],[ce.RSS_14,"RSS_14"],[ce.RSS_EXPANDED,"RSS_EXPANDED"],[ce.UPC_A,"UPC_A"],[ce.UPC_E,"UPC_E"],[ce.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),cm;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(cm||(cm={}));function _6(t){return Object.values(ce).includes(t)}var hu;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(hu||(hu={}));var C6=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[hu.SCAN_TYPE_CAMERA,hu.SCAN_TYPE_FILE],t}(),gw=function(){function t(e,n){this.format=e,this.formatName=n}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!lm.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,lm.get(e))},t}(),um=function(){function t(){}return t.createFromText=function(e){var n={text:e};return{decodedText:e,result:n}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),wf;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(wf||(wf={}));var E6=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:wf.UNKWOWN_ERROR}},t}(),S6=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,n){(this.verbose||n===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function Pr(t){return typeof t>"u"||t===null}var Qs=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),pw=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,n){if(typeof e!="object"){var r=typeof e;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],o=new Set(s),c=Object.keys(e),h=0,g=c;h<g.length;h++){var p=g[h];if(o.has(p))return n.logError("".concat(p," is not supported videoConstaints."),!0),!1}return!0},t}(),vf={exports:{}};(function(t,e){(function(n,r){r(e)})(jt,function(n){function r(T){return T==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,i){T.__proto__=i}||function(T,i){for(var a in i)i.hasOwnProperty(a)&&(T[a]=i[a])};function o(T,i){s(T,i);function a(){this.constructor=T}T.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}function c(T,i){var a=Object.setPrototypeOf;a?a(T,i):T.__proto__=i}function h(T,i){i===void 0&&(i=T.constructor);var a=Error.captureStackTrace;a&&a(T,i)}var g=function(T){o(i,T);function i(a){var l=this.constructor,u=T.call(this,a)||this;return Object.defineProperty(u,"name",{value:l.name,enumerable:!1}),c(u,l.prototype),h(u),u}return i}(Error);class p extends g{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}p.kind="Exception";class x extends p{}x.kind="ArgumentException";class w extends p{}w.kind="IllegalArgumentException";class _{constructor(i){if(this.binarizer=i,i===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,a){return this.binarizer.getBlackRow(i,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,a,l,u){const d=this.binarizer.getLuminanceSource().crop(i,a,l,u);return new _(this.binarizer.createBinarizer(d))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new _(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new _(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class E extends p{static getChecksumInstance(){return new E}}E.kind="ChecksumException";class A{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class S{static arraycopy(i,a,l,u,d){for(;d--;)l[u++]=i[a++]}static currentTimeMillis(){return Date.now()}}class O extends p{}O.kind="IndexOutOfBoundsException";class I extends O{constructor(i=void 0,a=void 0){super(a),this.index=i,this.message=a}}I.kind="ArrayIndexOutOfBoundsException";class R{static fill(i,a){for(let l=0,u=i.length;l<u;l++)i[l]=a}static fillWithin(i,a,l,u){R.rangeCheck(i.length,a,l);for(let d=a;d<l;d++)i[d]=u}static rangeCheck(i,a,l){if(a>l)throw new w("fromIndex("+a+") > toIndex("+l+")");if(a<0)throw new I(a);if(l>i)throw new I(l)}static asList(...i){return i}static create(i,a,l){return Array.from({length:i}).map(d=>Array.from({length:a}).fill(l))}static createInt32Array(i,a,l){return Array.from({length:i}).map(d=>Int32Array.from({length:a}).fill(l))}static equals(i,a){if(!i||!a||!i.length||!a.length||i.length!==a.length)return!1;for(let l=0,u=i.length;l<u;l++)if(i[l]!==a[l])return!1;return!0}static hashCode(i){if(i===null)return 0;let a=1;for(const l of i)a=31*a+l;return a}static fillUint8Array(i,a){for(let l=0;l!==i.length;l++)i[l]=a}static copyOf(i,a){return i.slice(0,a)}static copyOfUint8Array(i,a){if(i.length<=a){const l=new Uint8Array(a);return l.set(i),l}return i.slice(0,a)}static copyOfRange(i,a,l){const u=l-a,d=new Int32Array(u);return S.arraycopy(i,a,d,0,u),d}static binarySearch(i,a,l){l===void 0&&(l=R.numberComparator);let u=0,d=i.length-1;for(;u<=d;){const f=d+u>>1,m=l(a,i[f]);if(m>0)u=f+1;else if(m<0)d=f-1;else return f}return-u-1}static numberComparator(i,a){return i-a}}class k{static numberOfTrailingZeros(i){let a;if(i===0)return 32;let l=31;return a=i<<16,a!==0&&(l-=16,i=a),a=i<<8,a!==0&&(l-=8,i=a),a=i<<4,a!==0&&(l-=4,i=a),a=i<<2,a!==0&&(l-=2,i=a),l-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let a=1;return i>>>16||(a+=16,i<<=16),i>>>24||(a+=8,i<<=8),i>>>28||(a+=4,i<<=4),i>>>30||(a+=2,i<<=2),a-=i>>>31,a}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,a){return Math.trunc(i/a)}static parseInt(i,a=void 0){return parseInt(i,a)}}k.MIN_VALUE_32_BITS=-2147483648,k.MAX_VALUE=Number.MAX_SAFE_INTEGER;class P{constructor(i,a){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,a==null?this.bits=P.makeArray(i):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const a=P.makeArray(i);S.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const a=this.size;if(i>=a)return a;const l=this.bits;let u=Math.floor(i/32),d=l[u];d&=~((1<<(i&31))-1);const f=l.length;for(;d===0;){if(++u===f)return a;d=l[u]}const m=u*32+k.numberOfTrailingZeros(d);return m>a?a:m}getNextUnset(i){const a=this.size;if(i>=a)return a;const l=this.bits;let u=Math.floor(i/32),d=~l[u];d&=~((1<<(i&31))-1);const f=l.length;for(;d===0;){if(++u===f)return a;d=~l[u]}const m=u*32+k.numberOfTrailingZeros(d);return m>a?a:m}setBulk(i,a){this.bits[Math.floor(i/32)]=a}setRange(i,a){if(a<i||i<0||a>this.size)throw new w;if(a===i)return;a--;const l=Math.floor(i/32),u=Math.floor(a/32),d=this.bits;for(let f=l;f<=u;f++){const m=f>l?0:i&31,v=(2<<(f<u?31:a&31))-(1<<m);d[f]|=v}}clear(){const i=this.bits.length,a=this.bits;for(let l=0;l<i;l++)a[l]=0}isRange(i,a,l){if(a<i||i<0||a>this.size)throw new w;if(a===i)return!0;a--;const u=Math.floor(i/32),d=Math.floor(a/32),f=this.bits;for(let m=u;m<=d;m++){const y=m>u?0:i&31,C=(2<<(m<d?31:a&31))-(1<<y)&4294967295;if((f[m]&C)!==(l?C:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,a){if(a<0||a>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let l=a;l>0;l--)this.appendBit((i>>l-1&1)===1)}appendBitArray(i){const a=i.size;this.ensureCapacity(this.size+a);for(let l=0;l<a;l++)this.appendBit(i.get(l))}xor(i){if(this.size!==i.size)throw new w("Sizes don't match");const a=this.bits;for(let l=0,u=a.length;l<u;l++)a[l]^=i.bits[l]}toBytes(i,a,l,u){for(let d=0;d<u;d++){let f=0;for(let m=0;m<8;m++)this.get(i)&&(f|=1<<7-m),i++;a[l+d]=f}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),l=a+1,u=this.bits;for(let d=0;d<l;d++){let f=u[d];f=f>>1&1431655765|(f&1431655765)<<1,f=f>>2&858993459|(f&858993459)<<2,f=f>>4&252645135|(f&252645135)<<4,f=f>>8&16711935|(f&16711935)<<8,f=f>>16&65535|(f&65535)<<16,i[a-d]=f}if(this.size!==l*32){const d=l*32-this.size;let f=i[0]>>>d;for(let m=1;m<l;m++){const y=i[m];f|=y<<32-d,i[m-1]=f,f=y>>>d}i[l-1]=f}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof P))return!1;const a=i;return this.size===a.size&&R.equals(this.bits,a.bits)}hashCode(){return 31*this.size+R.hashCode(this.bits)}toString(){let i="";for(let a=0,l=this.size;a<l;a++)a&7||(i+=" "),i+=this.get(a)?"X":".";return i}clone(){return new P(this.size,this.bits.slice())}}var F;(function(T){T[T.OTHER=0]="OTHER",T[T.PURE_BARCODE=1]="PURE_BARCODE",T[T.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",T[T.TRY_HARDER=3]="TRY_HARDER",T[T.CHARACTER_SET=4]="CHARACTER_SET",T[T.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",T[T.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",T[T.ASSUME_GS1=7]="ASSUME_GS1",T[T.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",T[T.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",T[T.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(F||(F={}));var H=F;class B extends p{static getFormatInstance(){return new B}}B.kind="FormatException";var z;(function(T){T[T.Cp437=0]="Cp437",T[T.ISO8859_1=1]="ISO8859_1",T[T.ISO8859_2=2]="ISO8859_2",T[T.ISO8859_3=3]="ISO8859_3",T[T.ISO8859_4=4]="ISO8859_4",T[T.ISO8859_5=5]="ISO8859_5",T[T.ISO8859_6=6]="ISO8859_6",T[T.ISO8859_7=7]="ISO8859_7",T[T.ISO8859_8=8]="ISO8859_8",T[T.ISO8859_9=9]="ISO8859_9",T[T.ISO8859_10=10]="ISO8859_10",T[T.ISO8859_11=11]="ISO8859_11",T[T.ISO8859_13=12]="ISO8859_13",T[T.ISO8859_14=13]="ISO8859_14",T[T.ISO8859_15=14]="ISO8859_15",T[T.ISO8859_16=15]="ISO8859_16",T[T.SJIS=16]="SJIS",T[T.Cp1250=17]="Cp1250",T[T.Cp1251=18]="Cp1251",T[T.Cp1252=19]="Cp1252",T[T.Cp1256=20]="Cp1256",T[T.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",T[T.UTF8=22]="UTF8",T[T.ASCII=23]="ASCII",T[T.Big5=24]="Big5",T[T.GB18030=25]="GB18030",T[T.EUC_KR=26]="EUC_KR"})(z||(z={}));class V{constructor(i,a,l,...u){this.valueIdentifier=i,this.name=l,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=u,V.VALUE_IDENTIFIER_TO_ECI.set(i,this),V.NAME_TO_ECI.set(l,this);const d=this.values;for(let f=0,m=d.length;f!==m;f++){const y=d[f];V.VALUES_TO_ECI.set(y,this)}for(const f of u)V.NAME_TO_ECI.set(f,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new B("incorect value");const a=V.VALUES_TO_ECI.get(i);if(a===void 0)throw new B("incorect value");return a}static getCharacterSetECIByName(i){const a=V.NAME_TO_ECI.get(i);if(a===void 0)throw new B("incorect value");return a}equals(i){if(!(i instanceof V))return!1;const a=i;return this.getName()===a.getName()}}V.VALUE_IDENTIFIER_TO_ECI=new Map,V.VALUES_TO_ECI=new Map,V.NAME_TO_ECI=new Map,V.Cp437=new V(z.Cp437,Int32Array.from([0,2]),"Cp437"),V.ISO8859_1=new V(z.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),V.ISO8859_2=new V(z.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),V.ISO8859_3=new V(z.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),V.ISO8859_4=new V(z.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),V.ISO8859_5=new V(z.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),V.ISO8859_6=new V(z.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),V.ISO8859_7=new V(z.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),V.ISO8859_8=new V(z.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),V.ISO8859_9=new V(z.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),V.ISO8859_10=new V(z.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),V.ISO8859_11=new V(z.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),V.ISO8859_13=new V(z.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),V.ISO8859_14=new V(z.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),V.ISO8859_15=new V(z.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),V.ISO8859_16=new V(z.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),V.SJIS=new V(z.SJIS,20,"SJIS","Shift_JIS"),V.Cp1250=new V(z.Cp1250,21,"Cp1250","windows-1250"),V.Cp1251=new V(z.Cp1251,22,"Cp1251","windows-1251"),V.Cp1252=new V(z.Cp1252,23,"Cp1252","windows-1252"),V.Cp1256=new V(z.Cp1256,24,"Cp1256","windows-1256"),V.UnicodeBigUnmarked=new V(z.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),V.UTF8=new V(z.UTF8,26,"UTF8","UTF-8"),V.ASCII=new V(z.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),V.Big5=new V(z.Big5,28,"Big5"),V.GB18030=new V(z.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),V.EUC_KR=new V(z.EUC_KR,30,"EUC_KR","EUC-KR");class J extends p{}J.kind="UnsupportedOperationException";class se{static decode(i,a){const l=this.encodingName(a);return this.customDecoder?this.customDecoder(i,l):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(l)?this.decodeFallback(i,l):new TextDecoder(l).decode(i)}static shouldDecodeOnFallback(i){return!se.isBrowser()&&i==="ISO-8859-1"}static encode(i,a){const l=this.encodingName(a);return this.customEncoder?this.customEncoder(i,l):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof V?i:V.getCharacterSetECIByName(i)}static decodeFallback(i,a){const l=this.encodingCharacterSet(a);if(se.isDecodeFallbackSupported(l)){let u="";for(let d=0,f=i.length;d<f;d++){let m=i[d].toString(16);m.length<2&&(m="0"+m),u+="%"+m}return decodeURIComponent(u)}if(l.equals(V.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new J(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(V.UTF8)||i.equals(V.ISO8859_1)||i.equals(V.ASCII)}static encodeFallback(i){const l=btoa(unescape(encodeURIComponent(i))).split(""),u=[];for(let d=0;d<l.length;d++)u.push(l[d].charCodeAt(0));return new Uint8Array(u)}}class Q{static castAsNonUtf8Char(i,a=null){const l=a?a.getName():this.ISO88591;return se.decode(new Uint8Array([i]),l)}static guessEncoding(i,a){if(a!=null&&a.get(H.CHARACTER_SET)!==void 0)return a.get(H.CHARACTER_SET).toString();const l=i.length;let u=!0,d=!0,f=!0,m=0,y=0,v=0,C=0,N=0,D=0,L=0,j=0,U=0,G=0,K=0;const te=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let ne=0;ne<l&&(u||d||f);ne++){const Z=i[ne]&255;f&&(m>0?Z&128?m--:f=!1:Z&128&&(Z&64?(m++,Z&32?(m++,Z&16?(m++,Z&8?f=!1:C++):v++):y++):f=!1)),u&&(Z>127&&Z<160?u=!1:Z>159&&(Z<192||Z===215||Z===247)&&K++),d&&(N>0?Z<64||Z===127||Z>252?d=!1:N--:Z===128||Z===160||Z>239?d=!1:Z>160&&Z<224?(D++,j=0,L++,L>U&&(U=L)):Z>127?(N++,L=0,j++,j>G&&(G=j)):(L=0,j=0))}return f&&m>0&&(f=!1),d&&N>0&&(d=!1),f&&(te||y+v+C>0)?Q.UTF8:d&&(Q.ASSUME_SHIFT_JIS||U>=3||G>=3)?Q.SHIFT_JIS:u&&d?U===2&&D===2||K*10>=l?Q.SHIFT_JIS:Q.ISO88591:u?Q.ISO88591:d?Q.SHIFT_JIS:f?Q.UTF8:Q.PLATFORM_DEFAULT_ENCODING}static format(i,...a){let l=-1;function u(f,m,y,v,C,N){if(f==="%%")return"%";if(a[++l]===void 0)return;f=v?parseInt(v.substr(1)):void 0;let D=C?parseInt(C.substr(1)):void 0,L;switch(N){case"s":L=a[l];break;case"c":L=a[l][0];break;case"f":L=parseFloat(a[l]).toFixed(f);break;case"p":L=parseFloat(a[l]).toPrecision(f);break;case"e":L=parseFloat(a[l]).toExponential(f);break;case"x":L=parseInt(a[l]).toString(D||16);break;case"d":L=parseFloat(parseInt(a[l],D||10).toPrecision(f)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(D);let j=parseInt(y),U=y&&y[0]+""=="0"?"0":" ";for(;L.length<j;)L=m!==void 0?L+U:U+L;return L}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(d,u)}static getBytes(i,a){return se.encode(i,a)}static getCharCode(i,a=0){return i.charCodeAt(a)}static getCharAt(i){return String.fromCharCode(i)}}Q.SHIFT_JIS=V.SJIS.getName(),Q.GB2312="GB2312",Q.ISO88591=V.ISO8859_1.getName(),Q.EUC_JP="EUC_JP",Q.UTF8=V.UTF8.getName(),Q.PLATFORM_DEFAULT_ENCODING=Q.UTF8,Q.ASSUME_SHIFT_JIS=!1;class ge{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=Q.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,a,l){for(let u=a;a<a+l;u++)this.append(i[u]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,a){this.value=this.value.substr(0,i)+a+this.value.substr(i+1)}substring(i,a){return this.value.substring(i,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,a){this.value=this.value.substr(0,i)+a+this.value.substr(i+a.length)}}class Se{constructor(i,a,l,u){if(this.width=i,this.height=a,this.rowSize=l,this.bits=u,a==null&&(a=i),this.height=a,i<1||a<1)throw new w("Both dimensions must be greater than 0");l==null&&(l=Math.floor((i+31)/32)),this.rowSize=l,u==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const a=i.length,l=i[0].length,u=new Se(l,a);for(let d=0;d<a;d++){const f=i[d];for(let m=0;m<l;m++)f[m]&&u.set(m,d)}return u}static parseFromString(i,a,l){if(i===null)throw new w("stringRepresentation cannot be null");const u=new Array(i.length);let d=0,f=0,m=-1,y=0,v=0;for(;v<i.length;)if(i.charAt(v)===`
`||i.charAt(v)==="\r"){if(d>f){if(m===-1)m=d-f;else if(d-f!==m)throw new w("row lengths do not match");f=d,y++}v++}else if(i.substring(v,v+a.length)===a)v+=a.length,u[d]=!0,d++;else if(i.substring(v,v+l.length)===l)v+=l.length,u[d]=!1,d++;else throw new w("illegal character encountered: "+i.substring(v));if(d>f){if(m===-1)m=d-f;else if(d-f!==m)throw new w("row lengths do not match");y++}const C=new Se(m,y);for(let N=0;N<d;N++)u[N]&&C.set(Math.floor(N%m),Math.floor(N/m));return C}get(i,a){const l=a*this.rowSize+Math.floor(i/32);return(this.bits[l]>>>(i&31)&1)!==0}set(i,a){const l=a*this.rowSize+Math.floor(i/32);this.bits[l]|=1<<(i&31)&4294967295}unset(i,a){const l=a*this.rowSize+Math.floor(i/32);this.bits[l]&=~(1<<(i&31)&4294967295)}flip(i,a){const l=a*this.rowSize+Math.floor(i/32);this.bits[l]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new w("input matrix dimensions do not match");const a=new P(Math.floor(this.width/32)+1),l=this.rowSize,u=this.bits;for(let d=0,f=this.height;d<f;d++){const m=d*l,y=i.getRow(d,a).getBitArray();for(let v=0;v<l;v++)u[m+v]^=y[v]}}clear(){const i=this.bits,a=i.length;for(let l=0;l<a;l++)i[l]=0}setRegion(i,a,l,u){if(a<0||i<0)throw new w("Left and top must be nonnegative");if(u<1||l<1)throw new w("Height and width must be at least 1");const d=i+l,f=a+u;if(f>this.height||d>this.width)throw new w("The region must fit inside the matrix");const m=this.rowSize,y=this.bits;for(let v=a;v<f;v++){const C=v*m;for(let N=i;N<d;N++)y[C+Math.floor(N/32)]|=1<<(N&31)&4294967295}}getRow(i,a){a==null||a.getSize()<this.width?a=new P(this.width):a.clear();const l=this.rowSize,u=this.bits,d=i*l;for(let f=0;f<l;f++)a.setBulk(f*32,u[d+f]);return a}setRow(i,a){S.arraycopy(a.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),a=this.getHeight();let l=new P(i),u=new P(i);for(let d=0,f=Math.floor((a+1)/2);d<f;d++)l=this.getRow(d,l),u=this.getRow(a-1-d,u),l.reverse(),u.reverse(),this.setRow(d,u),this.setRow(a-1-d,l)}getEnclosingRectangle(){const i=this.width,a=this.height,l=this.rowSize,u=this.bits;let d=i,f=a,m=-1,y=-1;for(let v=0;v<a;v++)for(let C=0;C<l;C++){const N=u[v*l+C];if(N!==0){if(v<f&&(f=v),v>y&&(y=v),C*32<d){let D=0;for(;!(N<<31-D&4294967295);)D++;C*32+D<d&&(d=C*32+D)}if(C*32+31>m){let D=31;for(;!(N>>>D);)D--;C*32+D>m&&(m=C*32+D)}}}return m<d||y<f?null:Int32Array.from([d,f,m-d+1,y-f+1])}getTopLeftOnBit(){const i=this.rowSize,a=this.bits;let l=0;for(;l<a.length&&a[l]===0;)l++;if(l===a.length)return null;const u=l/i;let d=l%i*32;const f=a[l];let m=0;for(;!(f<<31-m&4294967295);)m++;return d+=m,Int32Array.from([d,u])}getBottomRightOnBit(){const i=this.rowSize,a=this.bits;let l=a.length-1;for(;l>=0&&a[l]===0;)l--;if(l<0)return null;const u=Math.floor(l/i);let d=Math.floor(l%i)*32;const f=a[l];let m=31;for(;!(f>>>m);)m--;return d+=m,Int32Array.from([d,u])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof Se))return!1;const a=i;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&R.equals(this.bits,a.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+R.hashCode(this.bits),i}toString(i="X ",a="  ",l=`
`){return this.buildToString(i,a,l)}buildToString(i,a,l){let u=new ge;for(let d=0,f=this.height;d<f;d++){for(let m=0,y=this.width;m<y;m++)u.append(this.get(m,d)?i:a);u.append(l)}return u.toString()}clone(){return new Se(this.width,this.height,this.rowSize,this.bits.slice())}}class $ extends p{static getNotFoundInstance(){return new $}}$.kind="NotFoundException";class be extends A{constructor(i){super(i),this.luminances=be.EMPTY,this.buckets=new Int32Array(be.LUMINANCE_BUCKETS)}getBlackRow(i,a){const l=this.getLuminanceSource(),u=l.getWidth();a==null||a.getSize()<u?a=new P(u):a.clear(),this.initArrays(u);const d=l.getRow(i,this.luminances),f=this.buckets;for(let y=0;y<u;y++)f[(d[y]&255)>>be.LUMINANCE_SHIFT]++;const m=be.estimateBlackPoint(f);if(u<3)for(let y=0;y<u;y++)(d[y]&255)<m&&a.set(y);else{let y=d[0]&255,v=d[1]&255;for(let C=1;C<u-1;C++){const N=d[C+1]&255;(v*4-y-N)/2<m&&a.set(C),y=v,v=N}}return a}getBlackMatrix(){const i=this.getLuminanceSource(),a=i.getWidth(),l=i.getHeight(),u=new Se(a,l);this.initArrays(a);const d=this.buckets;for(let y=1;y<5;y++){const v=Math.floor(l*y/5),C=i.getRow(v,this.luminances),N=Math.floor(a*4/5);for(let D=Math.floor(a/5);D<N;D++){const L=C[D]&255;d[L>>be.LUMINANCE_SHIFT]++}}const f=be.estimateBlackPoint(d),m=i.getMatrix();for(let y=0;y<l;y++){const v=y*a;for(let C=0;C<a;C++)(m[v+C]&255)<f&&u.set(C,y)}return u}createBinarizer(i){return new be(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const a=this.buckets;for(let l=0;l<be.LUMINANCE_BUCKETS;l++)a[l]=0}static estimateBlackPoint(i){const a=i.length;let l=0,u=0,d=0;for(let C=0;C<a;C++)i[C]>d&&(u=C,d=i[C]),i[C]>l&&(l=i[C]);let f=0,m=0;for(let C=0;C<a;C++){const N=C-u,D=i[C]*N*N;D>m&&(f=C,m=D)}if(u>f){const C=u;u=f,f=C}if(f-u<=a/16)throw new $;let y=f-1,v=-1;for(let C=f-1;C>u;C--){const N=C-u,D=N*N*(f-C)*(l-i[C]);D>v&&(y=C,v=D)}return y<<be.LUMINANCE_SHIFT}}be.LUMINANCE_BITS=5,be.LUMINANCE_SHIFT=8-be.LUMINANCE_BITS,be.LUMINANCE_BUCKETS=1<<be.LUMINANCE_BITS,be.EMPTY=Uint8ClampedArray.from([0]);class ae extends be{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),a=i.getWidth(),l=i.getHeight();if(a>=ae.MINIMUM_DIMENSION&&l>=ae.MINIMUM_DIMENSION){const u=i.getMatrix();let d=a>>ae.BLOCK_SIZE_POWER;a&ae.BLOCK_SIZE_MASK&&d++;let f=l>>ae.BLOCK_SIZE_POWER;l&ae.BLOCK_SIZE_MASK&&f++;const m=ae.calculateBlackPoints(u,d,f,a,l),y=new Se(a,l);ae.calculateThresholdForBlock(u,d,f,a,l,m,y),this.matrix=y}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new ae(i)}static calculateThresholdForBlock(i,a,l,u,d,f,m){const y=d-ae.BLOCK_SIZE,v=u-ae.BLOCK_SIZE;for(let C=0;C<l;C++){let N=C<<ae.BLOCK_SIZE_POWER;N>y&&(N=y);const D=ae.cap(C,2,l-3);for(let L=0;L<a;L++){let j=L<<ae.BLOCK_SIZE_POWER;j>v&&(j=v);const U=ae.cap(L,2,a-3);let G=0;for(let te=-2;te<=2;te++){const ne=f[D+te];G+=ne[U-2]+ne[U-1]+ne[U]+ne[U+1]+ne[U+2]}const K=G/25;ae.thresholdBlock(i,j,N,K,u,m)}}}static cap(i,a,l){return i<a?a:i>l?l:i}static thresholdBlock(i,a,l,u,d,f){for(let m=0,y=l*d+a;m<ae.BLOCK_SIZE;m++,y+=d)for(let v=0;v<ae.BLOCK_SIZE;v++)(i[y+v]&255)<=u&&f.set(a+v,l+m)}static calculateBlackPoints(i,a,l,u,d){const f=d-ae.BLOCK_SIZE,m=u-ae.BLOCK_SIZE,y=new Array(l);for(let v=0;v<l;v++){y[v]=new Int32Array(a);let C=v<<ae.BLOCK_SIZE_POWER;C>f&&(C=f);for(let N=0;N<a;N++){let D=N<<ae.BLOCK_SIZE_POWER;D>m&&(D=m);let L=0,j=255,U=0;for(let K=0,te=C*u+D;K<ae.BLOCK_SIZE;K++,te+=u){for(let ne=0;ne<ae.BLOCK_SIZE;ne++){const Z=i[te+ne]&255;L+=Z,Z<j&&(j=Z),Z>U&&(U=Z)}if(U-j>ae.MIN_DYNAMIC_RANGE)for(K++,te+=u;K<ae.BLOCK_SIZE;K++,te+=u)for(let ne=0;ne<ae.BLOCK_SIZE;ne++)L+=i[te+ne]&255}let G=L>>ae.BLOCK_SIZE_POWER*2;if(U-j<=ae.MIN_DYNAMIC_RANGE&&(G=j/2,v>0&&N>0)){const K=(y[v-1][N]+2*y[v][N-1]+y[v-1][N-1])/4;j<K&&(G=K)}y[v][N]=G}}return y}}ae.BLOCK_SIZE_POWER=3,ae.BLOCK_SIZE=1<<ae.BLOCK_SIZE_POWER,ae.BLOCK_SIZE_MASK=ae.BLOCK_SIZE-1,ae.MINIMUM_DIMENSION=ae.BLOCK_SIZE*5,ae.MIN_DYNAMIC_RANGE=24;class re{constructor(i,a){this.width=i,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,a,l,u){throw new J("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new J("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new J("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let a=new ge;for(let l=0;l<this.height;l++){const u=this.getRow(l,i);for(let d=0;d<this.width;d++){const f=u[d]&255;let m;f<64?m="#":f<128?m="+":f<192?m=".":m=" ",a.append(m)}a.append(`
`)}return a.toString()}}class de extends re{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,a){const l=this.delegate.getRow(i,a),u=this.getWidth();for(let d=0;d<u;d++)l[d]=255-(l[d]&255);return l}getMatrix(){const i=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(a);for(let u=0;u<a;u++)l[u]=255-(i[u]&255);return l}isCropSupported(){return this.delegate.isCropSupported()}crop(i,a,l,u){return new de(this.delegate.crop(i,a,l,u))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new de(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new de(this.delegate.rotateCounterClockwise45())}}class he extends re{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=he.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const a=i.getContext("2d").getImageData(0,0,i.width,i.height);return he.toGrayscaleBuffer(a.data,i.width,i.height)}static toGrayscaleBuffer(i,a,l){const u=new Uint8ClampedArray(a*l);for(let d=0,f=0,m=i.length;d<m;d+=4,f++){let y;if(i[d+3]===0)y=255;else{const C=i[d],N=i[d+1],D=i[d+2];y=306*C+601*N+117*D+512>>10}u[f]=y}return u}getRow(i,a){if(i<0||i>=this.getHeight())throw new w("Requested row is outside the image: "+i);const l=this.getWidth(),u=i*l;return a===null?a=this.buffer.slice(u,u+l):(a.length<l&&(a=new Uint8ClampedArray(l)),a.set(this.buffer.slice(u,u+l))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,a,l,u){return super.crop(i,a,l,u),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const a=this.getTempCanvasElement(),l=a.getContext("2d"),u=i*he.DEGREE_TO_RADIANS,d=this.canvas.width,f=this.canvas.height,m=Math.ceil(Math.abs(Math.cos(u))*d+Math.abs(Math.sin(u))*f),y=Math.ceil(Math.abs(Math.sin(u))*d+Math.abs(Math.cos(u))*f);return a.width=m,a.height=y,l.translate(m/2,y/2),l.rotate(u),l.drawImage(this.canvas,d/-2,f/-2),this.buffer=he.makeBufferFromCanvasImageData(a),this}invert(){return new de(this)}}he.DEGREE_TO_RADIANS=Math.PI/180;class ke{constructor(i,a,l){this.deviceId=i,this.label=a,this.kind="videoinput",this.groupId=l||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var xe=(globalThis||jt||self||window||void 0)&&(globalThis||jt||self||window||void 0).__awaiter||function(T,i,a,l){function u(d){return d instanceof a?d:new a(function(f){f(d)})}return new(a||(a=Promise))(function(d,f){function m(C){try{v(l.next(C))}catch(N){f(N)}}function y(C){try{v(l.throw(C))}catch(N){f(N)}}function v(C){C.done?d(C.value):u(C.value).then(m,y)}v((l=l.apply(T,i||[])).next())})};class Ue{constructor(i,a=500,l){this.reader=i,this.timeBetweenScansMillis=a,this._hints=l,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return xe(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const l of i){const u=l.kind==="video"?"videoinput":l.kind;if(u!=="videoinput")continue;const d=l.deviceId||l.id,f=l.label||`Video device ${a.length+1}`,m=l.groupId,y={deviceId:d,label:f,kind:u,groupId:m};a.push(y)}return a})}getVideoInputDevices(){return xe(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new ke(a.deviceId,a.label))})}findDeviceById(i){return xe(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(l=>l.deviceId===i):null})}decodeFromInputVideoDevice(i,a){return xe(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,a)})}decodeOnceFromVideoDevice(i,a){return xe(this,void 0,void 0,function*(){this.reset();let l;i?l={deviceId:{exact:i}}:l={facingMode:"environment"};const u={video:l};return yield this.decodeOnceFromConstraints(u,a)})}decodeOnceFromConstraints(i,a){return xe(this,void 0,void 0,function*(){const l=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(l,a)})}decodeOnceFromStream(i,a){return xe(this,void 0,void 0,function*(){this.reset();const l=yield this.attachStreamToVideo(i,a);return yield this.decodeOnce(l)})}decodeFromInputVideoDeviceContinuously(i,a,l){return xe(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,a,l)})}decodeFromVideoDevice(i,a,l){return xe(this,void 0,void 0,function*(){let u;i?u={deviceId:{exact:i}}:u={facingMode:"environment"};const d={video:u};return yield this.decodeFromConstraints(d,a,l)})}decodeFromConstraints(i,a,l){return xe(this,void 0,void 0,function*(){const u=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(u,a,l)})}decodeFromStream(i,a,l){return xe(this,void 0,void 0,function*(){this.reset();const u=yield this.attachStreamToVideo(i,a);return yield this.decodeContinuously(u,l)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,a){return xe(this,void 0,void 0,function*(){const l=this.prepareVideoElement(a);return this.addVideoSource(l,i),this.videoElement=l,this.stream=i,yield this.playVideoOnLoadAsync(l),l})}playVideoOnLoadAsync(i){return new Promise((a,l)=>this.playVideoOnLoad(i,()=>a()))}playVideoOnLoad(i,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",a),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return xe(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,a){const l=document.getElementById(i);if(!l)throw new x(`element with id '${i}' not found`);if(l.nodeName.toLowerCase()!==a.toLowerCase())throw new x(`element with id '${i}' must be an ${a} element`);return l}decodeFromImage(i,a){if(!i&&!a)throw new x("either imageElement with a src set or an url must be provided");return a&&!i?this.decodeFromImageUrl(a):this.decodeFromImageElement(i)}decodeFromVideo(i,a){if(!i&&!a)throw new x("Either an element with a src set or an URL must be provided");return a&&!i?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,a,l){if(i===void 0&&a===void 0)throw new x("Either an element with a src set or an URL must be provided");return a&&!i?this.decodeFromVideoUrlContinuously(a,l):this.decodeFromVideoElementContinuously(i,l)}decodeFromImageElement(i){if(!i)throw new x("An image element must be provided.");this.reset();const a=this.prepareImageElement(i);this.imageElement=a;let l;return this.isImageLoaded(a)?l=this.decodeOnce(a,!1,!0):l=this._decodeOnLoadImage(a),l}decodeFromVideoElement(i){const a=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(i,a){const l=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(l,a)}_decodeFromVideoElementSetup(i){if(!i)throw new x("A video element must be provided.");this.reset();const a=this.prepareVideoElement(i);return this.videoElement=a,a}decodeFromImageUrl(i){if(!i)throw new x("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const l=this._decodeOnLoadImage(a);return a.src=i,l}decodeFromVideoUrl(i){if(!i)throw new x("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),l=this.decodeFromVideoElement(a);return a.src=i,l}decodeFromVideoUrlContinuously(i,a){if(!i)throw new x("An URL must be provided.");this.reset();const l=this.prepareVideoElement(),u=this.decodeFromVideoElementContinuously(l,a);return l.src=i,u}_decodeOnLoadImage(i){return new Promise((a,l)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(a,l),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return xe(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,a){return xe(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,a)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let a;return typeof i>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof i=="string"&&(a=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(a=i),a}prepareVideoElement(i){let a;return!i&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof i=="string"&&(a=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(a=i),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(i,a=!0,l=!0){this._stopAsyncDecode=!1;const u=(d,f)=>{if(this._stopAsyncDecode){f(new $("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const m=this.decode(i);d(m)}catch(m){const y=a&&m instanceof $,C=(m instanceof E||m instanceof B)&&l;if(y||C)return setTimeout(u,this._timeBetweenDecodingAttempts,d,f);f(m)}};return new Promise((d,f)=>u(d,f))}decodeContinuously(i,a){this._stopContinuousDecode=!1;const l=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const u=this.decode(i);a(u,null),setTimeout(l,this.timeBetweenScansMillis)}catch(u){a(null,u);const d=u instanceof E||u instanceof B,f=u instanceof $;(d||f)&&setTimeout(l,this._timeBetweenDecodingAttempts)}};l()}decode(i){const a=this.createBinaryBitmap(i);return this.decodeBitmap(a)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,a,l){a||(a={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(i,a,l=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),l||(l=this.captureCanvasContext),l.drawImage(i,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const a=this.getCaptureCanvas(i),l=new he(a),u=new ae(l);return new _(u)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const l=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=l}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const a=this.createCaptureCanvas(i);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let l,u;return typeof i<"u"&&(i instanceof HTMLVideoElement?(l=i.videoWidth,u=i.videoHeight):i instanceof HTMLImageElement&&(l=i.naturalWidth||i.width,u=i.naturalHeight||i.height)),a.style.width=l+"px",a.style.height=u+"px",a.width=l,a.height=u,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,a){try{i.srcObject=a}catch{i.src=URL.createObjectURL(a)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class Ce{constructor(i,a,l=a==null?0:8*a.length,u,d,f=S.currentTimeMillis()){this.text=i,this.rawBytes=a,this.numBits=l,this.resultPoints=u,this.format=d,this.timestamp=f,this.text=i,this.rawBytes=a,l==null?this.numBits=a==null?0:8*a.length:this.numBits=l,this.resultPoints=u,this.format=d,this.resultMetadata=null,f==null?this.timestamp=S.currentTimeMillis():this.timestamp=f}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,a)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const a=this.resultPoints;if(a===null)this.resultPoints=i;else if(i!==null&&i.length>0){const l=new Array(a.length+i.length);S.arraycopy(a,0,l,0,a.length),S.arraycopy(i,0,l,a.length,i.length),this.resultPoints=l}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ct;(function(T){T[T.AZTEC=0]="AZTEC",T[T.CODABAR=1]="CODABAR",T[T.CODE_39=2]="CODE_39",T[T.CODE_93=3]="CODE_93",T[T.CODE_128=4]="CODE_128",T[T.DATA_MATRIX=5]="DATA_MATRIX",T[T.EAN_8=6]="EAN_8",T[T.EAN_13=7]="EAN_13",T[T.ITF=8]="ITF",T[T.MAXICODE=9]="MAXICODE",T[T.PDF_417=10]="PDF_417",T[T.QR_CODE=11]="QR_CODE",T[T.RSS_14=12]="RSS_14",T[T.RSS_EXPANDED=13]="RSS_EXPANDED",T[T.UPC_A=14]="UPC_A",T[T.UPC_E=15]="UPC_E",T[T.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ct||(ct={}));var oe=ct,fn;(function(T){T[T.OTHER=0]="OTHER",T[T.ORIENTATION=1]="ORIENTATION",T[T.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",T[T.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",T[T.ISSUE_NUMBER=4]="ISSUE_NUMBER",T[T.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",T[T.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",T[T.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",T[T.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",T[T.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",T[T.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(fn||(fn={}));var St=fn;class Do{constructor(i,a,l,u,d=-1,f=-1){this.rawBytes=i,this.text=a,this.byteSegments=l,this.ecLevel=u,this.structuredAppendSequenceNumber=d,this.structuredAppendParity=f,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Mo{exp(i){return this.expTable[i]}log(i){if(i===0)throw new w;return this.logTable[i]}static addOrSubtract(i,a){return i^a}}class gn{constructor(i,a){if(a.length===0)throw new w;this.field=i;const l=a.length;if(l>1&&a[0]===0){let u=1;for(;u<l&&a[u]===0;)u++;u===l?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(l-u),S.arraycopy(a,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const a=this.coefficients;let l;if(i===1){l=0;for(let f=0,m=a.length;f!==m;f++){const y=a[f];l=Mo.addOrSubtract(l,y)}return l}l=a[0];const u=a.length,d=this.field;for(let f=1;f<u;f++)l=Mo.addOrSubtract(d.multiply(i,l),a[f]);return l}addOrSubtract(i){if(!this.field.equals(i.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let a=this.coefficients,l=i.coefficients;if(a.length>l.length){const f=a;a=l,l=f}let u=new Int32Array(l.length);const d=l.length-a.length;S.arraycopy(l,0,u,0,d);for(let f=d;f<l.length;f++)u[f]=Mo.addOrSubtract(a[f-d],l[f]);return new gn(this.field,u)}multiply(i){if(!this.field.equals(i.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const a=this.coefficients,l=a.length,u=i.coefficients,d=u.length,f=new Int32Array(l+d-1),m=this.field;for(let y=0;y<l;y++){const v=a[y];for(let C=0;C<d;C++)f[y+C]=Mo.addOrSubtract(f[y+C],m.multiply(v,u[C]))}return new gn(m,f)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const a=this.coefficients.length,l=this.field,u=new Int32Array(a),d=this.coefficients;for(let f=0;f<a;f++)u[f]=l.multiply(d[f],i);return new gn(l,u)}multiplyByMonomial(i,a){if(i<0)throw new w;if(a===0)return this.field.getZero();const l=this.coefficients,u=l.length,d=new Int32Array(u+i),f=this.field;for(let m=0;m<u;m++)d[m]=f.multiply(l[m],a);return new gn(f,d)}divide(i){if(!this.field.equals(i.field))throw new w("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new w("Divide by 0");const a=this.field;let l=a.getZero(),u=this;const d=i.getCoefficient(i.getDegree()),f=a.inverse(d);for(;u.getDegree()>=i.getDegree()&&!u.isZero();){const m=u.getDegree()-i.getDegree(),y=a.multiply(u.getCoefficient(u.getDegree()),f),v=i.multiplyByMonomial(m,y),C=a.buildMonomial(m,y);l=l.addOrSubtract(C),u=u.addOrSubtract(v)}return[l,u]}toString(){let i="";for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);if(l!==0){if(l<0?(i+=" - ",l=-l):i.length>0&&(i+=" + "),a===0||l!==1){const u=this.field.log(l);u===0?i+="1":u===1?i+="a":(i+="a^",i+=u)}a!==0&&(a===1?i+="x":(i+="x^",i+=a))}}return i}}class xl extends p{}xl.kind="ArithmeticException";class ze extends Mo{constructor(i,a,l){super(),this.primitive=i,this.size=a,this.generatorBase=l;const u=new Int32Array(a);let d=1;for(let m=0;m<a;m++)u[m]=d,d*=2,d>=a&&(d^=i,d&=a-1);this.expTable=u;const f=new Int32Array(a);for(let m=0;m<a-1;m++)f[u[m]]=m;this.logTable=f,this.zero=new gn(this,Int32Array.from([0])),this.one=new gn(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,a){if(i<0)throw new w;if(a===0)return this.zero;const l=new Int32Array(i+1);return l[0]=a,new gn(this,l)}inverse(i){if(i===0)throw new xl;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,a){return i===0||a===0?0:this.expTable[(this.logTable[i]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+k.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}ze.AZTEC_DATA_12=new ze(4201,4096,1),ze.AZTEC_DATA_10=new ze(1033,1024,1),ze.AZTEC_DATA_6=new ze(67,64,1),ze.AZTEC_PARAM=new ze(19,16,1),ze.QR_CODE_FIELD_256=new ze(285,256,0),ze.DATA_MATRIX_FIELD_256=new ze(301,256,1),ze.AZTEC_DATA_8=ze.DATA_MATRIX_FIELD_256,ze.MAXICODE_FIELD_64=ze.AZTEC_DATA_6;class Cs extends p{}Cs.kind="ReedSolomonException";class hr extends p{}hr.kind="IllegalStateException";class Po{constructor(i){this.field=i}decode(i,a){const l=this.field,u=new gn(l,i),d=new Int32Array(a);let f=!0;for(let L=0;L<a;L++){const j=u.evaluateAt(l.exp(L+l.getGeneratorBase()));d[d.length-1-L]=j,j!==0&&(f=!1)}if(f)return;const m=new gn(l,d),y=this.runEuclideanAlgorithm(l.buildMonomial(a,1),m,a),v=y[0],C=y[1],N=this.findErrorLocations(v),D=this.findErrorMagnitudes(C,N);for(let L=0;L<N.length;L++){const j=i.length-1-l.log(N[L]);if(j<0)throw new Cs("Bad error location");i[j]=ze.addOrSubtract(i[j],D[L])}}runEuclideanAlgorithm(i,a,l){if(i.getDegree()<a.getDegree()){const L=i;i=a,a=L}const u=this.field;let d=i,f=a,m=u.getZero(),y=u.getOne();for(;f.getDegree()>=(l/2|0);){let L=d,j=m;if(d=f,m=y,d.isZero())throw new Cs("r_{i-1} was zero");f=L;let U=u.getZero();const G=d.getCoefficient(d.getDegree()),K=u.inverse(G);for(;f.getDegree()>=d.getDegree()&&!f.isZero();){const te=f.getDegree()-d.getDegree(),ne=u.multiply(f.getCoefficient(f.getDegree()),K);U=U.addOrSubtract(u.buildMonomial(te,ne)),f=f.addOrSubtract(d.multiplyByMonomial(te,ne))}if(y=U.multiply(m).addOrSubtract(j),f.getDegree()>=d.getDegree())throw new hr("Division algorithm failed to reduce polynomial?")}const v=y.getCoefficient(0);if(v===0)throw new Cs("sigmaTilde(0) was zero");const C=u.inverse(v),N=y.multiplyScalar(C),D=f.multiplyScalar(C);return[N,D]}findErrorLocations(i){const a=i.getDegree();if(a===1)return Int32Array.from([i.getCoefficient(1)]);const l=new Int32Array(a);let u=0;const d=this.field;for(let f=1;f<d.getSize()&&u<a;f++)i.evaluateAt(f)===0&&(l[u]=d.inverse(f),u++);if(u!==a)throw new Cs("Error locator degree does not match number of roots");return l}findErrorMagnitudes(i,a){const l=a.length,u=new Int32Array(l),d=this.field;for(let f=0;f<l;f++){const m=d.inverse(a[f]);let y=1;for(let v=0;v<l;v++)if(f!==v){const C=d.multiply(a[v],m),N=C&1?C&-2:C|1;y=d.multiply(y,N)}u[f]=d.multiply(i.evaluateAt(m),d.inverse(y)),d.getGeneratorBase()!==0&&(u[f]=d.multiply(u[f],m))}return u}}var Vt;(function(T){T[T.UPPER=0]="UPPER",T[T.LOWER=1]="LOWER",T[T.MIXED=2]="MIXED",T[T.DIGIT=3]="DIGIT",T[T.PUNCT=4]="PUNCT",T[T.BINARY=5]="BINARY"})(Vt||(Vt={}));class Je{decode(i){this.ddata=i;let a=i.getBits(),l=this.extractBits(a),u=this.correctBits(l),d=Je.convertBoolArrayToByteArray(u),f=Je.getEncodedData(u),m=new Do(d,f,null,null);return m.setNumBits(u.length),m}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let a=i.length,l=Vt.UPPER,u=Vt.UPPER,d="",f=0;for(;f<a;)if(u===Vt.BINARY){if(a-f<5)break;let m=Je.readCode(i,f,5);if(f+=5,m===0){if(a-f<11)break;m=Je.readCode(i,f,11)+31,f+=11}for(let y=0;y<m;y++){if(a-f<8){f=a;break}const v=Je.readCode(i,f,8);d+=Q.castAsNonUtf8Char(v),f+=8}u=l}else{let m=u===Vt.DIGIT?4:5;if(a-f<m)break;let y=Je.readCode(i,f,m);f+=m;let v=Je.getCharacter(u,y);v.startsWith("CTRL_")?(l=u,u=Je.getTable(v.charAt(5)),v.charAt(6)==="L"&&(l=u)):(d+=v,u=l)}return d}static getTable(i){switch(i){case"L":return Vt.LOWER;case"P":return Vt.PUNCT;case"M":return Vt.MIXED;case"D":return Vt.DIGIT;case"B":return Vt.BINARY;case"U":default:return Vt.UPPER}}static getCharacter(i,a){switch(i){case Vt.UPPER:return Je.UPPER_TABLE[a];case Vt.LOWER:return Je.LOWER_TABLE[a];case Vt.MIXED:return Je.MIXED_TABLE[a];case Vt.PUNCT:return Je.PUNCT_TABLE[a];case Vt.DIGIT:return Je.DIGIT_TABLE[a];default:throw new hr("Bad table")}}correctBits(i){let a,l;this.ddata.getNbLayers()<=2?(l=6,a=ze.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(l=8,a=ze.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(l=10,a=ze.AZTEC_DATA_10):(l=12,a=ze.AZTEC_DATA_12);let u=this.ddata.getNbDatablocks(),d=i.length/l;if(d<u)throw new B;let f=i.length%l,m=new Int32Array(d);for(let D=0;D<d;D++,f+=l)m[D]=Je.readCode(i,f,l);try{new Po(a).decode(m,d-u)}catch(D){throw new B(D)}let y=(1<<l)-1,v=0;for(let D=0;D<u;D++){let L=m[D];if(L===0||L===y)throw new B;(L===1||L===y-1)&&v++}let C=new Array(u*l-v),N=0;for(let D=0;D<u;D++){let L=m[D];if(L===1||L===y-1)C.fill(L>1,N,N+l-1),N+=l-1;else for(let j=l-1;j>=0;--j)C[N++]=(L&1<<j)!==0}return C}extractBits(i){let a=this.ddata.isCompact(),l=this.ddata.getNbLayers(),u=(a?11:14)+l*4,d=new Int32Array(u),f=new Array(this.totalBitsInLayer(l,a));if(a)for(let m=0;m<d.length;m++)d[m]=m;else{let m=u+1+2*k.truncDivision(k.truncDivision(u,2)-1,15),y=u/2,v=k.truncDivision(m,2);for(let C=0;C<y;C++){let N=C+k.truncDivision(C,15);d[y-C-1]=v-N-1,d[y+C]=v+N+1}}for(let m=0,y=0;m<l;m++){let v=(l-m)*4+(a?9:12),C=m*2,N=u-1-C;for(let D=0;D<v;D++){let L=D*2;for(let j=0;j<2;j++)f[y+L+j]=i.get(d[C+j],d[C+D]),f[y+2*v+L+j]=i.get(d[C+D],d[N-j]),f[y+4*v+L+j]=i.get(d[N-j],d[N-D]),f[y+6*v+L+j]=i.get(d[N-D],d[C+j])}y+=v*8}return f}static readCode(i,a,l){let u=0;for(let d=a;d<a+l;d++)u<<=1,i[d]&&(u|=1);return u}static readByte(i,a){let l=i.length-a;return l>=8?Je.readCode(i,a,8):Je.readCode(i,a,l)<<8-l}static convertBoolArrayToByteArray(i){let a=new Uint8Array((i.length+7)/8);for(let l=0;l<a.length;l++)a[l]=Je.readByte(i,8*l);return a}totalBitsInLayer(i,a){return((a?88:112)+16*i)*i}}Je.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Je.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Je.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Je.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Je.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class Le{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,a,l,u){const d=i-l,f=a-u;return Math.sqrt(d*d+f*f)}static sum(i){let a=0;for(let l=0,u=i.length;l!==u;l++){const d=i[l];a+=d}return a}}class yl{static floatToIntBits(i){return i}}yl.MAX_VALUE=Number.MAX_SAFE_INTEGER;class fe{constructor(i,a){this.x=i,this.y=a}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof fe){const a=i;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*yl.floatToIntBits(this.x)+yl.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const a=this.distance(i[0],i[1]),l=this.distance(i[1],i[2]),u=this.distance(i[0],i[2]);let d,f,m;if(l>=a&&l>=u?(f=i[0],d=i[1],m=i[2]):u>=l&&u>=a?(f=i[1],d=i[0],m=i[2]):(f=i[2],d=i[0],m=i[1]),this.crossProductZ(d,f,m)<0){const y=d;d=m,m=y}i[0]=d,i[1]=f,i[2]=m}static distance(i,a){return Le.distance(i.x,i.y,a.x,a.y)}static crossProductZ(i,a,l){const u=a.x,d=a.y;return(l.x-u)*(i.y-d)-(l.y-d)*(i.x-u)}}class wl{constructor(i,a){this.bits=i,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class X0 extends wl{constructor(i,a,l,u,d){super(i,a),this.compact=l,this.nbDatablocks=u,this.nbLayers=d}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Or{constructor(i,a,l,u){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),a==null&&(a=Or.INIT_SIZE),l==null&&(l=i.getWidth()/2|0),u==null&&(u=i.getHeight()/2|0);const d=a/2|0;if(this.leftInit=l-d,this.rightInit=l+d,this.upInit=u-d,this.downInit=u+d,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new $}detect(){let i=this.leftInit,a=this.rightInit,l=this.upInit,u=this.downInit,d=!1,f=!0,m=!1,y=!1,v=!1,C=!1,N=!1;const D=this.width,L=this.height;for(;f;){f=!1;let j=!0;for(;(j||!y)&&a<D;)j=this.containsBlackPoint(l,u,a,!1),j?(a++,f=!0,y=!0):y||a++;if(a>=D){d=!0;break}let U=!0;for(;(U||!v)&&u<L;)U=this.containsBlackPoint(i,a,u,!0),U?(u++,f=!0,v=!0):v||u++;if(u>=L){d=!0;break}let G=!0;for(;(G||!C)&&i>=0;)G=this.containsBlackPoint(l,u,i,!1),G?(i--,f=!0,C=!0):C||i--;if(i<0){d=!0;break}let K=!0;for(;(K||!N)&&l>=0;)K=this.containsBlackPoint(i,a,l,!0),K?(l--,f=!0,N=!0):N||l--;if(l<0){d=!0;break}f&&(m=!0)}if(!d&&m){const j=a-i;let U=null;for(let ne=1;U===null&&ne<j;ne++)U=this.getBlackPointOnSegment(i,u-ne,i+ne,u);if(U==null)throw new $;let G=null;for(let ne=1;G===null&&ne<j;ne++)G=this.getBlackPointOnSegment(i,l+ne,i+ne,l);if(G==null)throw new $;let K=null;for(let ne=1;K===null&&ne<j;ne++)K=this.getBlackPointOnSegment(a,l+ne,a-ne,l);if(K==null)throw new $;let te=null;for(let ne=1;te===null&&ne<j;ne++)te=this.getBlackPointOnSegment(a,u-ne,a-ne,u);if(te==null)throw new $;return this.centerEdges(te,U,K,G)}else throw new $}getBlackPointOnSegment(i,a,l,u){const d=Le.round(Le.distance(i,a,l,u)),f=(l-i)/d,m=(u-a)/d,y=this.image;for(let v=0;v<d;v++){const C=Le.round(i+v*f),N=Le.round(a+v*m);if(y.get(C,N))return new fe(C,N)}return null}centerEdges(i,a,l,u){const d=i.getX(),f=i.getY(),m=a.getX(),y=a.getY(),v=l.getX(),C=l.getY(),N=u.getX(),D=u.getY(),L=Or.CORR;return d<this.width/2?[new fe(N-L,D+L),new fe(m+L,y+L),new fe(v-L,C-L),new fe(d+L,f-L)]:[new fe(N+L,D+L),new fe(m+L,y-L),new fe(v-L,C+L),new fe(d-L,f-L)]}containsBlackPoint(i,a,l,u){const d=this.image;if(u){for(let f=i;f<=a;f++)if(d.get(f,l))return!0}else for(let f=i;f<=a;f++)if(d.get(l,f))return!0;return!1}}Or.INIT_SIZE=10,Or.CORR=1;class Gu{static checkAndNudgePoints(i,a){const l=i.getWidth(),u=i.getHeight();let d=!0;for(let f=0;f<a.length&&d;f+=2){const m=Math.floor(a[f]),y=Math.floor(a[f+1]);if(m<-1||m>l||y<-1||y>u)throw new $;d=!1,m===-1?(a[f]=0,d=!0):m===l&&(a[f]=l-1,d=!0),y===-1?(a[f+1]=0,d=!0):y===u&&(a[f+1]=u-1,d=!0)}d=!0;for(let f=a.length-2;f>=0&&d;f-=2){const m=Math.floor(a[f]),y=Math.floor(a[f+1]);if(m<-1||m>l||y<-1||y>u)throw new $;d=!1,m===-1?(a[f]=0,d=!0):m===l&&(a[f]=l-1,d=!0),y===-1?(a[f+1]=0,d=!0):y===u&&(a[f+1]=u-1,d=!0)}}}class er{constructor(i,a,l,u,d,f,m,y,v){this.a11=i,this.a21=a,this.a31=l,this.a12=u,this.a22=d,this.a32=f,this.a13=m,this.a23=y,this.a33=v}static quadrilateralToQuadrilateral(i,a,l,u,d,f,m,y,v,C,N,D,L,j,U,G){const K=er.quadrilateralToSquare(i,a,l,u,d,f,m,y);return er.squareToQuadrilateral(v,C,N,D,L,j,U,G).times(K)}transformPoints(i){const a=i.length,l=this.a11,u=this.a12,d=this.a13,f=this.a21,m=this.a22,y=this.a23,v=this.a31,C=this.a32,N=this.a33;for(let D=0;D<a;D+=2){const L=i[D],j=i[D+1],U=d*L+y*j+N;i[D]=(l*L+f*j+v)/U,i[D+1]=(u*L+m*j+C)/U}}transformPointsWithValues(i,a){const l=this.a11,u=this.a12,d=this.a13,f=this.a21,m=this.a22,y=this.a23,v=this.a31,C=this.a32,N=this.a33,D=i.length;for(let L=0;L<D;L++){const j=i[L],U=a[L],G=d*j+y*U+N;i[L]=(l*j+f*U+v)/G,a[L]=(u*j+m*U+C)/G}}static squareToQuadrilateral(i,a,l,u,d,f,m,y){const v=i-l+d-m,C=a-u+f-y;if(v===0&&C===0)return new er(l-i,d-l,i,u-a,f-u,a,0,0,1);{const N=l-d,D=m-d,L=u-f,j=y-f,U=N*j-D*L,G=(v*j-D*C)/U,K=(N*C-v*L)/U;return new er(l-i+G*l,m-i+K*m,i,u-a+G*u,y-a+K*y,a,G,K,1)}}static quadrilateralToSquare(i,a,l,u,d,f,m,y){return er.squareToQuadrilateral(i,a,l,u,d,f,m,y).buildAdjoint()}buildAdjoint(){return new er(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new er(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class $0 extends Gu{sampleGrid(i,a,l,u,d,f,m,y,v,C,N,D,L,j,U,G,K,te,ne){const Z=er.quadrilateralToQuadrilateral(u,d,f,m,y,v,C,N,D,L,j,U,G,K,te,ne);return this.sampleGridWithTransform(i,a,l,Z)}sampleGridWithTransform(i,a,l,u){if(a<=0||l<=0)throw new $;const d=new Se(a,l),f=new Float32Array(2*a);for(let m=0;m<l;m++){const y=f.length,v=m+.5;for(let C=0;C<y;C+=2)f[C]=C/2+.5,f[C+1]=v;u.transformPoints(f),Gu.checkAndNudgePoints(i,f);try{for(let C=0;C<y;C+=2)i.get(Math.floor(f[C]),Math.floor(f[C+1]))&&d.set(C/2,m)}catch{throw new $}}return d}}class Kr{static setGridSampler(i){Kr.gridSampler=i}static getInstance(){return Kr.gridSampler}}Kr.gridSampler=new $0;class on{constructor(i,a){this.x=i,this.y=a}toResultPoint(){return new fe(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Y0{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let a=this.getMatrixCenter(),l=this.getBullsEyeCorners(a);if(i){let f=l[0];l[0]=l[2],l[2]=f}this.extractParameters(l);let u=this.sampleGrid(this.image,l[this.shift%4],l[(this.shift+1)%4],l[(this.shift+2)%4],l[(this.shift+3)%4]),d=this.getMatrixCornerPoints(l);return new X0(u,d,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new $;let a=2*this.nbCenterLayers,l=new Int32Array([this.sampleLine(i[0],i[1],a),this.sampleLine(i[1],i[2],a),this.sampleLine(i[2],i[3],a),this.sampleLine(i[3],i[0],a)]);this.shift=this.getRotation(l,a);let u=0;for(let f=0;f<4;f++){let m=l[(this.shift+f)%4];this.compact?(u<<=7,u+=m>>1&127):(u<<=10,u+=(m>>2&992)+(m>>1&31))}let d=this.getCorrectedParameterData(u,this.compact);this.compact?(this.nbLayers=(d>>6)+1,this.nbDataBlocks=(d&63)+1):(this.nbLayers=(d>>11)+1,this.nbDataBlocks=(d&2047)+1)}getRotation(i,a){let l=0;i.forEach((u,d,f)=>{let m=(u>>a-2<<1)+(u&1);l=(l<<3)+m}),l=((l&1)<<11)+(l>>1);for(let u=0;u<4;u++)if(k.bitCount(l^this.EXPECTED_CORNER_BITS[u])<=2)return u;throw new $}getCorrectedParameterData(i,a){let l,u;a?(l=7,u=2):(l=10,u=4);let d=l-u,f=new Int32Array(l);for(let y=l-1;y>=0;--y)f[y]=i&15,i>>=4;try{new Po(ze.AZTEC_PARAM).decode(f,d)}catch{throw new $}let m=0;for(let y=0;y<u;y++)m=(m<<4)+f[y];return m}getBullsEyeCorners(i){let a=i,l=i,u=i,d=i,f=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let N=this.getFirstDifferent(a,f,1,-1),D=this.getFirstDifferent(l,f,1,1),L=this.getFirstDifferent(u,f,-1,1),j=this.getFirstDifferent(d,f,-1,-1);if(this.nbCenterLayers>2){let U=this.distancePoint(j,N)*this.nbCenterLayers/(this.distancePoint(d,a)*(this.nbCenterLayers+2));if(U<.75||U>1.25||!this.isWhiteOrBlackRectangle(N,D,L,j))break}a=N,l=D,u=L,d=j,f=!f}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new $;this.compact=this.nbCenterLayers===5;let m=new fe(a.getX()+.5,a.getY()-.5),y=new fe(l.getX()+.5,l.getY()+.5),v=new fe(u.getX()-.5,u.getY()+.5),C=new fe(d.getX()-.5,d.getY()-.5);return this.expandSquare([m,y,v,C],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,a,l,u;try{let m=new Or(this.image).detect();i=m[0],a=m[1],l=m[2],u=m[3]}catch{let y=this.image.getWidth()/2,v=this.image.getHeight()/2;i=this.getFirstDifferent(new on(y+7,v-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new on(y+7,v+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new on(y-7,v+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new on(y-7,v-7),!1,-1,-1).toResultPoint()}let d=Le.round((i.getX()+u.getX()+a.getX()+l.getX())/4),f=Le.round((i.getY()+u.getY()+a.getY()+l.getY())/4);try{let m=new Or(this.image,15,d,f).detect();i=m[0],a=m[1],l=m[2],u=m[3]}catch{i=this.getFirstDifferent(new on(d+7,f-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new on(d+7,f+7),!1,1,1).toResultPoint(),l=this.getFirstDifferent(new on(d-7,f+7),!1,-1,1).toResultPoint(),u=this.getFirstDifferent(new on(d-7,f-7),!1,-1,-1).toResultPoint()}return d=Le.round((i.getX()+u.getX()+a.getX()+l.getX())/4),f=Le.round((i.getY()+u.getY()+a.getY()+l.getY())/4),new on(d,f)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,a,l,u,d){let f=Kr.getInstance(),m=this.getDimension(),y=m/2-this.nbCenterLayers,v=m/2+this.nbCenterLayers;return f.sampleGrid(i,m,m,y,y,v,y,v,v,y,v,a.getX(),a.getY(),l.getX(),l.getY(),u.getX(),u.getY(),d.getX(),d.getY())}sampleLine(i,a,l){let u=0,d=this.distanceResultPoint(i,a),f=d/l,m=i.getX(),y=i.getY(),v=f*(a.getX()-i.getX())/d,C=f*(a.getY()-i.getY())/d;for(let N=0;N<l;N++)this.image.get(Le.round(m+N*v),Le.round(y+N*C))&&(u|=1<<l-N-1);return u}isWhiteOrBlackRectangle(i,a,l,u){let d=3;i=new on(i.getX()-d,i.getY()+d),a=new on(a.getX()-d,a.getY()-d),l=new on(l.getX()+d,l.getY()-d),u=new on(u.getX()+d,u.getY()+d);let f=this.getColor(u,i);if(f===0)return!1;let m=this.getColor(i,a);return m!==f||(m=this.getColor(a,l),m!==f)?!1:(m=this.getColor(l,u),m===f)}getColor(i,a){let l=this.distancePoint(i,a),u=(a.getX()-i.getX())/l,d=(a.getY()-i.getY())/l,f=0,m=i.getX(),y=i.getY(),v=this.image.get(i.getX(),i.getY()),C=Math.ceil(l);for(let D=0;D<C;D++)m+=u,y+=d,this.image.get(Le.round(m),Le.round(y))!==v&&f++;let N=f/l;return N>.1&&N<.9?0:N<=.1===v?1:-1}getFirstDifferent(i,a,l,u){let d=i.getX()+l,f=i.getY()+u;for(;this.isValid(d,f)&&this.image.get(d,f)===a;)d+=l,f+=u;for(d-=l,f-=u;this.isValid(d,f)&&this.image.get(d,f)===a;)d+=l;for(d-=l;this.isValid(d,f)&&this.image.get(d,f)===a;)f+=u;return f-=u,new on(d,f)}expandSquare(i,a,l){let u=l/(2*a),d=i[0].getX()-i[2].getX(),f=i[0].getY()-i[2].getY(),m=(i[0].getX()+i[2].getX())/2,y=(i[0].getY()+i[2].getY())/2,v=new fe(m+u*d,y+u*f),C=new fe(m-u*d,y-u*f);d=i[1].getX()-i[3].getX(),f=i[1].getY()-i[3].getY(),m=(i[1].getX()+i[3].getX())/2,y=(i[1].getY()+i[3].getY())/2;let N=new fe(m+u*d,y+u*f),D=new fe(m-u*d,y-u*f);return[v,N,C,D]}isValid(i,a){return i>=0&&i<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(i){let a=Le.round(i.getX()),l=Le.round(i.getY());return this.isValid(a,l)}distancePoint(i,a){return Le.distance(i.getX(),i.getY(),a.getX(),a.getY())}distanceResultPoint(i,a){return Le.distance(i.getX(),i.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(k.truncDivision(this.nbLayers-4,8)+1)+15}}class vl{decode(i,a=null){let l=null,u=new Y0(i.getBlackMatrix()),d=null,f=null;try{let C=u.detectMirror(!1);d=C.getPoints(),this.reportFoundResultPoints(a,d),f=new Je().decode(C)}catch(C){l=C}if(f==null)try{let C=u.detectMirror(!0);d=C.getPoints(),this.reportFoundResultPoints(a,d),f=new Je().decode(C)}catch(C){throw l??C}let m=new Ce(f.getText(),f.getRawBytes(),f.getNumBits(),d,oe.AZTEC,S.currentTimeMillis()),y=f.getByteSegments();y!=null&&m.putMetadata(St.BYTE_SEGMENTS,y);let v=f.getECLevel();return v!=null&&m.putMetadata(St.ERROR_CORRECTION_LEVEL,v),m}reportFoundResultPoints(i,a){if(i!=null){let l=i.get(H.NEED_RESULT_POINT_CALLBACK);l!=null&&a.forEach((u,d,f)=>{l.foundPossibleResultPoint(u)})}}reset(){}}class ww extends Ue{constructor(i=500){super(new vl,i)}}class At{decode(i,a){try{return this.doDecode(i,a)}catch{if(a&&a.get(H.TRY_HARDER)===!0&&i.isRotateSupported()){const d=i.rotateCounterClockwise(),f=this.doDecode(d,a),m=f.getResultMetadata();let y=270;m!==null&&m.get(St.ORIENTATION)===!0&&(y=y+m.get(St.ORIENTATION)%360),f.putMetadata(St.ORIENTATION,y);const v=f.getResultPoints();if(v!==null){const C=d.getHeight();for(let N=0;N<v.length;N++)v[N]=new fe(C-v[N].getY()-1,v[N].getX())}return f}else throw new $}}reset(){}doDecode(i,a){const l=i.getWidth(),u=i.getHeight();let d=new P(l);const f=a&&a.get(H.TRY_HARDER)===!0,m=Math.max(1,u>>(f?8:5));let y;f?y=u:y=15;const v=Math.trunc(u/2);for(let C=0;C<y;C++){const N=Math.trunc((C+1)/2),D=(C&1)===0,L=v+m*(D?N:-N);if(L<0||L>=u)break;try{d=i.getBlackRow(L,d)}catch{continue}for(let j=0;j<2;j++){if(j===1&&(d.reverse(),a&&a.get(H.NEED_RESULT_POINT_CALLBACK)===!0)){const U=new Map;a.forEach((G,K)=>U.set(K,G)),U.delete(H.NEED_RESULT_POINT_CALLBACK),a=U}try{const U=this.decodeRow(L,d,a);if(j===1){U.putMetadata(St.ORIENTATION,180);const G=U.getResultPoints();G!==null&&(G[0]=new fe(l-G[0].getX()-1,G[0].getY()),G[1]=new fe(l-G[1].getX()-1,G[1].getY()))}return U}catch{}}}throw new $}static recordPattern(i,a,l){const u=l.length;for(let v=0;v<u;v++)l[v]=0;const d=i.getSize();if(a>=d)throw new $;let f=!i.get(a),m=0,y=a;for(;y<d;){if(i.get(y)!==f)l[m]++;else{if(++m===u)break;l[m]=1,f=!f}y++}if(!(m===u||m===u-1&&y===d))throw new $}static recordPatternInReverse(i,a,l){let u=l.length,d=i.get(a);for(;a>0&&u>=0;)i.get(--a)!==d&&(u--,d=!d);if(u>=0)throw new $;At.recordPattern(i,a+1,l)}static patternMatchVariance(i,a,l){const u=i.length;let d=0,f=0;for(let v=0;v<u;v++)d+=i[v],f+=a[v];if(d<f)return Number.POSITIVE_INFINITY;const m=d/f;l*=m;let y=0;for(let v=0;v<u;v++){const C=i[v],N=a[v]*m,D=C>N?C-N:N-C;if(D>l)return Number.POSITIVE_INFINITY;y+=D}return y/d}}class ie extends At{static findStartPattern(i){const a=i.getSize(),l=i.getNextSet(0);let u=0,d=Int32Array.from([0,0,0,0,0,0]),f=l,m=!1;const y=6;for(let v=l;v<a;v++)if(i.get(v)!==m)d[u]++;else{if(u===y-1){let C=ie.MAX_AVG_VARIANCE,N=-1;for(let D=ie.CODE_START_A;D<=ie.CODE_START_C;D++){const L=At.patternMatchVariance(d,ie.CODE_PATTERNS[D],ie.MAX_INDIVIDUAL_VARIANCE);L<C&&(C=L,N=D)}if(N>=0&&i.isRange(Math.max(0,f-(v-f)/2),f,!1))return Int32Array.from([f,v,N]);f+=d[0]+d[1],d=d.slice(2,d.length-1),d[u-1]=0,d[u]=0,u--}else u++;d[u]=1,m=!m}throw new $}static decodeCode(i,a,l){At.recordPattern(i,l,a);let u=ie.MAX_AVG_VARIANCE,d=-1;for(let f=0;f<ie.CODE_PATTERNS.length;f++){const m=ie.CODE_PATTERNS[f],y=this.patternMatchVariance(a,m,ie.MAX_INDIVIDUAL_VARIANCE);y<u&&(u=y,d=f)}if(d>=0)return d;throw new $}decodeRow(i,a,l){const u=l&&l.get(H.ASSUME_GS1)===!0,d=ie.findStartPattern(a),f=d[2];let m=0;const y=new Uint8Array(20);y[m++]=f;let v;switch(f){case ie.CODE_START_A:v=ie.CODE_CODE_A;break;case ie.CODE_START_B:v=ie.CODE_CODE_B;break;case ie.CODE_START_C:v=ie.CODE_CODE_C;break;default:throw new B}let C=!1,N=!1,D="",L=d[0],j=d[1];const U=Int32Array.from([0,0,0,0,0,0]);let G=0,K=0,te=f,ne=0,Z=!0,Re=!1,Ee=!1;for(;!C;){const Rs=N;switch(N=!1,G=K,K=ie.decodeCode(a,U,j),y[m++]=K,K!==ie.CODE_STOP&&(Z=!0),K!==ie.CODE_STOP&&(ne++,te+=ne*K),L=j,j+=U.reduce((Yw,Kw)=>Yw+Kw,0),K){case ie.CODE_START_A:case ie.CODE_START_B:case ie.CODE_START_C:throw new B}switch(v){case ie.CODE_CODE_A:if(K<64)Ee===Re?D+=String.fromCharCode(32+K):D+=String.fromCharCode(32+K+128),Ee=!1;else if(K<96)Ee===Re?D+=String.fromCharCode(K-64):D+=String.fromCharCode(K+64),Ee=!1;else switch(K!==ie.CODE_STOP&&(Z=!1),K){case ie.CODE_FNC_1:u&&(D.length===0?D+="]C1":D+="");break;case ie.CODE_FNC_2:case ie.CODE_FNC_3:break;case ie.CODE_FNC_4_A:!Re&&Ee?(Re=!0,Ee=!1):Re&&Ee?(Re=!1,Ee=!1):Ee=!0;break;case ie.CODE_SHIFT:N=!0,v=ie.CODE_CODE_B;break;case ie.CODE_CODE_B:v=ie.CODE_CODE_B;break;case ie.CODE_CODE_C:v=ie.CODE_CODE_C;break;case ie.CODE_STOP:C=!0;break}break;case ie.CODE_CODE_B:if(K<96)Ee===Re?D+=String.fromCharCode(32+K):D+=String.fromCharCode(32+K+128),Ee=!1;else switch(K!==ie.CODE_STOP&&(Z=!1),K){case ie.CODE_FNC_1:u&&(D.length===0?D+="]C1":D+="");break;case ie.CODE_FNC_2:case ie.CODE_FNC_3:break;case ie.CODE_FNC_4_B:!Re&&Ee?(Re=!0,Ee=!1):Re&&Ee?(Re=!1,Ee=!1):Ee=!0;break;case ie.CODE_SHIFT:N=!0,v=ie.CODE_CODE_A;break;case ie.CODE_CODE_A:v=ie.CODE_CODE_A;break;case ie.CODE_CODE_C:v=ie.CODE_CODE_C;break;case ie.CODE_STOP:C=!0;break}break;case ie.CODE_CODE_C:if(K<100)K<10&&(D+="0"),D+=K;else switch(K!==ie.CODE_STOP&&(Z=!1),K){case ie.CODE_FNC_1:u&&(D.length===0?D+="]C1":D+="");break;case ie.CODE_CODE_A:v=ie.CODE_CODE_A;break;case ie.CODE_CODE_B:v=ie.CODE_CODE_B;break;case ie.CODE_STOP:C=!0;break}break}Rs&&(v=v===ie.CODE_CODE_A?ie.CODE_CODE_B:ie.CODE_CODE_A)}const yn=j-L;if(j=a.getNextUnset(j),!a.isRange(j,Math.min(a.getSize(),j+(j-L)/2),!1))throw new $;if(te-=ne*G,te%103!==G)throw new E;const nr=D.length;if(nr===0)throw new $;nr>0&&Z&&(v===ie.CODE_CODE_C?D=D.substring(0,nr-2):D=D.substring(0,nr-1));const wn=(d[1]+d[0])/2,Qe=L+yn/2,Gt=y.length,Nn=new Uint8Array(Gt);for(let Rs=0;Rs<Gt;Rs++)Nn[Rs]=y[Rs];const Os=[new fe(wn,i),new fe(Qe,i)];return new Ce(D,Nn,0,Os,oe.CODE_128,new Date().getTime())}}ie.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],ie.MAX_AVG_VARIANCE=.25,ie.MAX_INDIVIDUAL_VARIANCE=.7,ie.CODE_SHIFT=98,ie.CODE_CODE_C=99,ie.CODE_CODE_B=100,ie.CODE_CODE_A=101,ie.CODE_FNC_1=102,ie.CODE_FNC_2=97,ie.CODE_FNC_3=96,ie.CODE_FNC_4_A=101,ie.CODE_FNC_4_B=100,ie.CODE_START_A=103,ie.CODE_START_B=104,ie.CODE_START_C=105,ie.CODE_STOP=106;class Tt extends At{constructor(i=!1,a=!1){super(),this.usingCheckDigit=i,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,a,l){let u=this.counters;u.fill(0),this.decodeRowResult="";let d=Tt.findAsteriskPattern(a,u),f=a.getNextSet(d[1]),m=a.getSize(),y,v;do{Tt.recordPattern(a,f,u);let U=Tt.toNarrowWidePattern(u);if(U<0)throw new $;y=Tt.patternToChar(U),this.decodeRowResult+=y,v=f;for(let G of u)f+=G;f=a.getNextSet(f)}while(y!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let C=0;for(let U of u)C+=U;let N=f-v-C;if(f!==m&&N*2<C)throw new $;if(this.usingCheckDigit){let U=this.decodeRowResult.length-1,G=0;for(let K=0;K<U;K++)G+=Tt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(K));if(this.decodeRowResult.charAt(U)!==Tt.ALPHABET_STRING.charAt(G%43))throw new E;this.decodeRowResult=this.decodeRowResult.substring(0,U)}if(this.decodeRowResult.length===0)throw new $;let D;this.extendedMode?D=Tt.decodeExtended(this.decodeRowResult):D=this.decodeRowResult;let L=(d[1]+d[0])/2,j=v+C/2;return new Ce(D,null,0,[new fe(L,i),new fe(j,i)],oe.CODE_39,new Date().getTime())}static findAsteriskPattern(i,a){let l=i.getSize(),u=i.getNextSet(0),d=0,f=u,m=!1,y=a.length;for(let v=u;v<l;v++)if(i.get(v)!==m)a[d]++;else{if(d===y-1){if(this.toNarrowWidePattern(a)===Tt.ASTERISK_ENCODING&&i.isRange(Math.max(0,f-Math.floor((v-f)/2)),f,!1))return[f,v];f+=a[0]+a[1],a.copyWithin(0,2,2+d-1),a[d-1]=0,a[d]=0,d--}else d++;a[d]=1,m=!m}throw new $}static toNarrowWidePattern(i){let a=i.length,l=0,u;do{let d=2147483647;for(let y of i)y<d&&y>l&&(d=y);l=d,u=0;let f=0,m=0;for(let y=0;y<a;y++){let v=i[y];v>l&&(m|=1<<a-1-y,u++,f+=v)}if(u===3){for(let y=0;y<a&&u>0;y++){let v=i[y];if(v>l&&(u--,v*2>=f))return-1}return m}}while(u>3);return-1}static patternToChar(i){for(let a=0;a<Tt.CHARACTER_ENCODINGS.length;a++)if(Tt.CHARACTER_ENCODINGS[a]===i)return Tt.ALPHABET_STRING.charAt(a);if(i===Tt.ASTERISK_ENCODING)return"*";throw new $}static decodeExtended(i){let a=i.length,l="";for(let u=0;u<a;u++){let d=i.charAt(u);if(d==="+"||d==="$"||d==="%"||d==="/"){let f=i.charAt(u+1),m="\0";switch(d){case"+":if(f>="A"&&f<="Z")m=String.fromCharCode(f.charCodeAt(0)+32);else throw new B;break;case"$":if(f>="A"&&f<="Z")m=String.fromCharCode(f.charCodeAt(0)-64);else throw new B;break;case"%":if(f>="A"&&f<="E")m=String.fromCharCode(f.charCodeAt(0)-38);else if(f>="F"&&f<="J")m=String.fromCharCode(f.charCodeAt(0)-11);else if(f>="K"&&f<="O")m=String.fromCharCode(f.charCodeAt(0)+16);else if(f>="P"&&f<="T")m=String.fromCharCode(f.charCodeAt(0)+43);else if(f==="U")m="\0";else if(f==="V")m="@";else if(f==="W")m="`";else if(f==="X"||f==="Y"||f==="Z")m="";else throw new B;break;case"/":if(f>="A"&&f<="O")m=String.fromCharCode(f.charCodeAt(0)-32);else if(f==="Z")m=":";else throw new B;break}l+=m,u++}else l+=d}return l}}Tt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Tt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Tt.ASTERISK_ENCODING=148;class qe extends At{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,a,l){let u=this.decodeStart(a),d=this.decodeEnd(a),f=new ge;qe.decodeMiddle(a,u[1],d[0],f);let m=f.toString(),y=null;l!=null&&(y=l.get(H.ALLOWED_LENGTHS)),y==null&&(y=qe.DEFAULT_ALLOWED_LENGTHS);let v=m.length,C=!1,N=0;for(let j of y){if(v===j){C=!0;break}j>N&&(N=j)}if(!C&&v>N&&(C=!0),!C)throw new B;const D=[new fe(u[1],i),new fe(d[0],i)];return new Ce(m,null,0,D,oe.ITF,new Date().getTime())}static decodeMiddle(i,a,l,u){let d=new Int32Array(10),f=new Int32Array(5),m=new Int32Array(5);for(d.fill(0),f.fill(0),m.fill(0);a<l;){At.recordPattern(i,a,d);for(let v=0;v<5;v++){let C=2*v;f[v]=d[C],m[v]=d[C+1]}let y=qe.decodeDigit(f);u.append(y.toString()),y=this.decodeDigit(m),u.append(y.toString()),d.forEach(function(v){a+=v})}}decodeStart(i){let a=qe.skipWhiteSpace(i),l=qe.findGuardPattern(i,a,qe.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(i,l[0]),l}validateQuietZone(i,a){let l=this.narrowLineWidth*10;l=l<a?l:a;for(let u=a-1;l>0&&u>=0&&!i.get(u);u--)l--;if(l!==0)throw new $}static skipWhiteSpace(i){const a=i.getSize(),l=i.getNextSet(0);if(l===a)throw new $;return l}decodeEnd(i){i.reverse();try{let a=qe.skipWhiteSpace(i),l;try{l=qe.findGuardPattern(i,a,qe.END_PATTERN_REVERSED[0])}catch(d){d instanceof $&&(l=qe.findGuardPattern(i,a,qe.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,l[0]);let u=l[0];return l[0]=i.getSize()-l[1],l[1]=i.getSize()-u,l}finally{i.reverse()}}static findGuardPattern(i,a,l){let u=l.length,d=new Int32Array(u),f=i.getSize(),m=!1,y=0,v=a;d.fill(0);for(let C=a;C<f;C++)if(i.get(C)!==m)d[y]++;else{if(y===u-1){if(At.patternMatchVariance(d,l,qe.MAX_INDIVIDUAL_VARIANCE)<qe.MAX_AVG_VARIANCE)return[v,C];v+=d[0]+d[1],S.arraycopy(d,2,d,0,y-1),d[y-1]=0,d[y]=0,y--}else y++;d[y]=1,m=!m}throw new $}static decodeDigit(i){let a=qe.MAX_AVG_VARIANCE,l=-1,u=qe.PATTERNS.length;for(let d=0;d<u;d++){let f=qe.PATTERNS[d],m=At.patternMatchVariance(i,f,qe.MAX_INDIVIDUAL_VARIANCE);m<a?(a=m,l=d):m===a&&(l=-1)}if(l>=0)return l%10;throw new $}}qe.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],qe.MAX_AVG_VARIANCE=.38,qe.MAX_INDIVIDUAL_VARIANCE=.5,qe.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],qe.START_PATTERN=Int32Array.from([1,1,1,1]),qe.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class mt extends At{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let a=!1,l,u=0,d=Int32Array.from([0,0,0]);for(;!a;){d=Int32Array.from([0,0,0]),l=mt.findGuardPattern(i,u,!1,this.START_END_PATTERN,d);let f=l[0];u=l[1];let m=f-(u-f);m>=0&&(a=i.isRange(m,f,!1))}return l}static checkChecksum(i){return mt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let a=i.length;if(a===0)return!1;let l=parseInt(i.charAt(a-1),10);return mt.getStandardUPCEANChecksum(i.substring(0,a-1))===l}static getStandardUPCEANChecksum(i){let a=i.length,l=0;for(let u=a-1;u>=0;u-=2){let d=i.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new B;l+=d}l*=3;for(let u=a-2;u>=0;u-=2){let d=i.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new B;l+=d}return(1e3-l)%10}static decodeEnd(i,a){return mt.findGuardPattern(i,a,!1,mt.START_END_PATTERN,new Int32Array(mt.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,a,l,u){return this.findGuardPattern(i,a,l,u,new Int32Array(u.length))}static findGuardPattern(i,a,l,u,d){let f=i.getSize();a=l?i.getNextUnset(a):i.getNextSet(a);let m=0,y=a,v=u.length,C=l;for(let N=a;N<f;N++)if(i.get(N)!==C)d[m]++;else{if(m===v-1){if(At.patternMatchVariance(d,u,mt.MAX_INDIVIDUAL_VARIANCE)<mt.MAX_AVG_VARIANCE)return Int32Array.from([y,N]);y+=d[0]+d[1];let D=d.slice(2,d.length-1);for(let L=0;L<m-1;L++)d[L]=D[L];d[m-1]=0,d[m]=0,m--}else m++;d[m]=1,C=!C}throw new $}static decodeDigit(i,a,l,u){this.recordPattern(i,l,a);let d=this.MAX_AVG_VARIANCE,f=-1,m=u.length;for(let y=0;y<m;y++){let v=u[y],C=At.patternMatchVariance(a,v,mt.MAX_INDIVIDUAL_VARIANCE);C<d&&(d=C,f=y)}if(f>=0)return f;throw new $}}mt.MAX_AVG_VARIANCE=.48,mt.MAX_INDIVIDUAL_VARIANCE=.7,mt.START_END_PATTERN=Int32Array.from([1,1,1]),mt.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),mt.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),mt.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Lo{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,a,l){let u=this.decodeRowStringBuffer,d=this.decodeMiddle(a,l,u),f=u.toString(),m=Lo.parseExtensionString(f),y=[new fe((l[0]+l[1])/2,i),new fe(d,i)],v=new Ce(f,null,0,y,oe.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&v.putAllMetadata(m),v}decodeMiddle(i,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=i.getSize(),f=a[1],m=0;for(let v=0;v<5&&f<d;v++){let C=mt.decodeDigit(i,u,f,mt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+C%10);for(let N of u)f+=N;C>=10&&(m|=1<<4-v),v!==4&&(f=i.getNextSet(f),f=i.getNextUnset(f))}if(l.length!==5)throw new $;let y=this.determineCheckDigit(m);if(Lo.extensionChecksum(l.toString())!==y)throw new $;return f}static extensionChecksum(i){let a=i.length,l=0;for(let u=a-2;u>=0;u-=2)l+=i.charAt(u).charCodeAt(0)-48;l*=3;for(let u=a-1;u>=0;u-=2)l+=i.charAt(u).charCodeAt(0)-48;return l*=3,l%10}determineCheckDigit(i){for(let a=0;a<10;a++)if(i===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new $}static parseExtensionString(i){if(i.length!==5)return null;let a=Lo.parseExtension5String(i);return a==null?null:new Map([[St.SUGGESTED_PRICE,a]])}static parseExtension5String(i){let a;switch(i.charAt(0)){case"0":a="£";break;case"5":a="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let l=parseInt(i.substring(1)),u=(l/100).toString(),d=l%100,f=d<10?"0"+d:d.toString();return a+u+"."+f}}class Xu{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,a,l){let u=this.decodeRowStringBuffer,d=this.decodeMiddle(a,l,u),f=u.toString(),m=Xu.parseExtensionString(f),y=[new fe((l[0]+l[1])/2,i),new fe(d,i)],v=new Ce(f,null,0,y,oe.UPC_EAN_EXTENSION,new Date().getTime());return m!=null&&v.putAllMetadata(m),v}decodeMiddle(i,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=i.getSize(),f=a[1],m=0;for(let y=0;y<2&&f<d;y++){let v=mt.decodeDigit(i,u,f,mt.L_AND_G_PATTERNS);l+=String.fromCharCode(48+v%10);for(let C of u)f+=C;v>=10&&(m|=1<<1-y),y!==1&&(f=i.getNextSet(f),f=i.getNextUnset(f))}if(l.length!==2)throw new $;if(parseInt(l.toString())%4!==m)throw new $;return f}static parseExtensionString(i){return i.length!==2?null:new Map([[St.ISSUE_NUMBER,parseInt(i)]])}}class K0{static decodeRow(i,a,l){let u=mt.findGuardPattern(a,l,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Lo().decodeRow(i,a,u)}catch{return new Xu().decodeRow(i,a,u)}}}K0.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ve extends mt{constructor(){super(),this.decodeRowStringBuffer="",Ve.L_AND_G_PATTERNS=Ve.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let a=Ve.L_PATTERNS[i-10],l=new Int32Array(a.length);for(let u=0;u<a.length;u++)l[u]=a[a.length-u-1];Ve.L_AND_G_PATTERNS[i]=l}}decodeRow(i,a,l){let u=Ve.findStartGuardPattern(a),d=l==null?null:l.get(H.NEED_RESULT_POINT_CALLBACK);if(d!=null){const Z=new fe((u[0]+u[1])/2,i);d.foundPossibleResultPoint(Z)}let f=this.decodeMiddle(a,u,this.decodeRowStringBuffer),m=f.rowOffset,y=f.resultString;if(d!=null){const Z=new fe(m,i);d.foundPossibleResultPoint(Z)}let v=this.decodeEnd(a,m);if(d!=null){const Z=new fe((v[0]+v[1])/2,i);d.foundPossibleResultPoint(Z)}let C=v[1],N=C+(C-v[0]);if(N>=a.getSize()||!a.isRange(C,N,!1))throw new $;let D=y.toString();if(D.length<8)throw new B;if(!Ve.checkChecksum(D))throw new E;let L=(u[1]+u[0])/2,j=(v[1]+v[0])/2,U=this.getBarcodeFormat(),G=[new fe(L,i),new fe(j,i)],K=new Ce(D,null,0,G,U,new Date().getTime()),te=0;try{let Z=K0.decodeRow(i,a,v[1]);K.putMetadata(St.UPC_EAN_EXTENSION,Z.getText()),K.putAllMetadata(Z.getResultMetadata()),K.addResultPoints(Z.getResultPoints()),te=Z.getText().length}catch{}let ne=l==null?null:l.get(H.ALLOWED_EAN_EXTENSIONS);if(ne!=null){let Z=!1;for(let Re in ne)if(te.toString()===Re){Z=!0;break}if(!Z)throw new $}return K}decodeEnd(i,a){return Ve.findGuardPattern(i,a,!1,Ve.START_END_PATTERN,new Int32Array(Ve.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return Ve.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let a=i.length;if(a===0)return!1;let l=parseInt(i.charAt(a-1),10);return Ve.getStandardUPCEANChecksum(i.substring(0,a-1))===l}static getStandardUPCEANChecksum(i){let a=i.length,l=0;for(let u=a-1;u>=0;u-=2){let d=i.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new B;l+=d}l*=3;for(let u=a-2;u>=0;u-=2){let d=i.charAt(u).charCodeAt(0)-48;if(d<0||d>9)throw new B;l+=d}return(1e3-l)%10}}class ji extends Ve{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,a,l){let u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=i.getSize(),f=a[1],m=0;for(let v=0;v<6&&f<d;v++){let C=Ve.decodeDigit(i,u,f,Ve.L_AND_G_PATTERNS);l+=String.fromCharCode(48+C%10);for(let N of u)f+=N;C>=10&&(m|=1<<5-v)}l=ji.determineFirstDigit(l,m),f=Ve.findGuardPattern(i,f,!0,Ve.MIDDLE_PATTERN,new Int32Array(Ve.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<6&&f<d;v++){let C=Ve.decodeDigit(i,u,f,Ve.L_PATTERNS);l+=String.fromCharCode(48+C);for(let N of u)f+=N}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return oe.EAN_13}static determineFirstDigit(i,a){for(let l=0;l<10;l++)if(a===this.FIRST_DIGIT_ENCODINGS[l])return i=String.fromCharCode(48+l)+i,i;throw new $}}ji.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class q0 extends Ve{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,a,l){const u=this.decodeMiddleCounters;u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=i.getSize(),f=a[1];for(let y=0;y<4&&f<d;y++){let v=Ve.decodeDigit(i,u,f,Ve.L_PATTERNS);l+=String.fromCharCode(48+v);for(let C of u)f+=C}f=Ve.findGuardPattern(i,f,!0,Ve.MIDDLE_PATTERN,new Int32Array(Ve.MIDDLE_PATTERN.length).fill(0))[1];for(let y=0;y<4&&f<d;y++){let v=Ve.decodeDigit(i,u,f,Ve.L_PATTERNS);l+=String.fromCharCode(48+v);for(let C of u)f+=C}return{rowOffset:f,resultString:l}}getBarcodeFormat(){return oe.EAN_8}}class Z0 extends Ve{constructor(){super(...arguments),this.ean13Reader=new ji}getBarcodeFormat(){return oe.UPC_A}decode(i,a){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,a,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,a,l))}decodeMiddle(i,a,l){return this.ean13Reader.decodeMiddle(i,a,l)}maybeReturnResult(i){let a=i.getText();if(a.charAt(0)==="0"){let l=new Ce(a.substring(1),null,null,i.getResultPoints(),oe.UPC_A);return i.getResultMetadata()!=null&&l.putAllMetadata(i.getResultMetadata()),l}else throw new $}reset(){this.ean13Reader.reset()}}class tr extends Ve{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,a,l){const u=this.decodeMiddleCounters.map(v=>v);u[0]=0,u[1]=0,u[2]=0,u[3]=0;const d=i.getSize();let f=a[1],m=0;for(let v=0;v<6&&f<d;v++){const C=tr.decodeDigit(i,u,f,tr.L_AND_G_PATTERNS);l+=String.fromCharCode(48+C%10);for(let N of u)f+=N;C>=10&&(m|=1<<5-v)}let y=tr.determineNumSysAndCheckDigit(l,m);return{rowOffset:f,resultString:y}}decodeEnd(i,a){return tr.findGuardPatternWithoutCounters(i,a,!0,tr.MIDDLE_END_PATTERN)}checkChecksum(i){return Ve.checkChecksum(tr.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,a){for(let l=0;l<=1;l++)for(let u=0;u<10;u++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][u]){let d=String.fromCharCode(48+l),f=String.fromCharCode(48+u);return d+i+f}throw $.getNotFoundInstance()}getBarcodeFormat(){return oe.UPC_E}static convertUPCEtoUPCA(i){const a=i.slice(1,7).split("").map(d=>d.charCodeAt(0)),l=new ge;l.append(i.charAt(0));let u=a[5];switch(u){case 0:case 1:case 2:l.appendChars(a,0,2),l.append(u),l.append("0000"),l.appendChars(a,2,3);break;case 3:l.appendChars(a,0,3),l.append("00000"),l.appendChars(a,3,2);break;case 4:l.appendChars(a,0,4),l.append("00000"),l.append(a[4]);break;default:l.appendChars(a,0,5),l.append("0000"),l.append(u);break}return i.length>=8&&l.append(i.charAt(7)),l.toString()}}tr.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),tr.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class $u extends At{constructor(i){super();let a=i==null?null:i.get(H.POSSIBLE_FORMATS),l=[];r(a)?(l.push(new ji),l.push(new Z0),l.push(new q0),l.push(new tr)):(a.indexOf(oe.EAN_13)>-1&&l.push(new ji),a.indexOf(oe.UPC_A)>-1&&l.push(new Z0),a.indexOf(oe.EAN_8)>-1&&l.push(new q0),a.indexOf(oe.UPC_E)>-1&&l.push(new tr)),this.readers=l}decodeRow(i,a,l){for(let u of this.readers)try{const d=u.decodeRow(i,a,l),f=d.getBarcodeFormat()===oe.EAN_13&&d.getText().charAt(0)==="0",m=l==null?null:l.get(H.POSSIBLE_FORMATS),y=m==null||m.includes(oe.UPC_A);if(f&&y){const v=d.getRawBytes(),C=new Ce(d.getText().substring(1),v,v?v.length:null,d.getResultPoints(),oe.UPC_A);return C.putAllMetadata(d.getResultMetadata()),C}return d}catch{}throw new $}reset(){for(let i of this.readers)i.reset()}}class Zt extends At{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,a){for(let l=0;l<a.length;l++)if(At.patternMatchVariance(i,a[l],Zt.MAX_INDIVIDUAL_VARIANCE)<Zt.MAX_AVG_VARIANCE)return l;throw new $}static count(i){return Le.sum(new Int32Array(i))}static increment(i,a){let l=0,u=a[0];for(let d=1;d<i.length;d++)a[d]>u&&(u=a[d],l=d);i[l]++}static decrement(i,a){let l=0,u=a[0];for(let d=1;d<i.length;d++)a[d]<u&&(u=a[d],l=d);i[l]--}static isFinderPattern(i){let a=i[0]+i[1],l=a+i[2]+i[3],u=a/l;if(u>=Zt.MIN_FINDER_PATTERN_RATIO&&u<=Zt.MAX_FINDER_PATTERN_RATIO){let d=Number.MAX_SAFE_INTEGER,f=Number.MIN_SAFE_INTEGER;for(let m of i)m>f&&(f=m),m<d&&(d=m);return f<10*d}return!1}}Zt.MAX_AVG_VARIANCE=.2,Zt.MAX_INDIVIDUAL_VARIANCE=.45,Zt.MIN_FINDER_PATTERN_RATIO=9.5/12,Zt.MAX_FINDER_PATTERN_RATIO=12.5/14;class Es{constructor(i,a){this.value=i,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof Es))return!1;const a=i;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class bl{constructor(i,a,l,u,d){this.value=i,this.startEnd=a,this.value=i,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new fe(l,d)),this.resultPoints.push(new fe(u,d))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof bl))return!1;const a=i;return this.value===a.value}hashCode(){return this.value}}class fr{constructor(){}static getRSSvalue(i,a,l){let u=0;for(let y of i)u+=y;let d=0,f=0,m=i.length;for(let y=0;y<m-1;y++){let v;for(v=1,f|=1<<y;v<i[y];v++,f&=~(1<<y)){let C=fr.combins(u-v-1,m-y-2);if(l&&f===0&&u-v-(m-y-1)>=m-y-1&&(C-=fr.combins(u-v-(m-y),m-y-2)),m-y-1>1){let N=0;for(let D=u-v-(m-y-2);D>a;D--)N+=fr.combins(u-v-D-1,m-y-3);C-=N*(m-1-y)}else u-v>a&&C--;d+=C}u-=v}return d}static combins(i,a){let l,u;i-a>a?(u=a,l=i-a):(u=i-a,l=a);let d=1,f=1;for(let m=i;m>l;m--)d*=m,f<=u&&(d/=f,f++);for(;f<=u;)d/=f,f++;return d}}class vw{static buildBitArray(i){let a=i.length*2-1;i[i.length-1].getRightChar()==null&&(a-=1);let l=12*a,u=new P(l),d=0,m=i[0].getRightChar().getValue();for(let y=11;y>=0;--y)m&1<<y&&u.set(d),d++;for(let y=1;y<i.length;++y){let v=i[y],C=v.getLeftChar().getValue();for(let N=11;N>=0;--N)C&1<<N&&u.set(d),d++;if(v.getRightChar()!=null){let N=v.getRightChar().getValue();for(let D=11;D>=0;--D)N&1<<D&&u.set(d),d++}}return u}}class Fi{constructor(i,a){a?this.decodedInformation=null:(this.finished=i,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Yu{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class pn extends Yu{constructor(i,a){super(i),this.value=a}getValue(){return this.value}isFNC1(){return this.value===pn.FNC1}}pn.FNC1="$";class Ui extends Yu{constructor(i,a,l){super(i),l?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Un extends Yu{constructor(i,a,l){if(super(i),a<0||a>10||l<0||l>10)throw new B;this.firstDigit=a,this.secondDigit=l}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Un.FNC1}isSecondDigitFNC1(){return this.secondDigit===Un.FNC1}isAnyFNC1(){return this.firstDigit===Un.FNC1||this.secondDigit===Un.FNC1}}Un.FNC1=10;class le{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new $;let a=i.substring(0,2);for(let d of le.TWO_DIGIT_DATA_LENGTH)if(d[0]===a)return d[1]===le.VARIABLE_LENGTH?le.processVariableAI(2,d[2],i):le.processFixedAI(2,d[1],i);if(i.length<3)throw new $;let l=i.substring(0,3);for(let d of le.THREE_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===le.VARIABLE_LENGTH?le.processVariableAI(3,d[2],i):le.processFixedAI(3,d[1],i);for(let d of le.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(d[0]===l)return d[1]===le.VARIABLE_LENGTH?le.processVariableAI(4,d[2],i):le.processFixedAI(4,d[1],i);if(i.length<4)throw new $;let u=i.substring(0,4);for(let d of le.FOUR_DIGIT_DATA_LENGTH)if(d[0]===u)return d[1]===le.VARIABLE_LENGTH?le.processVariableAI(4,d[2],i):le.processFixedAI(4,d[1],i);throw new $}static processFixedAI(i,a,l){if(l.length<i)throw new $;let u=l.substring(0,i);if(l.length<i+a)throw new $;let d=l.substring(i,i+a),f=l.substring(i+a),m="("+u+")"+d,y=le.parseFieldsInGeneralPurpose(f);return y==null?m:m+y}static processVariableAI(i,a,l){let u=l.substring(0,i),d;l.length<i+a?d=l.length:d=i+a;let f=l.substring(i,d),m=l.substring(d),y="("+u+")"+f,v=le.parseFieldsInGeneralPurpose(m);return v==null?y:y+v}}le.VARIABLE_LENGTH=[],le.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",le.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",le.VARIABLE_LENGTH,20],["22",le.VARIABLE_LENGTH,29],["30",le.VARIABLE_LENGTH,8],["37",le.VARIABLE_LENGTH,8],["90",le.VARIABLE_LENGTH,30],["91",le.VARIABLE_LENGTH,30],["92",le.VARIABLE_LENGTH,30],["93",le.VARIABLE_LENGTH,30],["94",le.VARIABLE_LENGTH,30],["95",le.VARIABLE_LENGTH,30],["96",le.VARIABLE_LENGTH,30],["97",le.VARIABLE_LENGTH,3],["98",le.VARIABLE_LENGTH,30],["99",le.VARIABLE_LENGTH,30]],le.THREE_DIGIT_DATA_LENGTH=[["240",le.VARIABLE_LENGTH,30],["241",le.VARIABLE_LENGTH,30],["242",le.VARIABLE_LENGTH,6],["250",le.VARIABLE_LENGTH,30],["251",le.VARIABLE_LENGTH,30],["253",le.VARIABLE_LENGTH,17],["254",le.VARIABLE_LENGTH,20],["400",le.VARIABLE_LENGTH,30],["401",le.VARIABLE_LENGTH,30],["402",17],["403",le.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",le.VARIABLE_LENGTH,20],["421",le.VARIABLE_LENGTH,15],["422",3],["423",le.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],le.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",le.VARIABLE_LENGTH,15],["391",le.VARIABLE_LENGTH,18],["392",le.VARIABLE_LENGTH,15],["393",le.VARIABLE_LENGTH,18],["703",le.VARIABLE_LENGTH,30]],le.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",le.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",le.VARIABLE_LENGTH,20],["8003",le.VARIABLE_LENGTH,30],["8004",le.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",le.VARIABLE_LENGTH,30],["8008",le.VARIABLE_LENGTH,12],["8018",18],["8020",le.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",le.VARIABLE_LENGTH,70],["8200",le.VARIABLE_LENGTH,70]];class Ss{constructor(i){this.buffer=new ge,this.information=i}decodeAllCodes(i,a){let l=a,u=null;do{let d=this.decodeGeneralPurposeField(l,u),f=le.parseFieldsInGeneralPurpose(d.getNewString());if(f!=null&&i.append(f),d.isRemaining()?u=""+d.getRemainingValue():u=null,l===d.getNewPosition())break;l=d.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let a=i;a<i+3;++a)if(this.information.get(a))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let d=this.extractNumericValueFromBitArray(i,4);return d===0?new Un(this.information.getSize(),Un.FNC1,Un.FNC1):new Un(this.information.getSize(),d-1,Un.FNC1)}let a=this.extractNumericValueFromBitArray(i,7),l=(a-8)/11,u=(a-8)%11;return new Un(i+7,l,u)}extractNumericValueFromBitArray(i,a){return Ss.extractNumericValueFromBitArray(this.information,i,a)}static extractNumericValueFromBitArray(i,a,l){let u=0;for(let d=0;d<l;++d)i.get(a+d)&&(u|=1<<l-d-1);return u}decodeGeneralPurposeField(i,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(i);let l=this.parseBlocks();return l!=null&&l.isRemaining()?new Ui(this.current.getPosition(),this.buffer.toString(),l.getRemainingValue()):new Ui(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,a;do{let l=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),i=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),i=a.isFinished()):(a=this.parseNumericBlock(),i=a.isFinished()),!(l!==this.current.getPosition())&&!i)break}while(!i);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let a;return i.isSecondDigitFNC1()?a=new Ui(this.current.getPosition(),this.buffer.toString()):a=new Ui(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new Fi(!0,a)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let a=new Ui(this.current.getPosition(),this.buffer.toString());return new Fi(!0,a)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Fi(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let a=new Ui(this.current.getPosition(),this.buffer.toString());return new Fi(!0,a)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Fi(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let a=new Ui(this.current.getPosition(),this.buffer.toString());return new Fi(!0,a)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Fi(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,5);if(a>=5&&a<16)return!0;if(i+7>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<116)return!0;if(i+8>this.information.getSize())return!1;let u=this.extractNumericValueFromBitArray(i,8);return u>=232&&u<253}decodeIsoIec646(i){let a=this.extractNumericValueFromBitArray(i,5);if(a===15)return new pn(i+5,pn.FNC1);if(a>=5&&a<15)return new pn(i+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(i,7);if(l>=64&&l<90)return new pn(i+7,""+(l+1));if(l>=90&&l<116)return new pn(i+7,""+(l+7));let u=this.extractNumericValueFromBitArray(i,8),d;switch(u){case 232:d="!";break;case 233:d='"';break;case 234:d="%";break;case 235:d="&";break;case 236:d="'";break;case 237:d="(";break;case 238:d=")";break;case 239:d="*";break;case 240:d="+";break;case 241:d=",";break;case 242:d="-";break;case 243:d=".";break;case 244:d="/";break;case 245:d=":";break;case 246:d=";";break;case 247:d="<";break;case 248:d="=";break;case 249:d=">";break;case 250:d="?";break;case 251:d="_";break;case 252:d=" ";break;default:throw new B}return new pn(i+8,d)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,5);if(a>=5&&a<16)return!0;if(i+6>this.information.getSize())return!1;let l=this.extractNumericValueFromBitArray(i,6);return l>=16&&l<63}decodeAlphanumeric(i){let a=this.extractNumericValueFromBitArray(i,5);if(a===15)return new pn(i+5,pn.FNC1);if(a>=5&&a<15)return new pn(i+5,"0"+(a-5));let l=this.extractNumericValueFromBitArray(i,6);if(l>=32&&l<58)return new pn(i+6,""+(l+33));let u;switch(l){case 58:u="*";break;case 59:u=",";break;case 60:u="-";break;case 61:u=".";break;case 62:u="/";break;default:throw new hr("Decoding invalid alphanumeric value: "+l)}return new pn(i+6,u)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let a=0;a<5&&a+i<this.information.getSize();++a)if(a===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+a))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let a=i;a<i+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let a=0;a<4&&a+i<this.information.getSize();++a)if(this.information.get(i+a))return!1;return!0}}class Ku{constructor(i){this.information=i,this.generalDecoder=new Ss(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class mn extends Ku{constructor(i){super(i)}encodeCompressedGtin(i,a){i.append("(01)");let l=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,a,l)}encodeCompressedGtinWithoutAI(i,a,l){for(let u=0;u<4;++u){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*u,10);d/100===0&&i.append("0"),d/10===0&&i.append("0"),i.append(d)}mn.appendCheckDigit(i,l)}static appendCheckDigit(i,a){let l=0;for(let u=0;u<13;u++){let d=i.charAt(u+a).charCodeAt(0)-48;l+=u&1?d:3*d}l=10-l%10,l===10&&(l=0),i.append(l)}}mn.GTIN_SIZE=40;class As extends mn{constructor(i){super(i)}parseInformation(){let i=new ge;i.append("(01)");let a=i.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(As.HEADER_SIZE,4);return i.append(l),this.encodeCompressedGtinWithoutAI(i,As.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(i,As.HEADER_SIZE+44)}}As.HEADER_SIZE=4;class _l extends Ku{constructor(i){super(i)}parseInformation(){let i=new ge;return this.getGeneralDecoder().decodeAllCodes(i,_l.HEADER_SIZE)}}_l.HEADER_SIZE=5;class Cl extends mn{constructor(i){super(i)}encodeCompressedWeight(i,a,l){let u=this.getGeneralDecoder().extractNumericValueFromBitArray(a,l);this.addWeightCode(i,u);let d=this.checkWeight(u),f=1e5;for(let m=0;m<5;++m)d/f===0&&i.append("0"),f/=10;i.append(d)}}class gr extends Cl{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=gr.HEADER_SIZE+Cl.GTIN_SIZE+gr.WEIGHT_SIZE)throw new $;let i=new ge;return this.encodeCompressedGtin(i,gr.HEADER_SIZE),this.encodeCompressedWeight(i,gr.HEADER_SIZE+Cl.GTIN_SIZE,gr.WEIGHT_SIZE),i.toString()}}gr.HEADER_SIZE=5,gr.WEIGHT_SIZE=15;class bw extends gr{constructor(i){super(i)}addWeightCode(i,a){i.append("(3103)")}checkWeight(i){return i}}class _w extends gr{constructor(i){super(i)}addWeightCode(i,a){a<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class pr extends mn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<pr.HEADER_SIZE+mn.GTIN_SIZE)throw new $;let i=new ge;this.encodeCompressedGtin(i,pr.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(pr.HEADER_SIZE+mn.GTIN_SIZE,pr.LAST_DIGIT_SIZE);i.append("(392"),i.append(a),i.append(")");let l=this.getGeneralDecoder().decodeGeneralPurposeField(pr.HEADER_SIZE+mn.GTIN_SIZE+pr.LAST_DIGIT_SIZE,null);return i.append(l.getNewString()),i.toString()}}pr.HEADER_SIZE=8,pr.LAST_DIGIT_SIZE=2;class an extends mn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<an.HEADER_SIZE+mn.GTIN_SIZE)throw new $;let i=new ge;this.encodeCompressedGtin(i,an.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(an.HEADER_SIZE+mn.GTIN_SIZE,an.LAST_DIGIT_SIZE);i.append("(393"),i.append(a),i.append(")");let l=this.getGeneralDecoder().extractNumericValueFromBitArray(an.HEADER_SIZE+mn.GTIN_SIZE+an.LAST_DIGIT_SIZE,an.FIRST_THREE_DIGITS_SIZE);l/100==0&&i.append("0"),l/10==0&&i.append("0"),i.append(l);let u=this.getGeneralDecoder().decodeGeneralPurposeField(an.HEADER_SIZE+mn.GTIN_SIZE+an.LAST_DIGIT_SIZE+an.FIRST_THREE_DIGITS_SIZE,null);return i.append(u.getNewString()),i.toString()}}an.HEADER_SIZE=8,an.LAST_DIGIT_SIZE=2,an.FIRST_THREE_DIGITS_SIZE=10;class ut extends Cl{constructor(i,a,l){super(i),this.dateCode=l,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=ut.HEADER_SIZE+ut.GTIN_SIZE+ut.WEIGHT_SIZE+ut.DATE_SIZE)throw new $;let i=new ge;return this.encodeCompressedGtin(i,ut.HEADER_SIZE),this.encodeCompressedWeight(i,ut.HEADER_SIZE+ut.GTIN_SIZE,ut.WEIGHT_SIZE),this.encodeCompressedDate(i,ut.HEADER_SIZE+ut.GTIN_SIZE+ut.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,a){let l=this.getGeneralDecoder().extractNumericValueFromBitArray(a,ut.DATE_SIZE);if(l==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let u=l%32;l/=32;let d=l%12+1;l/=12;let f=l;f/10==0&&i.append("0"),i.append(f),d/10==0&&i.append("0"),i.append(d),u/10==0&&i.append("0"),i.append(u)}addWeightCode(i,a){i.append("("),i.append(this.firstAIdigits),i.append(a/1e5),i.append(")")}checkWeight(i){return i%1e5}}ut.HEADER_SIZE=8,ut.WEIGHT_SIZE=20,ut.DATE_SIZE=16;function Q0(T){try{if(T.get(1))return new As(T);if(!T.get(2))return new _l(T);switch(Ss.extractNumericValueFromBitArray(T,1,4)){case 4:return new bw(T);case 5:return new _w(T)}switch(Ss.extractNumericValueFromBitArray(T,1,5)){case 12:return new pr(T);case 13:return new an(T)}switch(Ss.extractNumericValueFromBitArray(T,1,7)){case 56:return new ut(T,"310","11");case 57:return new ut(T,"320","11");case 58:return new ut(T,"310","13");case 59:return new ut(T,"320","13");case 60:return new ut(T,"310","15");case 61:return new ut(T,"320","15");case 62:return new ut(T,"310","17");case 63:return new ut(T,"320","17")}}catch(i){throw console.log(i),new hr("unknown decoder: "+T)}}class qr{constructor(i,a,l,u){this.leftchar=i,this.rightchar=a,this.finderpattern=l,this.maybeLast=u}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,a){return i instanceof qr?qr.equalsOrNull(i.leftchar,a.leftchar)&&qr.equalsOrNull(i.rightchar,a.rightchar)&&qr.equalsOrNull(i.finderpattern,a.finderpattern):!1}static equalsOrNull(i,a){return i===null?a===null:qr.equals(i,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class qu{constructor(i,a,l){this.pairs=i,this.rowNumber=a,this.wasReversed=l}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,a){return i instanceof qu?this.checkEqualitity(i,a)&&i.wasReversed===a.wasReversed:!1}checkEqualitity(i,a){if(!i||!a)return;let l;return i.forEach((u,d)=>{a.forEach(f=>{u.getLeftChar().getValue()===f.getLeftChar().getValue()&&u.getRightChar().getValue()===f.getRightChar().getValue()&&u.getFinderPatter().getValue()===f.getFinderPatter().getValue()&&(l=!0)})}),l}}class q extends Zt{constructor(i){super(...arguments),this.pairs=new Array(q.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,a,l){this.pairs.length=0,this.startFromEven=!1;try{return q.constructResult(this.decodeRow2pairs(i,a))}catch(u){this.verbose&&console.log(u)}return this.pairs.length=0,this.startFromEven=!0,q.constructResult(this.decodeRow2pairs(i,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,a){let l=!1;for(;!l;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,i))}catch(d){if(d instanceof $){if(!this.pairs.length)throw new $;l=!0}}if(this.checkChecksum())return this.pairs;let u;if(this.rows.length?u=!0:u=!1,this.storeRow(i,!1),u){let d=this.checkRowsBoolean(!1);if(d!=null||(d=this.checkRowsBoolean(!0),d!=null))return d}throw new $}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(l){this.verbose&&console.log(l)}return i&&(this.rows=this.rows.reverse()),a}checkRows(i,a){for(let l=a;l<this.rows.length;l++){let u=this.rows[l];this.pairs.length=0;for(let f of i)this.pairs.push(f.getPairs());if(this.pairs.push(u.getPairs()),!q.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let d=new Array(i);d.push(u);try{return this.checkRows(d,l+1)}catch(f){this.verbose&&console.log(f)}}throw new $}static isValidSequence(i){for(let a of q.FINDER_PATTERN_SEQUENCES){if(i.length>a.length)continue;let l=!0;for(let u=0;u<i.length;u++)if(i[u].getFinderPattern().getValue()!=a[u]){l=!1;break}if(l)return!0}return!1}storeRow(i,a){let l=0,u=!1,d=!1;for(;l<this.rows.length;){let f=this.rows[l];if(f.getRowNumber()>i){d=f.isEquivalent(this.pairs);break}u=f.isEquivalent(this.pairs),l++}d||u||q.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new qu(this.pairs,i,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,a){for(let l of a)if(l.getPairs().length!==i.length){for(let u of l.getPairs())for(let d of i)if(qr.equals(u,d))break}}static isPartialRow(i,a){for(let l of a){let u=!0;for(let d of i){let f=!1;for(let m of l.getPairs())if(d.equals(m)){f=!0;break}if(!f){u=!1;break}}if(u)return!0}return!1}getRows(){return this.rows}static constructResult(i){let a=vw.buildBitArray(i),u=Q0(a).parseInformation(),d=i[0].getFinderPattern().getResultPoints(),f=i[i.length-1].getFinderPattern().getResultPoints(),m=[d[0],d[1],f[0],f[1]];return new Ce(u,null,null,m,oe.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),a=i.getLeftChar(),l=i.getRightChar();if(l==null)return!1;let u=l.getChecksumPortion(),d=2;for(let m=1;m<this.pairs.size();++m){let y=this.pairs.get(m);u+=y.getLeftChar().getChecksumPortion(),d++;let v=y.getRightChar();v!=null&&(u+=v.getChecksumPortion(),d++)}return u%=211,211*(d-4)+u==a.getValue()}static getNextSecondBar(i,a){let l;return i.get(a)?(l=i.getNextUnset(a),l=i.getNextSet(l)):(l=i.getNextSet(a),l=i.getNextUnset(l)),l}retrieveNextPair(i,a,l){let u=a.length%2==0;this.startFromEven&&(u=!u);let d,f=!0,m=-1;do this.findNextPair(i,a,m),d=this.parseFoundFinderPattern(i,l,u),d==null?m=q.getNextSecondBar(i,this.startEnd[0]):f=!1;while(f);let y=this.decodeDataCharacter(i,d,u,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new $;let v;try{v=this.decodeDataCharacter(i,d,u,!1)}catch(C){v=null,this.verbose&&console.log(C)}return new qr(y,v,d,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,a,l){let u=this.getDecodeFinderCounters();u[0]=0,u[1]=0,u[2]=0,u[3]=0;let d=i.getSize(),f;l>=0?f=l:this.isEmptyPair(a)?f=0:f=a[a.length-1].getFinderPattern().getStartEnd()[1];let m=a.length%2!=0;this.startFromEven&&(m=!m);let y=!1;for(;f<d&&(y=!i.get(f),!!y);)f++;let v=0,C=f;for(let N=f;N<d;N++)if(i.get(N)!=y)u[v]++;else{if(v==3){if(m&&q.reverseCounters(u),q.isFinderPattern(u)){this.startEnd[0]=C,this.startEnd[1]=N;return}m&&q.reverseCounters(u),C+=u[0]+u[1],u[0]=u[2],u[1]=u[3],u[2]=0,u[3]=0,v--}else v++;u[v]=1,y=!y}throw new $}static reverseCounters(i){let a=i.length;for(let l=0;l<a/2;++l){let u=i[l];i[l]=i[a-l-1],i[a-l-1]=u}}parseFoundFinderPattern(i,a,l){let u,d,f;if(l){let v=this.startEnd[0]-1;for(;v>=0&&!i.get(v);)v--;v++,u=this.startEnd[0]-v,d=v,f=this.startEnd[1]}else d=this.startEnd[0],f=i.getNextUnset(this.startEnd[1]+1),u=f-this.startEnd[1];let m=this.getDecodeFinderCounters();S.arraycopy(m,0,m,1,m.length-1),m[0]=u;let y;try{y=this.parseFinderValue(m,q.FINDER_PATTERNS)}catch{return null}return new bl(y,[d,f],d,f,a)}decodeDataCharacter(i,a,l,u){let d=this.getDataCharacterCounters();for(let Qe=0;Qe<d.length;Qe++)d[Qe]=0;if(u)q.recordPatternInReverse(i,a.getStartEnd()[0],d);else{q.recordPattern(i,a.getStartEnd()[1],d);for(let Qe=0,Gt=d.length-1;Qe<Gt;Qe++,Gt--){let Nn=d[Qe];d[Qe]=d[Gt],d[Gt]=Nn}}let f=17,m=Le.sum(new Int32Array(d))/f,y=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(m-y)/y>.3)throw new $;let v=this.getOddCounts(),C=this.getEvenCounts(),N=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let Qe=0;Qe<d.length;Qe++){let Gt=1*d[Qe]/m,Nn=Gt+.5;if(Nn<1){if(Gt<.3)throw new $;Nn=1}else if(Nn>8){if(Gt>8.7)throw new $;Nn=8}let Os=Qe/2;Qe&1?(C[Os]=Nn,D[Os]=Gt-Nn):(v[Os]=Nn,N[Os]=Gt-Nn)}this.adjustOddEvenCounts(f);let L=4*a.getValue()+(l?0:2)+(u?0:1)-1,j=0,U=0;for(let Qe=v.length-1;Qe>=0;Qe--){if(q.isNotA1left(a,l,u)){let Gt=q.WEIGHTS[L][2*Qe];U+=v[Qe]*Gt}j+=v[Qe]}let G=0;for(let Qe=C.length-1;Qe>=0;Qe--)if(q.isNotA1left(a,l,u)){let Gt=q.WEIGHTS[L][2*Qe+1];G+=C[Qe]*Gt}let K=U+G;if(j&1||j>13||j<4)throw new $;let te=(13-j)/2,ne=q.SYMBOL_WIDEST[te],Z=9-ne,Re=fr.getRSSvalue(v,ne,!0),Ee=fr.getRSSvalue(C,Z,!1),yn=q.EVEN_TOTAL_SUBSET[te],nr=q.GSUM[te],wn=Re*yn+Ee+nr;return new Es(wn,K)}static isNotA1left(i,a,l){return!(i.getValue()==0&&a&&l)}adjustOddEvenCounts(i){let a=Le.sum(new Int32Array(this.getOddCounts())),l=Le.sum(new Int32Array(this.getEvenCounts())),u=!1,d=!1;a>13?d=!0:a<4&&(u=!0);let f=!1,m=!1;l>13?m=!0:l<4&&(f=!0);let y=a+l-i,v=(a&1)==1,C=(l&1)==0;if(y==1)if(v){if(C)throw new $;d=!0}else{if(!C)throw new $;m=!0}else if(y==-1)if(v){if(C)throw new $;u=!0}else{if(!C)throw new $;f=!0}else if(y==0){if(v){if(!C)throw new $;a<l?(u=!0,m=!0):(d=!0,f=!0)}else if(C)throw new $}else throw new $;if(u){if(d)throw new $;q.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(d&&q.decrement(this.getOddCounts(),this.getOddRoundingErrors()),f){if(m)throw new $;q.increment(this.getEvenCounts(),this.getOddRoundingErrors())}m&&q.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}q.SYMBOL_WIDEST=[7,5,4,3,1],q.EVEN_TOTAL_SUBSET=[4,20,52,104,204],q.GSUM=[0,348,1388,2948,3988],q.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],q.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],q.FINDER_PAT_A=0,q.FINDER_PAT_B=1,q.FINDER_PAT_C=2,q.FINDER_PAT_D=3,q.FINDER_PAT_E=4,q.FINDER_PAT_F=5,q.FINDER_PATTERN_SEQUENCES=[[q.FINDER_PAT_A,q.FINDER_PAT_A],[q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B],[q.FINDER_PAT_A,q.FINDER_PAT_C,q.FINDER_PAT_B,q.FINDER_PAT_D],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_C],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_D,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_E,q.FINDER_PAT_B,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_D],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_E],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F],[q.FINDER_PAT_A,q.FINDER_PAT_A,q.FINDER_PAT_B,q.FINDER_PAT_B,q.FINDER_PAT_C,q.FINDER_PAT_D,q.FINDER_PAT_D,q.FINDER_PAT_E,q.FINDER_PAT_E,q.FINDER_PAT_F,q.FINDER_PAT_F]],q.MAX_PAIRS=11;class Cw extends Es{constructor(i,a,l){super(i,a),this.count=0,this.finderPattern=l}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class xt extends Zt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,a,l){const u=this.decodePair(a,!1,i,l);xt.addOrTally(this.possibleLeftPairs,u),a.reverse();let d=this.decodePair(a,!0,i,l);xt.addOrTally(this.possibleRightPairs,d),a.reverse();for(let f of this.possibleLeftPairs)if(f.getCount()>1){for(let m of this.possibleRightPairs)if(m.getCount()>1&&xt.checkChecksum(f,m))return xt.constructResult(f,m)}throw new $}static addOrTally(i,a){if(a==null)return;let l=!1;for(let u of i)if(u.getValue()===a.getValue()){u.incrementCount(),l=!0;break}l||i.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,a){let l=4537077*i.getValue()+a.getValue(),u=new String(l).toString(),d=new ge;for(let v=13-u.length;v>0;v--)d.append("0");d.append(u);let f=0;for(let v=0;v<13;v++){let C=d.charAt(v).charCodeAt(0)-48;f+=v&1?C:3*C}f=10-f%10,f===10&&(f=0),d.append(f.toString());let m=i.getFinderPattern().getResultPoints(),y=a.getFinderPattern().getResultPoints();return new Ce(d.toString(),null,0,[m[0],m[1],y[0],y[1]],oe.RSS_14,new Date().getTime())}static checkChecksum(i,a){let l=(i.getChecksumPortion()+16*a.getChecksumPortion())%79,u=9*i.getFinderPattern().getValue()+a.getFinderPattern().getValue();return u>72&&u--,u>8&&u--,l===u}decodePair(i,a,l,u){try{let d=this.findFinderPattern(i,a),f=this.parseFoundFinderPattern(i,l,a,d),m=u==null?null:u.get(H.NEED_RESULT_POINT_CALLBACK);if(m!=null){let C=(d[0]+d[1])/2;a&&(C=i.getSize()-1-C),m.foundPossibleResultPoint(new fe(C,l))}let y=this.decodeDataCharacter(i,f,!0),v=this.decodeDataCharacter(i,f,!1);return new Cw(1597*y.getValue()+v.getValue(),y.getChecksumPortion()+4*v.getChecksumPortion(),f)}catch{return null}}decodeDataCharacter(i,a,l){let u=this.getDataCharacterCounters();for(let G=0;G<u.length;G++)u[G]=0;if(l)At.recordPatternInReverse(i,a.getStartEnd()[0],u);else{At.recordPattern(i,a.getStartEnd()[1]+1,u);for(let G=0,K=u.length-1;G<K;G++,K--){let te=u[G];u[G]=u[K],u[K]=te}}let d=l?16:15,f=Le.sum(new Int32Array(u))/d,m=this.getOddCounts(),y=this.getEvenCounts(),v=this.getOddRoundingErrors(),C=this.getEvenRoundingErrors();for(let G=0;G<u.length;G++){let K=u[G]/f,te=Math.floor(K+.5);te<1?te=1:te>8&&(te=8);let ne=Math.floor(G/2);G&1?(y[ne]=te,C[ne]=K-te):(m[ne]=te,v[ne]=K-te)}this.adjustOddEvenCounts(l,d);let N=0,D=0;for(let G=m.length-1;G>=0;G--)D*=9,D+=m[G],N+=m[G];let L=0,j=0;for(let G=y.length-1;G>=0;G--)L*=9,L+=y[G],j+=y[G];let U=D+3*L;if(l){if(N&1||N>12||N<4)throw new $;let G=(12-N)/2,K=xt.OUTSIDE_ODD_WIDEST[G],te=9-K,ne=fr.getRSSvalue(m,K,!1),Z=fr.getRSSvalue(y,te,!0),Re=xt.OUTSIDE_EVEN_TOTAL_SUBSET[G],Ee=xt.OUTSIDE_GSUM[G];return new Es(ne*Re+Z+Ee,U)}else{if(j&1||j>10||j<4)throw new $;let G=(10-j)/2,K=xt.INSIDE_ODD_WIDEST[G],te=9-K,ne=fr.getRSSvalue(m,K,!0),Z=fr.getRSSvalue(y,te,!1),Re=xt.INSIDE_ODD_TOTAL_SUBSET[G],Ee=xt.INSIDE_GSUM[G];return new Es(Z*Re+ne+Ee,U)}}findFinderPattern(i,a){let l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;let u=i.getSize(),d=!1,f=0;for(;f<u&&(d=!i.get(f),a!==d);)f++;let m=0,y=f;for(let v=f;v<u;v++)if(i.get(v)!==d)l[m]++;else{if(m===3){if(Zt.isFinderPattern(l))return[y,v];y+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,m--}else m++;l[m]=1,d=!d}throw new $}parseFoundFinderPattern(i,a,l,u){let d=i.get(u[0]),f=u[0]-1;for(;f>=0&&d!==i.get(f);)f--;f++;const m=u[0]-f,y=this.getDecodeFinderCounters(),v=new Int32Array(y.length);S.arraycopy(y,0,v,1,y.length-1),v[0]=m;const C=this.parseFinderValue(v,xt.FINDER_PATTERNS);let N=f,D=u[1];return l&&(N=i.getSize()-1-N,D=i.getSize()-1-D),new bl(C,[f,u[1]],N,D,a)}adjustOddEvenCounts(i,a){let l=Le.sum(new Int32Array(this.getOddCounts())),u=Le.sum(new Int32Array(this.getEvenCounts())),d=!1,f=!1,m=!1,y=!1;i?(l>12?f=!0:l<4&&(d=!0),u>12?y=!0:u<4&&(m=!0)):(l>11?f=!0:l<5&&(d=!0),u>10?y=!0:u<4&&(m=!0));let v=l+u-a,C=(l&1)===(i?1:0),N=(u&1)===1;if(v===1)if(C){if(N)throw new $;f=!0}else{if(!N)throw new $;y=!0}else if(v===-1)if(C){if(N)throw new $;d=!0}else{if(!N)throw new $;m=!0}else if(v===0){if(C){if(!N)throw new $;l<u?(d=!0,y=!0):(f=!0,m=!0)}else if(N)throw new $}else throw new $;if(d){if(f)throw new $;Zt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&Zt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),m){if(y)throw new $;Zt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&Zt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}xt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],xt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],xt.OUTSIDE_GSUM=[0,161,961,2015,2715],xt.INSIDE_GSUM=[0,336,1036,1516],xt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],xt.INSIDE_ODD_WIDEST=[2,4,6,8],xt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Is extends At{constructor(i,a){super(),this.readers=[],this.verbose=a===!0;const l=i?i.get(H.POSSIBLE_FORMATS):null,u=i&&i.get(H.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;l?((l.includes(oe.EAN_13)||l.includes(oe.UPC_A)||l.includes(oe.EAN_8)||l.includes(oe.UPC_E))&&this.readers.push(new $u(i)),l.includes(oe.CODE_39)&&this.readers.push(new Tt(u)),l.includes(oe.CODE_128)&&this.readers.push(new ie),l.includes(oe.ITF)&&this.readers.push(new qe),l.includes(oe.RSS_14)&&this.readers.push(new xt),l.includes(oe.RSS_EXPANDED)&&this.readers.push(new q(this.verbose))):(this.readers.push(new $u(i)),this.readers.push(new Tt),this.readers.push(new $u(i)),this.readers.push(new ie),this.readers.push(new qe),this.readers.push(new xt),this.readers.push(new q(this.verbose)))}decodeRow(i,a,l){for(let u=0;u<this.readers.length;u++)try{return this.readers[u].decodeRow(i,a,l)}catch{}throw new $}reset(){this.readers.forEach(i=>i.reset())}}class Ew extends Ue{constructor(i=500,a){super(new Is(a),i,a)}}class We{constructor(i,a,l){this.ecCodewords=i,this.ecBlocks=[a],l&&this.ecBlocks.push(l)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class He{constructor(i,a){this.count=i,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class De{constructor(i,a,l,u,d,f){this.versionNumber=i,this.symbolSizeRows=a,this.symbolSizeColumns=l,this.dataRegionSizeRows=u,this.dataRegionSizeColumns=d,this.ecBlocks=f;let m=0;const y=f.getECCodewords(),v=f.getECBlocks();for(let C of v)m+=C.getCount()*(C.getDataCodewords()+y);this.totalCodewords=m}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,a){if(i&1||a&1)throw new B;for(let l of De.VERSIONS)if(l.symbolSizeRows===i&&l.symbolSizeColumns===a)return l;throw new B}toString(){return""+this.versionNumber}static buildVersions(){return[new De(1,10,10,8,8,new We(5,new He(1,3))),new De(2,12,12,10,10,new We(7,new He(1,5))),new De(3,14,14,12,12,new We(10,new He(1,8))),new De(4,16,16,14,14,new We(12,new He(1,12))),new De(5,18,18,16,16,new We(14,new He(1,18))),new De(6,20,20,18,18,new We(18,new He(1,22))),new De(7,22,22,20,20,new We(20,new He(1,30))),new De(8,24,24,22,22,new We(24,new He(1,36))),new De(9,26,26,24,24,new We(28,new He(1,44))),new De(10,32,32,14,14,new We(36,new He(1,62))),new De(11,36,36,16,16,new We(42,new He(1,86))),new De(12,40,40,18,18,new We(48,new He(1,114))),new De(13,44,44,20,20,new We(56,new He(1,144))),new De(14,48,48,22,22,new We(68,new He(1,174))),new De(15,52,52,24,24,new We(42,new He(2,102))),new De(16,64,64,14,14,new We(56,new He(2,140))),new De(17,72,72,16,16,new We(36,new He(4,92))),new De(18,80,80,18,18,new We(48,new He(4,114))),new De(19,88,88,20,20,new We(56,new He(4,144))),new De(20,96,96,22,22,new We(68,new He(4,174))),new De(21,104,104,24,24,new We(56,new He(6,136))),new De(22,120,120,18,18,new We(68,new He(6,175))),new De(23,132,132,20,20,new We(62,new He(8,163))),new De(24,144,144,22,22,new We(62,new He(8,156),new He(2,155))),new De(25,8,18,6,16,new We(7,new He(1,5))),new De(26,8,32,6,14,new We(11,new He(1,10))),new De(27,12,26,10,24,new We(14,new He(1,16))),new De(28,12,36,10,16,new We(18,new He(1,22))),new De(29,16,36,14,16,new We(24,new He(1,32))),new De(30,16,48,14,22,new We(28,new He(1,49)))]}}De.VERSIONS=De.buildVersions();class Zu{constructor(i){const a=i.getHeight();if(a<8||a>144||a&1)throw new B;this.version=Zu.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new Se(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const a=i.getHeight(),l=i.getWidth();return De.getVersionForDimensions(a,l)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let a=0,l=4,u=0;const d=this.mappingBitMatrix.getHeight(),f=this.mappingBitMatrix.getWidth();let m=!1,y=!1,v=!1,C=!1;do if(l===d&&u===0&&!m)i[a++]=this.readCorner1(d,f)&255,l-=2,u+=2,m=!0;else if(l===d-2&&u===0&&f&3&&!y)i[a++]=this.readCorner2(d,f)&255,l-=2,u+=2,y=!0;else if(l===d+4&&u===2&&!(f&7)&&!v)i[a++]=this.readCorner3(d,f)&255,l-=2,u+=2,v=!0;else if(l===d-2&&u===0&&(f&7)===4&&!C)i[a++]=this.readCorner4(d,f)&255,l-=2,u+=2,C=!0;else{do l<d&&u>=0&&!this.readMappingMatrix.get(u,l)&&(i[a++]=this.readUtah(l,u,d,f)&255),l-=2,u+=2;while(l>=0&&u<f);l+=1,u+=3;do l>=0&&u<f&&!this.readMappingMatrix.get(u,l)&&(i[a++]=this.readUtah(l,u,d,f)&255),l+=2,u-=2;while(l<d&&u>=0);l+=3,u+=1}while(l<d||u<f);if(a!==this.version.getTotalCodewords())throw new B;return i}readModule(i,a,l,u){return i<0&&(i+=l,a+=4-(l+4&7)),a<0&&(a+=u,i+=4-(u+4&7)),this.readMappingMatrix.set(a,i),this.mappingBitMatrix.get(a,i)}readUtah(i,a,l,u){let d=0;return this.readModule(i-2,a-2,l,u)&&(d|=1),d<<=1,this.readModule(i-2,a-1,l,u)&&(d|=1),d<<=1,this.readModule(i-1,a-2,l,u)&&(d|=1),d<<=1,this.readModule(i-1,a-1,l,u)&&(d|=1),d<<=1,this.readModule(i-1,a,l,u)&&(d|=1),d<<=1,this.readModule(i,a-2,l,u)&&(d|=1),d<<=1,this.readModule(i,a-1,l,u)&&(d|=1),d<<=1,this.readModule(i,a,l,u)&&(d|=1),d}readCorner1(i,a){let l=0;return this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,1,i,a)&&(l|=1),l<<=1,this.readModule(i-1,2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l<<=1,this.readModule(2,a-1,i,a)&&(l|=1),l<<=1,this.readModule(3,a-1,i,a)&&(l|=1),l}readCorner2(i,a){let l=0;return this.readModule(i-3,0,i,a)&&(l|=1),l<<=1,this.readModule(i-2,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(0,a-4,i,a)&&(l|=1),l<<=1,this.readModule(0,a-3,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l}readCorner3(i,a){let l=0;return this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,a-1,i,a)&&(l|=1),l<<=1,this.readModule(0,a-3,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-3,i,a)&&(l|=1),l<<=1,this.readModule(1,a-2,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l}readCorner4(i,a){let l=0;return this.readModule(i-3,0,i,a)&&(l|=1),l<<=1,this.readModule(i-2,0,i,a)&&(l|=1),l<<=1,this.readModule(i-1,0,i,a)&&(l|=1),l<<=1,this.readModule(0,a-2,i,a)&&(l|=1),l<<=1,this.readModule(0,a-1,i,a)&&(l|=1),l<<=1,this.readModule(1,a-1,i,a)&&(l|=1),l<<=1,this.readModule(2,a-1,i,a)&&(l|=1),l<<=1,this.readModule(3,a-1,i,a)&&(l|=1),l}extractDataRegion(i){const a=this.version.getSymbolSizeRows(),l=this.version.getSymbolSizeColumns();if(i.getHeight()!==a)throw new w("Dimension of bitMatrix must match the version size");const u=this.version.getDataRegionSizeRows(),d=this.version.getDataRegionSizeColumns(),f=a/u|0,m=l/d|0,y=f*u,v=m*d,C=new Se(v,y);for(let N=0;N<f;++N){const D=N*u;for(let L=0;L<m;++L){const j=L*d;for(let U=0;U<u;++U){const G=N*(u+2)+1+U,K=D+U;for(let te=0;te<d;++te){const ne=L*(d+2)+1+te;if(i.get(ne,G)){const Z=j+te;C.set(Z,K)}}}}}return C}}class Qu{constructor(i,a){this.numDataCodewords=i,this.codewords=a}static getDataBlocks(i,a){const l=a.getECBlocks();let u=0;const d=l.getECBlocks();for(let U of d)u+=U.getCount();const f=new Array(u);let m=0;for(let U of d)for(let G=0;G<U.getCount();G++){const K=U.getDataCodewords(),te=l.getECCodewords()+K;f[m++]=new Qu(K,new Uint8Array(te))}const v=f[0].codewords.length-l.getECCodewords(),C=v-1;let N=0;for(let U=0;U<C;U++)for(let G=0;G<m;G++)f[G].codewords[U]=i[N++];const D=a.getVersionNumber()===24,L=D?8:m;for(let U=0;U<L;U++)f[U].codewords[v-1]=i[N++];const j=f[0].codewords.length;for(let U=v;U<j;U++)for(let G=0;G<m;G++){const K=D?(G+8)%m:G,te=D&&K>7?U-1:U;f[K].codewords[te]=i[N++]}if(N!==i.length)throw new w;return f}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ju{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new w(""+i);let a=0,l=this.bitOffset,u=this.byteOffset;const d=this.bytes;if(l>0){const f=8-l,m=i<f?i:f,y=f-m,v=255>>8-m<<y;a=(d[u]&v)>>y,i-=m,l+=m,l===8&&(l=0,u++)}if(i>0){for(;i>=8;)a=a<<8|d[u]&255,u++,i-=8;if(i>0){const f=8-i,m=255>>f<<f;a=a<<i|(d[u]&m)>>f,l+=i}}return this.bitOffset=l,this.byteOffset=u,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Nt;(function(T){T[T.PAD_ENCODE=0]="PAD_ENCODE",T[T.ASCII_ENCODE=1]="ASCII_ENCODE",T[T.C40_ENCODE=2]="C40_ENCODE",T[T.TEXT_ENCODE=3]="TEXT_ENCODE",T[T.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",T[T.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",T[T.BASE256_ENCODE=6]="BASE256_ENCODE"})(Nt||(Nt={}));class Zr{static decode(i){const a=new Ju(i),l=new ge,u=new ge,d=new Array;let f=Nt.ASCII_ENCODE;do if(f===Nt.ASCII_ENCODE)f=this.decodeAsciiSegment(a,l,u);else{switch(f){case Nt.C40_ENCODE:this.decodeC40Segment(a,l);break;case Nt.TEXT_ENCODE:this.decodeTextSegment(a,l);break;case Nt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,l);break;case Nt.EDIFACT_ENCODE:this.decodeEdifactSegment(a,l);break;case Nt.BASE256_ENCODE:this.decodeBase256Segment(a,l,d);break;default:throw new B}f=Nt.ASCII_ENCODE}while(f!==Nt.PAD_ENCODE&&a.available()>0);return u.length()>0&&l.append(u.toString()),new Do(i,l.toString(),d.length===0?null:d,null)}static decodeAsciiSegment(i,a,l){let u=!1;do{let d=i.readBits(8);if(d===0)throw new B;if(d<=128)return u&&(d+=128),a.append(String.fromCharCode(d-1)),Nt.ASCII_ENCODE;if(d===129)return Nt.PAD_ENCODE;if(d<=229){const f=d-130;f<10&&a.append("0"),a.append(""+f)}else switch(d){case 230:return Nt.C40_ENCODE;case 231:return Nt.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:u=!0;break;case 236:a.append("[)>05"),l.insert(0,"");break;case 237:a.append("[)>06"),l.insert(0,"");break;case 238:return Nt.ANSIX12_ENCODE;case 239:return Nt.TEXT_ENCODE;case 240:return Nt.EDIFACT_ENCODE;case 241:break;default:if(d!==254||i.available()!==0)throw new B;break}}while(i.available()>0);return Nt.ASCII_ENCODE}static decodeC40Segment(i,a){let l=!1;const u=[];let d=0;do{if(i.available()===8)return;const f=i.readBits(8);if(f===254)return;this.parseTwoBytes(f,i.readBits(8),u);for(let m=0;m<3;m++){const y=u[m];switch(d){case 0:if(y<3)d=y+1;else if(y<this.C40_BASIC_SET_CHARS.length){const v=this.C40_BASIC_SET_CHARS[y];l?(a.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):a.append(v)}else throw new B;break;case 1:l?(a.append(String.fromCharCode(y+128)),l=!1):a.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.C40_SHIFT2_SET_CHARS.length){const v=this.C40_SHIFT2_SET_CHARS[y];l?(a.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):a.append(v)}else switch(y){case 27:a.append("");break;case 30:l=!0;break;default:throw new B}d=0;break;case 3:l?(a.append(String.fromCharCode(y+224)),l=!1):a.append(String.fromCharCode(y+96)),d=0;break;default:throw new B}}}while(i.available()>0)}static decodeTextSegment(i,a){let l=!1,u=[],d=0;do{if(i.available()===8)return;const f=i.readBits(8);if(f===254)return;this.parseTwoBytes(f,i.readBits(8),u);for(let m=0;m<3;m++){const y=u[m];switch(d){case 0:if(y<3)d=y+1;else if(y<this.TEXT_BASIC_SET_CHARS.length){const v=this.TEXT_BASIC_SET_CHARS[y];l?(a.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):a.append(v)}else throw new B;break;case 1:l?(a.append(String.fromCharCode(y+128)),l=!1):a.append(String.fromCharCode(y)),d=0;break;case 2:if(y<this.TEXT_SHIFT2_SET_CHARS.length){const v=this.TEXT_SHIFT2_SET_CHARS[y];l?(a.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):a.append(v)}else switch(y){case 27:a.append("");break;case 30:l=!0;break;default:throw new B}d=0;break;case 3:if(y<this.TEXT_SHIFT3_SET_CHARS.length){const v=this.TEXT_SHIFT3_SET_CHARS[y];l?(a.append(String.fromCharCode(v.charCodeAt(0)+128)),l=!1):a.append(v),d=0}else throw new B;break;default:throw new B}}}while(i.available()>0)}static decodeAnsiX12Segment(i,a){const l=[];do{if(i.available()===8)return;const u=i.readBits(8);if(u===254)return;this.parseTwoBytes(u,i.readBits(8),l);for(let d=0;d<3;d++){const f=l[d];switch(f){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(f<14)a.append(String.fromCharCode(f+44));else if(f<40)a.append(String.fromCharCode(f+51));else throw new B;break}}}while(i.available()>0)}static parseTwoBytes(i,a,l){let u=(i<<8)+a-1,d=Math.floor(u/1600);l[0]=d,u-=d*1600,d=Math.floor(u/40),l[1]=d,l[2]=u-d*40}static decodeEdifactSegment(i,a){do{if(i.available()<=16)return;for(let l=0;l<4;l++){let u=i.readBits(6);if(u===31){const d=8-i.getBitOffset();d!==8&&i.readBits(d);return}u&32||(u|=64),a.append(String.fromCharCode(u))}}while(i.available()>0)}static decodeBase256Segment(i,a,l){let u=1+i.getByteOffset();const d=this.unrandomize255State(i.readBits(8),u++);let f;if(d===0?f=i.available()/8|0:d<250?f=d:f=250*(d-249)+this.unrandomize255State(i.readBits(8),u++),f<0)throw new B;const m=new Uint8Array(f);for(let y=0;y<f;y++){if(i.available()<8)throw new B;m[y]=this.unrandomize255State(i.readBits(8),u++)}l.push(m);try{a.append(se.decode(m,Q.ISO88591))}catch(y){throw new hr("Platform does not support required encoding: "+y.message)}}static unrandomize255State(i,a){const l=149*a%255+1,u=i-l;return u>=0?u:u+256}}Zr.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Zr.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Zr.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Zr.TEXT_SHIFT2_SET_CHARS=Zr.C40_SHIFT2_SET_CHARS,Zr.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class Sw{constructor(){this.rsDecoder=new Po(ze.DATA_MATRIX_FIELD_256)}decode(i){const a=new Zu(i),l=a.getVersion(),u=a.readCodewords(),d=Qu.getDataBlocks(u,l);let f=0;for(let v of d)f+=v.getNumDataCodewords();const m=new Uint8Array(f),y=d.length;for(let v=0;v<y;v++){const C=d[v],N=C.getCodewords(),D=C.getNumDataCodewords();this.correctErrors(N,D);for(let L=0;L<D;L++)m[L*y+v]=N[L]}return Zr.decode(m)}correctErrors(i,a){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-a)}catch{throw new E}for(let u=0;u<a;u++)i[u]=l[u]}}class bt{constructor(i){this.image=i,this.rectangleDetector=new Or(this.image)}detect(){const i=this.rectangleDetector.detect();let a=this.detectSolid1(i);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new $;a=this.shiftToModuleCenter(a);const l=a[0],u=a[1],d=a[2],f=a[3];let m=this.transitionsBetween(l,f)+1,y=this.transitionsBetween(d,f)+1;(m&1)===1&&(m+=1),(y&1)===1&&(y+=1),4*m<7*y&&4*y<7*m&&(m=y=Math.max(m,y));let v=bt.sampleGrid(this.image,l,u,d,f,m,y);return new wl(v,[l,u,d,f])}static shiftPoint(i,a,l){let u=(a.getX()-i.getX())/(l+1),d=(a.getY()-i.getY())/(l+1);return new fe(i.getX()+u,i.getY()+d)}static moveAway(i,a,l){let u=i.getX(),d=i.getY();return u<a?u-=1:u+=1,d<l?d-=1:d+=1,new fe(u,d)}detectSolid1(i){let a=i[0],l=i[1],u=i[3],d=i[2],f=this.transitionsBetween(a,l),m=this.transitionsBetween(l,u),y=this.transitionsBetween(u,d),v=this.transitionsBetween(d,a),C=f,N=[d,a,l,u];return C>m&&(C=m,N[0]=a,N[1]=l,N[2]=u,N[3]=d),C>y&&(C=y,N[0]=l,N[1]=u,N[2]=d,N[3]=a),C>v&&(N[0]=u,N[1]=d,N[2]=a,N[3]=l),N}detectSolid2(i){let a=i[0],l=i[1],u=i[2],d=i[3],f=this.transitionsBetween(a,d),m=bt.shiftPoint(l,u,(f+1)*4),y=bt.shiftPoint(u,l,(f+1)*4),v=this.transitionsBetween(m,a),C=this.transitionsBetween(y,d);return v<C?(i[0]=a,i[1]=l,i[2]=u,i[3]=d):(i[0]=l,i[1]=u,i[2]=d,i[3]=a),i}correctTopRight(i){let a=i[0],l=i[1],u=i[2],d=i[3],f=this.transitionsBetween(a,d),m=this.transitionsBetween(l,d),y=bt.shiftPoint(a,l,(m+1)*4),v=bt.shiftPoint(u,l,(f+1)*4);f=this.transitionsBetween(y,d),m=this.transitionsBetween(v,d);let C=new fe(d.getX()+(u.getX()-l.getX())/(f+1),d.getY()+(u.getY()-l.getY())/(f+1)),N=new fe(d.getX()+(a.getX()-l.getX())/(m+1),d.getY()+(a.getY()-l.getY())/(m+1));if(!this.isValid(C))return this.isValid(N)?N:null;if(!this.isValid(N))return C;let D=this.transitionsBetween(y,C)+this.transitionsBetween(v,C),L=this.transitionsBetween(y,N)+this.transitionsBetween(v,N);return D>L?C:N}shiftToModuleCenter(i){let a=i[0],l=i[1],u=i[2],d=i[3],f=this.transitionsBetween(a,d)+1,m=this.transitionsBetween(u,d)+1,y=bt.shiftPoint(a,l,m*4),v=bt.shiftPoint(u,l,f*4);f=this.transitionsBetween(y,d)+1,m=this.transitionsBetween(v,d)+1,(f&1)===1&&(f+=1),(m&1)===1&&(m+=1);let C=(a.getX()+l.getX()+u.getX()+d.getX())/4,N=(a.getY()+l.getY()+u.getY()+d.getY())/4;a=bt.moveAway(a,C,N),l=bt.moveAway(l,C,N),u=bt.moveAway(u,C,N),d=bt.moveAway(d,C,N);let D,L;return y=bt.shiftPoint(a,l,m*4),y=bt.shiftPoint(y,d,f*4),D=bt.shiftPoint(l,a,m*4),D=bt.shiftPoint(D,u,f*4),v=bt.shiftPoint(u,d,m*4),v=bt.shiftPoint(v,l,f*4),L=bt.shiftPoint(d,u,m*4),L=bt.shiftPoint(L,a,f*4),[y,D,v,L]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,a,l,u,d,f,m){return Kr.getInstance().sampleGrid(i,f,m,.5,.5,f-.5,.5,f-.5,m-.5,.5,m-.5,a.getX(),a.getY(),d.getX(),d.getY(),u.getX(),u.getY(),l.getX(),l.getY())}transitionsBetween(i,a){let l=Math.trunc(i.getX()),u=Math.trunc(i.getY()),d=Math.trunc(a.getX()),f=Math.trunc(a.getY()),m=Math.abs(f-u)>Math.abs(d-l);if(m){let U=l;l=u,u=U,U=d,d=f,f=U}let y=Math.abs(d-l),v=Math.abs(f-u),C=-y/2,N=u<f?1:-1,D=l<d?1:-1,L=0,j=this.image.get(m?u:l,m?l:u);for(let U=l,G=u;U!==d;U+=D){let K=this.image.get(m?G:U,m?U:G);if(K!==j&&(L++,j=K),C+=v,C>0){if(G===f)break;G+=N,C-=y}}return L}}class Qr{constructor(){this.decoder=new Sw}decode(i,a=null){let l,u;if(a!=null&&a.has(H.PURE_BARCODE)){const v=Qr.extractPureBits(i.getBlackMatrix());l=this.decoder.decode(v),u=Qr.NO_POINTS}else{const v=new bt(i.getBlackMatrix()).detect();l=this.decoder.decode(v.getBits()),u=v.getPoints()}const d=l.getRawBytes(),f=new Ce(l.getText(),d,8*d.length,u,oe.DATA_MATRIX,S.currentTimeMillis()),m=l.getByteSegments();m!=null&&f.putMetadata(St.BYTE_SEGMENTS,m);const y=l.getECLevel();return y!=null&&f.putMetadata(St.ERROR_CORRECTION_LEVEL,y),f}reset(){}static extractPureBits(i){const a=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(a==null||l==null)throw new $;const u=this.moduleSize(a,i);let d=a[1];const f=l[1];let m=a[0];const v=(l[0]-m+1)/u,C=(f-d+1)/u;if(v<=0||C<=0)throw new $;const N=u/2;d+=N,m+=N;const D=new Se(v,C);for(let L=0;L<C;L++){const j=d+L*u;for(let U=0;U<v;U++)i.get(m+U*u,j)&&D.set(U,L)}return D}static moduleSize(i,a){const l=a.getWidth();let u=i[0];const d=i[1];for(;u<l&&a.get(u,d);)u++;if(u===l)throw new $;const f=u-i[0];if(f===0)throw new $;return f}}Qr.NO_POINTS=[];class Aw extends Ue{constructor(i=500){super(new Qr,i)}}var Ts;(function(T){T[T.L=0]="L",T[T.M=1]="M",T[T.Q=2]="Q",T[T.H=3]="H"})(Ts||(Ts={}));class et{constructor(i,a,l){this.value=i,this.stringValue=a,this.bits=l,et.FOR_BITS.set(l,this),et.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return et.L;case"M":return et.M;case"Q":return et.Q;case"H":return et.H;default:throw new x(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof et))return!1;const a=i;return this.value===a.value}static forBits(i){if(i<0||i>=et.FOR_BITS.size)throw new w;return et.FOR_BITS.get(i)}}et.FOR_BITS=new Map,et.FOR_VALUE=new Map,et.L=new et(Ts.L,"L",1),et.M=new et(Ts.M,"M",0),et.Q=new et(Ts.Q,"Q",3),et.H=new et(Ts.H,"H",2);class Qt{constructor(i){this.errorCorrectionLevel=et.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,a){return k.bitCount(i^a)}static decodeFormatInformation(i,a){const l=Qt.doDecodeFormatInformation(i,a);return l!==null?l:Qt.doDecodeFormatInformation(i^Qt.FORMAT_INFO_MASK_QR,a^Qt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,a){let l=Number.MAX_SAFE_INTEGER,u=0;for(const d of Qt.FORMAT_INFO_DECODE_LOOKUP){const f=d[0];if(f===i||f===a)return new Qt(d[1]);let m=Qt.numBitsDiffering(i,f);m<l&&(u=d[1],l=m),i!==a&&(m=Qt.numBitsDiffering(a,f),m<l&&(u=d[1],l=m))}return l<=3?new Qt(u):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof Qt))return!1;const a=i;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}Qt.FORMAT_INFO_MASK_QR=21522,Qt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class X{constructor(i,...a){this.ecCodewordsPerBlock=i,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const a=this.ecBlocks;for(const l of a)i+=l.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class M{constructor(i,a){this.count=i,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class pe{constructor(i,a,...l){this.versionNumber=i,this.alignmentPatternCenters=a,this.ecBlocks=l;let u=0;const d=l[0].getECCodewordsPerBlock(),f=l[0].getECBlocks();for(const m of f)u+=m.getCount()*(m.getDataCodewords()+d);this.totalCodewords=u}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new B;try{return this.getVersionForNumber((i-17)/4)}catch{throw new B}}static getVersionForNumber(i){if(i<1||i>40)throw new w;return pe.VERSIONS[i-1]}static decodeVersionInformation(i){let a=Number.MAX_SAFE_INTEGER,l=0;for(let u=0;u<pe.VERSION_DECODE_INFO.length;u++){const d=pe.VERSION_DECODE_INFO[u];if(d===i)return pe.getVersionForNumber(u+7);const f=Qt.numBitsDiffering(i,d);f<a&&(l=u+7,a=f)}return a<=3?pe.getVersionForNumber(l):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),a=new Se(i);a.setRegion(0,0,9,9),a.setRegion(i-8,0,8,9),a.setRegion(0,i-8,9,8);const l=this.alignmentPatternCenters.length;for(let u=0;u<l;u++){const d=this.alignmentPatternCenters[u]-2;for(let f=0;f<l;f++)u===0&&(f===0||f===l-1)||u===l-1&&f===0||a.setRegion(this.alignmentPatternCenters[f]-2,d,5,5)}return a.setRegion(6,9,1,i-17),a.setRegion(9,6,i-17,1),this.versionNumber>6&&(a.setRegion(i-11,0,3,6),a.setRegion(0,i-11,6,3)),a}toString(){return""+this.versionNumber}}pe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),pe.VERSIONS=[new pe(1,new Int32Array(0),new X(7,new M(1,19)),new X(10,new M(1,16)),new X(13,new M(1,13)),new X(17,new M(1,9))),new pe(2,Int32Array.from([6,18]),new X(10,new M(1,34)),new X(16,new M(1,28)),new X(22,new M(1,22)),new X(28,new M(1,16))),new pe(3,Int32Array.from([6,22]),new X(15,new M(1,55)),new X(26,new M(1,44)),new X(18,new M(2,17)),new X(22,new M(2,13))),new pe(4,Int32Array.from([6,26]),new X(20,new M(1,80)),new X(18,new M(2,32)),new X(26,new M(2,24)),new X(16,new M(4,9))),new pe(5,Int32Array.from([6,30]),new X(26,new M(1,108)),new X(24,new M(2,43)),new X(18,new M(2,15),new M(2,16)),new X(22,new M(2,11),new M(2,12))),new pe(6,Int32Array.from([6,34]),new X(18,new M(2,68)),new X(16,new M(4,27)),new X(24,new M(4,19)),new X(28,new M(4,15))),new pe(7,Int32Array.from([6,22,38]),new X(20,new M(2,78)),new X(18,new M(4,31)),new X(18,new M(2,14),new M(4,15)),new X(26,new M(4,13),new M(1,14))),new pe(8,Int32Array.from([6,24,42]),new X(24,new M(2,97)),new X(22,new M(2,38),new M(2,39)),new X(22,new M(4,18),new M(2,19)),new X(26,new M(4,14),new M(2,15))),new pe(9,Int32Array.from([6,26,46]),new X(30,new M(2,116)),new X(22,new M(3,36),new M(2,37)),new X(20,new M(4,16),new M(4,17)),new X(24,new M(4,12),new M(4,13))),new pe(10,Int32Array.from([6,28,50]),new X(18,new M(2,68),new M(2,69)),new X(26,new M(4,43),new M(1,44)),new X(24,new M(6,19),new M(2,20)),new X(28,new M(6,15),new M(2,16))),new pe(11,Int32Array.from([6,30,54]),new X(20,new M(4,81)),new X(30,new M(1,50),new M(4,51)),new X(28,new M(4,22),new M(4,23)),new X(24,new M(3,12),new M(8,13))),new pe(12,Int32Array.from([6,32,58]),new X(24,new M(2,92),new M(2,93)),new X(22,new M(6,36),new M(2,37)),new X(26,new M(4,20),new M(6,21)),new X(28,new M(7,14),new M(4,15))),new pe(13,Int32Array.from([6,34,62]),new X(26,new M(4,107)),new X(22,new M(8,37),new M(1,38)),new X(24,new M(8,20),new M(4,21)),new X(22,new M(12,11),new M(4,12))),new pe(14,Int32Array.from([6,26,46,66]),new X(30,new M(3,115),new M(1,116)),new X(24,new M(4,40),new M(5,41)),new X(20,new M(11,16),new M(5,17)),new X(24,new M(11,12),new M(5,13))),new pe(15,Int32Array.from([6,26,48,70]),new X(22,new M(5,87),new M(1,88)),new X(24,new M(5,41),new M(5,42)),new X(30,new M(5,24),new M(7,25)),new X(24,new M(11,12),new M(7,13))),new pe(16,Int32Array.from([6,26,50,74]),new X(24,new M(5,98),new M(1,99)),new X(28,new M(7,45),new M(3,46)),new X(24,new M(15,19),new M(2,20)),new X(30,new M(3,15),new M(13,16))),new pe(17,Int32Array.from([6,30,54,78]),new X(28,new M(1,107),new M(5,108)),new X(28,new M(10,46),new M(1,47)),new X(28,new M(1,22),new M(15,23)),new X(28,new M(2,14),new M(17,15))),new pe(18,Int32Array.from([6,30,56,82]),new X(30,new M(5,120),new M(1,121)),new X(26,new M(9,43),new M(4,44)),new X(28,new M(17,22),new M(1,23)),new X(28,new M(2,14),new M(19,15))),new pe(19,Int32Array.from([6,30,58,86]),new X(28,new M(3,113),new M(4,114)),new X(26,new M(3,44),new M(11,45)),new X(26,new M(17,21),new M(4,22)),new X(26,new M(9,13),new M(16,14))),new pe(20,Int32Array.from([6,34,62,90]),new X(28,new M(3,107),new M(5,108)),new X(26,new M(3,41),new M(13,42)),new X(30,new M(15,24),new M(5,25)),new X(28,new M(15,15),new M(10,16))),new pe(21,Int32Array.from([6,28,50,72,94]),new X(28,new M(4,116),new M(4,117)),new X(26,new M(17,42)),new X(28,new M(17,22),new M(6,23)),new X(30,new M(19,16),new M(6,17))),new pe(22,Int32Array.from([6,26,50,74,98]),new X(28,new M(2,111),new M(7,112)),new X(28,new M(17,46)),new X(30,new M(7,24),new M(16,25)),new X(24,new M(34,13))),new pe(23,Int32Array.from([6,30,54,78,102]),new X(30,new M(4,121),new M(5,122)),new X(28,new M(4,47),new M(14,48)),new X(30,new M(11,24),new M(14,25)),new X(30,new M(16,15),new M(14,16))),new pe(24,Int32Array.from([6,28,54,80,106]),new X(30,new M(6,117),new M(4,118)),new X(28,new M(6,45),new M(14,46)),new X(30,new M(11,24),new M(16,25)),new X(30,new M(30,16),new M(2,17))),new pe(25,Int32Array.from([6,32,58,84,110]),new X(26,new M(8,106),new M(4,107)),new X(28,new M(8,47),new M(13,48)),new X(30,new M(7,24),new M(22,25)),new X(30,new M(22,15),new M(13,16))),new pe(26,Int32Array.from([6,30,58,86,114]),new X(28,new M(10,114),new M(2,115)),new X(28,new M(19,46),new M(4,47)),new X(28,new M(28,22),new M(6,23)),new X(30,new M(33,16),new M(4,17))),new pe(27,Int32Array.from([6,34,62,90,118]),new X(30,new M(8,122),new M(4,123)),new X(28,new M(22,45),new M(3,46)),new X(30,new M(8,23),new M(26,24)),new X(30,new M(12,15),new M(28,16))),new pe(28,Int32Array.from([6,26,50,74,98,122]),new X(30,new M(3,117),new M(10,118)),new X(28,new M(3,45),new M(23,46)),new X(30,new M(4,24),new M(31,25)),new X(30,new M(11,15),new M(31,16))),new pe(29,Int32Array.from([6,30,54,78,102,126]),new X(30,new M(7,116),new M(7,117)),new X(28,new M(21,45),new M(7,46)),new X(30,new M(1,23),new M(37,24)),new X(30,new M(19,15),new M(26,16))),new pe(30,Int32Array.from([6,26,52,78,104,130]),new X(30,new M(5,115),new M(10,116)),new X(28,new M(19,47),new M(10,48)),new X(30,new M(15,24),new M(25,25)),new X(30,new M(23,15),new M(25,16))),new pe(31,Int32Array.from([6,30,56,82,108,134]),new X(30,new M(13,115),new M(3,116)),new X(28,new M(2,46),new M(29,47)),new X(30,new M(42,24),new M(1,25)),new X(30,new M(23,15),new M(28,16))),new pe(32,Int32Array.from([6,34,60,86,112,138]),new X(30,new M(17,115)),new X(28,new M(10,46),new M(23,47)),new X(30,new M(10,24),new M(35,25)),new X(30,new M(19,15),new M(35,16))),new pe(33,Int32Array.from([6,30,58,86,114,142]),new X(30,new M(17,115),new M(1,116)),new X(28,new M(14,46),new M(21,47)),new X(30,new M(29,24),new M(19,25)),new X(30,new M(11,15),new M(46,16))),new pe(34,Int32Array.from([6,34,62,90,118,146]),new X(30,new M(13,115),new M(6,116)),new X(28,new M(14,46),new M(23,47)),new X(30,new M(44,24),new M(7,25)),new X(30,new M(59,16),new M(1,17))),new pe(35,Int32Array.from([6,30,54,78,102,126,150]),new X(30,new M(12,121),new M(7,122)),new X(28,new M(12,47),new M(26,48)),new X(30,new M(39,24),new M(14,25)),new X(30,new M(22,15),new M(41,16))),new pe(36,Int32Array.from([6,24,50,76,102,128,154]),new X(30,new M(6,121),new M(14,122)),new X(28,new M(6,47),new M(34,48)),new X(30,new M(46,24),new M(10,25)),new X(30,new M(2,15),new M(64,16))),new pe(37,Int32Array.from([6,28,54,80,106,132,158]),new X(30,new M(17,122),new M(4,123)),new X(28,new M(29,46),new M(14,47)),new X(30,new M(49,24),new M(10,25)),new X(30,new M(24,15),new M(46,16))),new pe(38,Int32Array.from([6,32,58,84,110,136,162]),new X(30,new M(4,122),new M(18,123)),new X(28,new M(13,46),new M(32,47)),new X(30,new M(48,24),new M(14,25)),new X(30,new M(42,15),new M(32,16))),new pe(39,Int32Array.from([6,26,54,82,110,138,166]),new X(30,new M(20,117),new M(4,118)),new X(28,new M(40,47),new M(7,48)),new X(30,new M(43,24),new M(22,25)),new X(30,new M(10,15),new M(67,16))),new pe(40,Int32Array.from([6,30,58,86,114,142,170]),new X(30,new M(19,118),new M(6,119)),new X(28,new M(18,47),new M(31,48)),new X(30,new M(34,24),new M(34,25)),new X(30,new M(20,15),new M(61,16)))];var Mt;(function(T){T[T.DATA_MASK_000=0]="DATA_MASK_000",T[T.DATA_MASK_001=1]="DATA_MASK_001",T[T.DATA_MASK_010=2]="DATA_MASK_010",T[T.DATA_MASK_011=3]="DATA_MASK_011",T[T.DATA_MASK_100=4]="DATA_MASK_100",T[T.DATA_MASK_101=5]="DATA_MASK_101",T[T.DATA_MASK_110=6]="DATA_MASK_110",T[T.DATA_MASK_111=7]="DATA_MASK_111"})(Mt||(Mt={}));class zn{constructor(i,a){this.value=i,this.isMasked=a}unmaskBitMatrix(i,a){for(let l=0;l<a;l++)for(let u=0;u<a;u++)this.isMasked(l,u)&&i.flip(u,l)}}zn.values=new Map([[Mt.DATA_MASK_000,new zn(Mt.DATA_MASK_000,(T,i)=>(T+i&1)===0)],[Mt.DATA_MASK_001,new zn(Mt.DATA_MASK_001,(T,i)=>(T&1)===0)],[Mt.DATA_MASK_010,new zn(Mt.DATA_MASK_010,(T,i)=>i%3===0)],[Mt.DATA_MASK_011,new zn(Mt.DATA_MASK_011,(T,i)=>(T+i)%3===0)],[Mt.DATA_MASK_100,new zn(Mt.DATA_MASK_100,(T,i)=>(Math.floor(T/2)+Math.floor(i/3)&1)===0)],[Mt.DATA_MASK_101,new zn(Mt.DATA_MASK_101,(T,i)=>T*i%6===0)],[Mt.DATA_MASK_110,new zn(Mt.DATA_MASK_110,(T,i)=>T*i%6<3)],[Mt.DATA_MASK_111,new zn(Mt.DATA_MASK_111,(T,i)=>(T+i+T*i%3&1)===0)]]);class Iw{constructor(i){const a=i.getHeight();if(a<21||(a&3)!==1)throw new B;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let d=0;d<6;d++)i=this.copyBit(d,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let d=5;d>=0;d--)i=this.copyBit(8,d,i);const a=this.bitMatrix.getHeight();let l=0;const u=a-7;for(let d=a-1;d>=u;d--)l=this.copyBit(8,d,l);for(let d=a-8;d<a;d++)l=this.copyBit(d,8,l);if(this.parsedFormatInfo=Qt.decodeFormatInformation(i,l),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new B}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),a=Math.floor((i-17)/4);if(a<=6)return pe.getVersionForNumber(a);let l=0;const u=i-11;for(let f=5;f>=0;f--)for(let m=i-9;m>=u;m--)l=this.copyBit(m,f,l);let d=pe.decodeVersionInformation(l);if(d!==null&&d.getDimensionForVersion()===i)return this.parsedVersion=d,d;l=0;for(let f=5;f>=0;f--)for(let m=i-9;m>=u;m--)l=this.copyBit(f,m,l);if(d=pe.decodeVersionInformation(l),d!==null&&d.getDimensionForVersion()===i)return this.parsedVersion=d,d;throw new B}copyBit(i,a,l){return(this.isMirror?this.bitMatrix.get(a,i):this.bitMatrix.get(i,a))?l<<1|1:l<<1}readCodewords(){const i=this.readFormatInformation(),a=this.readVersion(),l=zn.values.get(i.getDataMask()),u=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,u);const d=a.buildFunctionPattern();let f=!0;const m=new Uint8Array(a.getTotalCodewords());let y=0,v=0,C=0;for(let N=u-1;N>0;N-=2){N===6&&N--;for(let D=0;D<u;D++){const L=f?u-1-D:D;for(let j=0;j<2;j++)d.get(N-j,L)||(C++,v<<=1,this.bitMatrix.get(N-j,L)&&(v|=1),C===8&&(m[y++]=v,C=0,v=0))}f=!f}if(y!==a.getTotalCodewords())throw new B;return m}remask(){if(this.parsedFormatInfo===null)return;const i=zn.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,a)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let a=0,l=i.getWidth();a<l;a++)for(let u=a+1,d=i.getHeight();u<d;u++)i.get(a,u)!==i.get(u,a)&&(i.flip(u,a),i.flip(a,u))}}class ed{constructor(i,a){this.numDataCodewords=i,this.codewords=a}static getDataBlocks(i,a,l){if(i.length!==a.getTotalCodewords())throw new w;const u=a.getECBlocksForLevel(l);let d=0;const f=u.getECBlocks();for(const j of f)d+=j.getCount();const m=new Array(d);let y=0;for(const j of f)for(let U=0;U<j.getCount();U++){const G=j.getDataCodewords(),K=u.getECCodewordsPerBlock()+G;m[y++]=new ed(G,new Uint8Array(K))}const v=m[0].codewords.length;let C=m.length-1;for(;C>=0&&m[C].codewords.length!==v;)C--;C++;const N=v-u.getECCodewordsPerBlock();let D=0;for(let j=0;j<N;j++)for(let U=0;U<y;U++)m[U].codewords[j]=i[D++];for(let j=C;j<y;j++)m[j].codewords[N]=i[D++];const L=m[0].codewords.length;for(let j=N;j<L;j++)for(let U=0;U<y;U++){const G=U<C?j:j+1;m[U].codewords[G]=i[D++]}return m}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Vn;(function(T){T[T.TERMINATOR=0]="TERMINATOR",T[T.NUMERIC=1]="NUMERIC",T[T.ALPHANUMERIC=2]="ALPHANUMERIC",T[T.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",T[T.BYTE=4]="BYTE",T[T.ECI=5]="ECI",T[T.KANJI=6]="KANJI",T[T.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",T[T.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",T[T.HANZI=9]="HANZI"})(Vn||(Vn={}));class me{constructor(i,a,l,u){this.value=i,this.stringValue=a,this.characterCountBitsForVersions=l,this.bits=u,me.FOR_BITS.set(u,this),me.FOR_VALUE.set(i,this)}static forBits(i){const a=me.FOR_BITS.get(i);if(a===void 0)throw new w;return a}getCharacterCountBits(i){const a=i.getVersionNumber();let l;return a<=9?l=0:a<=26?l=1:l=2,this.characterCountBitsForVersions[l]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof me))return!1;const a=i;return this.value===a.value}toString(){return this.stringValue}}me.FOR_BITS=new Map,me.FOR_VALUE=new Map,me.TERMINATOR=new me(Vn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),me.NUMERIC=new me(Vn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),me.ALPHANUMERIC=new me(Vn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),me.STRUCTURED_APPEND=new me(Vn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),me.BYTE=new me(Vn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),me.ECI=new me(Vn.ECI,"ECI",Int32Array.from([0,0,0]),7),me.KANJI=new me(Vn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),me.FNC1_FIRST_POSITION=new me(Vn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),me.FNC1_SECOND_POSITION=new me(Vn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),me.HANZI=new me(Vn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class ht{static decode(i,a,l,u){const d=new Ju(i);let f=new ge;const m=new Array;let y=-1,v=-1;try{let C=null,N=!1,D;do{if(d.available()<4)D=me.TERMINATOR;else{const L=d.readBits(4);D=me.forBits(L)}switch(D){case me.TERMINATOR:break;case me.FNC1_FIRST_POSITION:case me.FNC1_SECOND_POSITION:N=!0;break;case me.STRUCTURED_APPEND:if(d.available()<16)throw new B;y=d.readBits(8),v=d.readBits(8);break;case me.ECI:const L=ht.parseECIValue(d);if(C=V.getCharacterSetECIByValue(L),C===null)throw new B;break;case me.HANZI:const j=d.readBits(4),U=d.readBits(D.getCharacterCountBits(a));j===ht.GB2312_SUBSET&&ht.decodeHanziSegment(d,f,U);break;default:const G=d.readBits(D.getCharacterCountBits(a));switch(D){case me.NUMERIC:ht.decodeNumericSegment(d,f,G);break;case me.ALPHANUMERIC:ht.decodeAlphanumericSegment(d,f,G,N);break;case me.BYTE:ht.decodeByteSegment(d,f,G,C,m,u);break;case me.KANJI:ht.decodeKanjiSegment(d,f,G);break;default:throw new B}break}}while(D!==me.TERMINATOR)}catch{throw new B}return new Do(i,f.toString(),m.length===0?null:m,l===null?null:l.toString(),y,v)}static decodeHanziSegment(i,a,l){if(l*13>i.available())throw new B;const u=new Uint8Array(2*l);let d=0;for(;l>0;){const f=i.readBits(13);let m=f/96<<8&4294967295|f%96;m<959?m+=41377:m+=42657,u[d]=m>>8&255,u[d+1]=m&255,d+=2,l--}try{a.append(se.decode(u,Q.GB2312))}catch(f){throw new B(f)}}static decodeKanjiSegment(i,a,l){if(l*13>i.available())throw new B;const u=new Uint8Array(2*l);let d=0;for(;l>0;){const f=i.readBits(13);let m=f/192<<8&4294967295|f%192;m<7936?m+=33088:m+=49472,u[d]=m>>8,u[d+1]=m,d+=2,l--}try{a.append(se.decode(u,Q.SHIFT_JIS))}catch(f){throw new B(f)}}static decodeByteSegment(i,a,l,u,d,f){if(8*l>i.available())throw new B;const m=new Uint8Array(l);for(let v=0;v<l;v++)m[v]=i.readBits(8);let y;u===null?y=Q.guessEncoding(m,f):y=u.getName();try{a.append(se.decode(m,y))}catch(v){throw new B(v)}d.push(m)}static toAlphaNumericChar(i){if(i>=ht.ALPHANUMERIC_CHARS.length)throw new B;return ht.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,a,l,u){const d=a.length();for(;l>1;){if(i.available()<11)throw new B;const f=i.readBits(11);a.append(ht.toAlphaNumericChar(Math.floor(f/45))),a.append(ht.toAlphaNumericChar(f%45)),l-=2}if(l===1){if(i.available()<6)throw new B;a.append(ht.toAlphaNumericChar(i.readBits(6)))}if(u)for(let f=d;f<a.length();f++)a.charAt(f)==="%"&&(f<a.length()-1&&a.charAt(f+1)==="%"?a.deleteCharAt(f+1):a.setCharAt(f,""))}static decodeNumericSegment(i,a,l){for(;l>=3;){if(i.available()<10)throw new B;const u=i.readBits(10);if(u>=1e3)throw new B;a.append(ht.toAlphaNumericChar(Math.floor(u/100))),a.append(ht.toAlphaNumericChar(Math.floor(u/10)%10)),a.append(ht.toAlphaNumericChar(u%10)),l-=3}if(l===2){if(i.available()<7)throw new B;const u=i.readBits(7);if(u>=100)throw new B;a.append(ht.toAlphaNumericChar(Math.floor(u/10))),a.append(ht.toAlphaNumericChar(u%10))}else if(l===1){if(i.available()<4)throw new B;const u=i.readBits(4);if(u>=10)throw new B;a.append(ht.toAlphaNumericChar(u))}}static parseECIValue(i){const a=i.readBits(8);if(!(a&128))return a&127;if((a&192)===128){const l=i.readBits(8);return(a&63)<<8&4294967295|l}if((a&224)===192){const l=i.readBits(16);return(a&31)<<16&4294967295|l}throw new B}}ht.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",ht.GB2312_SUBSET=1;class J0{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const a=i[0];i[0]=i[2],i[2]=a}}class Tw{constructor(){this.rsDecoder=new Po(ze.QR_CODE_FIELD_256)}decodeBooleanArray(i,a){return this.decodeBitMatrix(Se.parseFromBooleanArray(i),a)}decodeBitMatrix(i,a){const l=new Iw(i);let u=null;try{return this.decodeBitMatrixParser(l,a)}catch(d){u=d}try{l.remask(),l.setMirror(!0),l.readVersion(),l.readFormatInformation(),l.mirror();const d=this.decodeBitMatrixParser(l,a);return d.setOther(new J0(!0)),d}catch(d){throw u!==null?u:d}}decodeBitMatrixParser(i,a){const l=i.readVersion(),u=i.readFormatInformation().getErrorCorrectionLevel(),d=i.readCodewords(),f=ed.getDataBlocks(d,l,u);let m=0;for(const C of f)m+=C.getNumDataCodewords();const y=new Uint8Array(m);let v=0;for(const C of f){const N=C.getCodewords(),D=C.getNumDataCodewords();this.correctErrors(N,D);for(let L=0;L<D;L++)y[v++]=N[L]}return ht.decode(y,l,u,a)}correctErrors(i,a){const l=new Int32Array(i);try{this.rsDecoder.decode(l,i.length-a)}catch{throw new E}for(let u=0;u<a;u++)i[u]=l[u]}}class td extends fe{constructor(i,a,l){super(i,a),this.estimatedModuleSize=l}aboutEquals(i,a,l){if(Math.abs(a-this.getY())<=i&&Math.abs(l-this.getX())<=i){const u=Math.abs(i-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(i,a,l){const u=(this.getX()+a)/2,d=(this.getY()+i)/2,f=(this.estimatedModuleSize+l)/2;return new td(u,d,f)}}class El{constructor(i,a,l,u,d,f,m){this.image=i,this.startX=a,this.startY=l,this.width=u,this.height=d,this.moduleSize=f,this.resultPointCallback=m,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,a=this.height,l=this.width,u=i+l,d=this.startY+a/2,f=new Int32Array(3),m=this.image;for(let y=0;y<a;y++){const v=d+(y&1?-Math.floor((y+1)/2):Math.floor((y+1)/2));f[0]=0,f[1]=0,f[2]=0;let C=i;for(;C<u&&!m.get(C,v);)C++;let N=0;for(;C<u;){if(m.get(C,v))if(N===1)f[1]++;else if(N===2){if(this.foundPatternCross(f)){const D=this.handlePossibleCenter(f,v,C);if(D!==null)return D}f[0]=f[2],f[1]=1,f[2]=0,N=1}else f[++N]++;else N===1&&N++,f[N]++;C++}if(this.foundPatternCross(f)){const D=this.handlePossibleCenter(f,v,u);if(D!==null)return D}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new $}static centerFromEnd(i,a){return a-i[2]-i[1]/2}foundPatternCross(i){const a=this.moduleSize,l=a/2;for(let u=0;u<3;u++)if(Math.abs(a-i[u])>=l)return!1;return!0}crossCheckVertical(i,a,l,u){const d=this.image,f=d.getHeight(),m=this.crossCheckStateCount;m[0]=0,m[1]=0,m[2]=0;let y=i;for(;y>=0&&d.get(a,y)&&m[1]<=l;)m[1]++,y--;if(y<0||m[1]>l)return NaN;for(;y>=0&&!d.get(a,y)&&m[0]<=l;)m[0]++,y--;if(m[0]>l)return NaN;for(y=i+1;y<f&&d.get(a,y)&&m[1]<=l;)m[1]++,y++;if(y===f||m[1]>l)return NaN;for(;y<f&&!d.get(a,y)&&m[2]<=l;)m[2]++,y++;if(m[2]>l)return NaN;const v=m[0]+m[1]+m[2];return 5*Math.abs(v-u)>=2*u?NaN:this.foundPatternCross(m)?El.centerFromEnd(m,y):NaN}handlePossibleCenter(i,a,l){const u=i[0]+i[1]+i[2],d=El.centerFromEnd(i,l),f=this.crossCheckVertical(a,d,2*i[1],u);if(!isNaN(f)){const m=(i[0]+i[1]+i[2])/3;for(const v of this.possibleCenters)if(v.aboutEquals(m,f,d))return v.combineEstimate(f,d,m);const y=new td(d,f,m);this.possibleCenters.push(y),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(y)}return null}}class nd extends fe{constructor(i,a,l,u){super(i,a),this.estimatedModuleSize=l,this.count=u,u===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,a,l){if(Math.abs(a-this.getY())<=i&&Math.abs(l-this.getX())<=i){const u=Math.abs(i-this.estimatedModuleSize);return u<=1||u<=this.estimatedModuleSize}return!1}combineEstimate(i,a,l){const u=this.count+1,d=(this.count*this.getX()+a)/u,f=(this.count*this.getY()+i)/u,m=(this.count*this.estimatedModuleSize+l)/u;return new nd(d,f,m,u)}}class Nw{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Pt{constructor(i,a){this.image=i,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const a=i!=null&&i.get(H.TRY_HARDER)!==void 0,l=i!=null&&i.get(H.PURE_BARCODE)!==void 0,u=this.image,d=u.getHeight(),f=u.getWidth();let m=Math.floor(3*d/(4*Pt.MAX_MODULES));(m<Pt.MIN_SKIP||a)&&(m=Pt.MIN_SKIP);let y=!1;const v=new Int32Array(5);for(let N=m-1;N<d&&!y;N+=m){v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0;let D=0;for(let L=0;L<f;L++)if(u.get(L,N))(D&1)===1&&D++,v[D]++;else if(D&1)v[D]++;else if(D===4)if(Pt.foundPatternCross(v)){if(this.handlePossibleCenter(v,N,L,l)===!0)if(m=2,this.hasSkipped===!0)y=this.haveMultiplyConfirmedCenters();else{const U=this.findRowSkip();U>v[2]&&(N+=U-v[2]-m,L=f-1)}else{v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,D=3;continue}D=0,v[0]=0,v[1]=0,v[2]=0,v[3]=0,v[4]=0}else v[0]=v[2],v[1]=v[3],v[2]=v[4],v[3]=1,v[4]=0,D=3;else v[++D]++;Pt.foundPatternCross(v)&&this.handlePossibleCenter(v,N,f,l)===!0&&(m=v[0],this.hasSkipped&&(y=this.haveMultiplyConfirmedCenters()))}const C=this.selectBestPatterns();return fe.orderBestPatterns(C),new Nw(C)}static centerFromEnd(i,a){return a-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let a=0;for(let d=0;d<5;d++){const f=i[d];if(f===0)return!1;a+=f}if(a<7)return!1;const l=a/7,u=l/2;return Math.abs(l-i[0])<u&&Math.abs(l-i[1])<u&&Math.abs(3*l-i[2])<3*u&&Math.abs(l-i[3])<u&&Math.abs(l-i[4])<u}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,a,l,u){const d=this.getCrossCheckStateCount();let f=0;const m=this.image;for(;i>=f&&a>=f&&m.get(a-f,i-f);)d[2]++,f++;if(i<f||a<f)return!1;for(;i>=f&&a>=f&&!m.get(a-f,i-f)&&d[1]<=l;)d[1]++,f++;if(i<f||a<f||d[1]>l)return!1;for(;i>=f&&a>=f&&m.get(a-f,i-f)&&d[0]<=l;)d[0]++,f++;if(d[0]>l)return!1;const y=m.getHeight(),v=m.getWidth();for(f=1;i+f<y&&a+f<v&&m.get(a+f,i+f);)d[2]++,f++;if(i+f>=y||a+f>=v)return!1;for(;i+f<y&&a+f<v&&!m.get(a+f,i+f)&&d[3]<l;)d[3]++,f++;if(i+f>=y||a+f>=v||d[3]>=l)return!1;for(;i+f<y&&a+f<v&&m.get(a+f,i+f)&&d[4]<l;)d[4]++,f++;if(d[4]>=l)return!1;const C=d[0]+d[1]+d[2]+d[3]+d[4];return Math.abs(C-u)<2*u&&Pt.foundPatternCross(d)}crossCheckVertical(i,a,l,u){const d=this.image,f=d.getHeight(),m=this.getCrossCheckStateCount();let y=i;for(;y>=0&&d.get(a,y);)m[2]++,y--;if(y<0)return NaN;for(;y>=0&&!d.get(a,y)&&m[1]<=l;)m[1]++,y--;if(y<0||m[1]>l)return NaN;for(;y>=0&&d.get(a,y)&&m[0]<=l;)m[0]++,y--;if(m[0]>l)return NaN;for(y=i+1;y<f&&d.get(a,y);)m[2]++,y++;if(y===f)return NaN;for(;y<f&&!d.get(a,y)&&m[3]<l;)m[3]++,y++;if(y===f||m[3]>=l)return NaN;for(;y<f&&d.get(a,y)&&m[4]<l;)m[4]++,y++;if(m[4]>=l)return NaN;const v=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(v-u)>=2*u?NaN:Pt.foundPatternCross(m)?Pt.centerFromEnd(m,y):NaN}crossCheckHorizontal(i,a,l,u){const d=this.image,f=d.getWidth(),m=this.getCrossCheckStateCount();let y=i;for(;y>=0&&d.get(y,a);)m[2]++,y--;if(y<0)return NaN;for(;y>=0&&!d.get(y,a)&&m[1]<=l;)m[1]++,y--;if(y<0||m[1]>l)return NaN;for(;y>=0&&d.get(y,a)&&m[0]<=l;)m[0]++,y--;if(m[0]>l)return NaN;for(y=i+1;y<f&&d.get(y,a);)m[2]++,y++;if(y===f)return NaN;for(;y<f&&!d.get(y,a)&&m[3]<l;)m[3]++,y++;if(y===f||m[3]>=l)return NaN;for(;y<f&&d.get(y,a)&&m[4]<l;)m[4]++,y++;if(m[4]>=l)return NaN;const v=m[0]+m[1]+m[2]+m[3]+m[4];return 5*Math.abs(v-u)>=u?NaN:Pt.foundPatternCross(m)?Pt.centerFromEnd(m,y):NaN}handlePossibleCenter(i,a,l,u){const d=i[0]+i[1]+i[2]+i[3]+i[4];let f=Pt.centerFromEnd(i,l),m=this.crossCheckVertical(a,Math.floor(f),i[2],d);if(!isNaN(m)&&(f=this.crossCheckHorizontal(Math.floor(f),Math.floor(m),i[2],d),!isNaN(f)&&(!u||this.crossCheckDiagonal(Math.floor(m),Math.floor(f),i[2],d)))){const y=d/7;let v=!1;const C=this.possibleCenters;for(let N=0,D=C.length;N<D;N++){const L=C[N];if(L.aboutEquals(y,m,f)){C[N]=L.combineEstimate(m,f,y),v=!0;break}}if(!v){const N=new nd(f,m,y);C.push(N),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(N)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const l of this.possibleCenters)if(l.getCount()>=Pt.CENTER_QUORUM)if(a==null)a=l;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-l.getX())-Math.abs(a.getY()-l.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,a=0;const l=this.possibleCenters.length;for(const f of this.possibleCenters)f.getCount()>=Pt.CENTER_QUORUM&&(i++,a+=f.getEstimatedModuleSize());if(i<3)return!1;const u=a/l;let d=0;for(const f of this.possibleCenters)d+=Math.abs(f.getEstimatedModuleSize()-u);return d<=.05*a}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new $;const a=this.possibleCenters;let l;if(i>3){let u=0,d=0;for(const y of this.possibleCenters){const v=y.getEstimatedModuleSize();u+=v,d+=v*v}l=u/i;let f=Math.sqrt(d/i-l*l);a.sort((y,v)=>{const C=Math.abs(v.getEstimatedModuleSize()-l),N=Math.abs(y.getEstimatedModuleSize()-l);return C<N?-1:C>N?1:0});const m=Math.max(.2*l,f);for(let y=0;y<a.length&&a.length>3;y++){const v=a[y];Math.abs(v.getEstimatedModuleSize()-l)>m&&(a.splice(y,1),y--)}}if(a.length>3){let u=0;for(const d of a)u+=d.getEstimatedModuleSize();l=u/a.length,a.sort((d,f)=>{if(f.getCount()===d.getCount()){const m=Math.abs(f.getEstimatedModuleSize()-l),y=Math.abs(d.getEstimatedModuleSize()-l);return m<y?1:m>y?-1:0}else return f.getCount()-d.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}Pt.CENTER_QUORUM=2,Pt.MIN_SKIP=3,Pt.MAX_MODULES=57;class Bo{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(H.NEED_RESULT_POINT_CALLBACK);const l=new Pt(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(l)}processFinderPatternInfo(i){const a=i.getTopLeft(),l=i.getTopRight(),u=i.getBottomLeft(),d=this.calculateModuleSize(a,l,u);if(d<1)throw new $("No pattern found in proccess finder.");const f=Bo.computeDimension(a,l,u,d),m=pe.getProvisionalVersionForDimension(f),y=m.getDimensionForVersion()-7;let v=null;if(m.getAlignmentPatternCenters().length>0){const L=l.getX()-a.getX()+u.getX(),j=l.getY()-a.getY()+u.getY(),U=1-3/y,G=Math.floor(a.getX()+U*(L-a.getX())),K=Math.floor(a.getY()+U*(j-a.getY()));for(let te=4;te<=16;te<<=1)try{v=this.findAlignmentInRegion(d,G,K,te);break}catch(ne){if(!(ne instanceof $))throw ne}}const C=Bo.createTransform(a,l,u,v,f),N=Bo.sampleGrid(this.image,C,f);let D;return v===null?D=[u,a,l]:D=[u,a,l,v],new wl(N,D)}static createTransform(i,a,l,u,d){const f=d-3.5;let m,y,v,C;return u!==null?(m=u.getX(),y=u.getY(),v=f-3,C=v):(m=a.getX()-i.getX()+l.getX(),y=a.getY()-i.getY()+l.getY(),v=f,C=f),er.quadrilateralToQuadrilateral(3.5,3.5,f,3.5,v,C,3.5,f,i.getX(),i.getY(),a.getX(),a.getY(),m,y,l.getX(),l.getY())}static sampleGrid(i,a,l){return Kr.getInstance().sampleGridWithTransform(i,l,l,a)}static computeDimension(i,a,l,u){const d=Le.round(fe.distance(i,a)/u),f=Le.round(fe.distance(i,l)/u);let m=Math.floor((d+f)/2)+7;switch(m&3){case 0:m++;break;case 2:m--;break;case 3:throw new $("Dimensions could be not found.")}return m}calculateModuleSize(i,a,l){return(this.calculateModuleSizeOneWay(i,a)+this.calculateModuleSizeOneWay(i,l))/2}calculateModuleSizeOneWay(i,a){const l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(a.getX()),Math.floor(a.getY())),u=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(l)?u/7:isNaN(u)?l/7:(l+u)/14}sizeOfBlackWhiteBlackRunBothWays(i,a,l,u){let d=this.sizeOfBlackWhiteBlackRun(i,a,l,u),f=1,m=i-(l-i);m<0?(f=i/(i-m),m=0):m>=this.image.getWidth()&&(f=(this.image.getWidth()-1-i)/(m-i),m=this.image.getWidth()-1);let y=Math.floor(a-(u-a)*f);return f=1,y<0?(f=a/(a-y),y=0):y>=this.image.getHeight()&&(f=(this.image.getHeight()-1-a)/(y-a),y=this.image.getHeight()-1),m=Math.floor(i+(m-i)*f),d+=this.sizeOfBlackWhiteBlackRun(i,a,m,y),d-1}sizeOfBlackWhiteBlackRun(i,a,l,u){const d=Math.abs(u-a)>Math.abs(l-i);if(d){let L=i;i=a,a=L,L=l,l=u,u=L}const f=Math.abs(l-i),m=Math.abs(u-a);let y=-f/2;const v=i<l?1:-1,C=a<u?1:-1;let N=0;const D=l+v;for(let L=i,j=a;L!==D;L+=v){const U=d?j:L,G=d?L:j;if(N===1===this.image.get(U,G)){if(N===2)return Le.distance(L,j,i,a);N++}if(y+=m,y>0){if(j===u)break;j+=C,y-=f}}return N===2?Le.distance(l+v,u,i,a):NaN}findAlignmentInRegion(i,a,l,u){const d=Math.floor(u*i),f=Math.max(0,a-d),m=Math.min(this.image.getWidth()-1,a+d);if(m-f<i*3)throw new $("Alignment top exceeds estimated module size.");const y=Math.max(0,l-d),v=Math.min(this.image.getHeight()-1,l+d);if(v-y<i*3)throw new $("Alignment bottom exceeds estimated module size.");return new El(this.image,f,y,m-f,v-y,i,this.resultPointCallback).find()}}class Jr{constructor(){this.decoder=new Tw}getDecoder(){return this.decoder}decode(i,a){let l,u;if(a!=null&&a.get(H.PURE_BARCODE)!==void 0){const y=Jr.extractPureBits(i.getBlackMatrix());l=this.decoder.decodeBitMatrix(y,a),u=Jr.NO_POINTS}else{const y=new Bo(i.getBlackMatrix()).detect(a);l=this.decoder.decodeBitMatrix(y.getBits(),a),u=y.getPoints()}l.getOther()instanceof J0&&l.getOther().applyMirroredCorrection(u);const d=new Ce(l.getText(),l.getRawBytes(),void 0,u,oe.QR_CODE,void 0),f=l.getByteSegments();f!==null&&d.putMetadata(St.BYTE_SEGMENTS,f);const m=l.getECLevel();return m!==null&&d.putMetadata(St.ERROR_CORRECTION_LEVEL,m),l.hasStructuredAppend()&&(d.putMetadata(St.STRUCTURED_APPEND_SEQUENCE,l.getStructuredAppendSequenceNumber()),d.putMetadata(St.STRUCTURED_APPEND_PARITY,l.getStructuredAppendParity())),d}reset(){}static extractPureBits(i){const a=i.getTopLeftOnBit(),l=i.getBottomRightOnBit();if(a===null||l===null)throw new $;const u=this.moduleSize(a,i);let d=a[1],f=l[1],m=a[0],y=l[0];if(m>=y||d>=f)throw new $;if(f-d!==y-m&&(y=m+(f-d),y>=i.getWidth()))throw new $;const v=Math.round((y-m+1)/u),C=Math.round((f-d+1)/u);if(v<=0||C<=0)throw new $;if(C!==v)throw new $;const N=Math.floor(u/2);d+=N,m+=N;const D=m+Math.floor((v-1)*u)-y;if(D>0){if(D>N)throw new $;m-=D}const L=d+Math.floor((C-1)*u)-f;if(L>0){if(L>N)throw new $;d-=L}const j=new Se(v,C);for(let U=0;U<C;U++){const G=d+Math.floor(U*u);for(let K=0;K<v;K++)i.get(m+Math.floor(K*u),G)&&j.set(K,U)}return j}static moduleSize(i,a){const l=a.getHeight(),u=a.getWidth();let d=i[0],f=i[1],m=!0,y=0;for(;d<u&&f<l;){if(m!==a.get(d,f)){if(++y===5)break;m=!m}d++,f++}if(d===u||f===l)throw new $;return(d-i[0])/7}}Jr.NO_POINTS=new Array;class we{PDF417Common(){}static getBitCountSum(i){return Le.sum(i)}static toIntArray(i){if(i==null||!i.length)return we.EMPTY_INT_ARRAY;const a=new Int32Array(i.length);let l=0;for(const u of i)a[l++]=u;return a}static getCodeword(i){const a=R.binarySearch(we.SYMBOL_TABLE,i&262143);return a<0?-1:(we.CODEWORD_TABLE[a]-1)%we.NUMBER_OF_CODEWORDS}}we.NUMBER_OF_CODEWORDS=929,we.MAX_CODEWORDS_IN_BARCODE=we.NUMBER_OF_CODEWORDS-1,we.MIN_ROWS_IN_BARCODE=3,we.MAX_ROWS_IN_BARCODE=90,we.MODULES_IN_CODEWORD=17,we.MODULES_IN_STOP_PATTERN=18,we.BARS_IN_MODULE=8,we.EMPTY_INT_ARRAY=new Int32Array([]),we.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),we.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class kw{constructor(i,a){this.bits=i,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Ae{static detectMultiple(i,a,l){let u=i.getBlackMatrix(),d=Ae.detect(l,u);return d.length||(u=u.clone(),u.rotate180(),d=Ae.detect(l,u)),new kw(u,d)}static detect(i,a){const l=new Array;let u=0,d=0,f=!1;for(;u<a.getHeight();){const m=Ae.findVertices(a,u,d);if(m[0]==null&&m[3]==null){if(!f)break;f=!1,d=0;for(const y of l)y[1]!=null&&(u=Math.trunc(Math.max(u,y[1].getY()))),y[3]!=null&&(u=Math.max(u,Math.trunc(y[3].getY())));u+=Ae.ROW_STEP;continue}if(f=!0,l.push(m),!i)break;m[2]!=null?(d=Math.trunc(m[2].getX()),u=Math.trunc(m[2].getY())):(d=Math.trunc(m[4].getX()),u=Math.trunc(m[4].getY()))}return l}static findVertices(i,a,l){const u=i.getHeight(),d=i.getWidth(),f=new Array(8);return Ae.copyToResult(f,Ae.findRowsWithPattern(i,u,d,a,l,Ae.START_PATTERN),Ae.INDEXES_START_PATTERN),f[4]!=null&&(l=Math.trunc(f[4].getX()),a=Math.trunc(f[4].getY())),Ae.copyToResult(f,Ae.findRowsWithPattern(i,u,d,a,l,Ae.STOP_PATTERN),Ae.INDEXES_STOP_PATTERN),f}static copyToResult(i,a,l){for(let u=0;u<l.length;u++)i[l[u]]=a[u]}static findRowsWithPattern(i,a,l,u,d,f){const m=new Array(4);let y=!1;const v=new Int32Array(f.length);for(;u<a;u+=Ae.ROW_STEP){let N=Ae.findGuardPattern(i,d,u,l,!1,f,v);if(N!=null){for(;u>0;){const D=Ae.findGuardPattern(i,d,--u,l,!1,f,v);if(D!=null)N=D;else{u++;break}}m[0]=new fe(N[0],u),m[1]=new fe(N[1],u),y=!0;break}}let C=u+1;if(y){let N=0,D=Int32Array.from([Math.trunc(m[0].getX()),Math.trunc(m[1].getX())]);for(;C<a;C++){const L=Ae.findGuardPattern(i,D[0],C,l,!1,f,v);if(L!=null&&Math.abs(D[0]-L[0])<Ae.MAX_PATTERN_DRIFT&&Math.abs(D[1]-L[1])<Ae.MAX_PATTERN_DRIFT)D=L,N=0;else{if(N>Ae.SKIPPED_ROW_COUNT_MAX)break;N++}}C-=N+1,m[2]=new fe(D[0],C),m[3]=new fe(D[1],C)}return C-u<Ae.BARCODE_MIN_HEIGHT&&R.fill(m,null),m}static findGuardPattern(i,a,l,u,d,f,m){R.fillWithin(m,0,m.length,0);let y=a,v=0;for(;i.get(y,l)&&y>0&&v++<Ae.MAX_PIXEL_DRIFT;)y--;let C=y,N=0,D=f.length;for(let L=d;C<u;C++)if(i.get(C,l)!==L)m[N]++;else{if(N===D-1){if(Ae.patternMatchVariance(m,f,Ae.MAX_INDIVIDUAL_VARIANCE)<Ae.MAX_AVG_VARIANCE)return new Int32Array([y,C]);y+=m[0]+m[1],S.arraycopy(m,2,m,0,N-1),m[N-1]=0,m[N]=0,N--}else N++;m[N]=1,L=!L}return N===D-1&&Ae.patternMatchVariance(m,f,Ae.MAX_INDIVIDUAL_VARIANCE)<Ae.MAX_AVG_VARIANCE?new Int32Array([y,C-1]):null}static patternMatchVariance(i,a,l){let u=i.length,d=0,f=0;for(let v=0;v<u;v++)d+=i[v],f+=a[v];if(d<f)return 1/0;let m=d/f;l*=m;let y=0;for(let v=0;v<u;v++){let C=i[v],N=a[v]*m,D=C>N?C-N:N-C;if(D>l)return 1/0;y+=D}return y/d}}Ae.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ae.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ae.MAX_AVG_VARIANCE=.42,Ae.MAX_INDIVIDUAL_VARIANCE=.8,Ae.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ae.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ae.MAX_PIXEL_DRIFT=3,Ae.MAX_PATTERN_DRIFT=5,Ae.SKIPPED_ROW_COUNT_MAX=25,Ae.ROW_STEP=5,Ae.BARCODE_MIN_HEIGHT=10;class Ht{constructor(i,a){if(a.length===0)throw new w;this.field=i;let l=a.length;if(l>1&&a[0]===0){let u=1;for(;u<l&&a[u]===0;)u++;u===l?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(l-u),S.arraycopy(a,u,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let u=0;for(let d of this.coefficients)u=this.field.add(u,d);return u}let a=this.coefficients[0],l=this.coefficients.length;for(let u=1;u<l;u++)a=this.field.add(this.field.multiply(i,a),this.coefficients[u]);return a}add(i){if(!this.field.equals(i.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let a=this.coefficients,l=i.coefficients;if(a.length>l.length){let f=a;a=l,l=f}let u=new Int32Array(l.length),d=l.length-a.length;S.arraycopy(l,0,u,0,d);for(let f=d;f<l.length;f++)u[f]=this.field.add(a[f-d],l[f]);return new Ht(this.field,u)}subtract(i){if(!this.field.equals(i.field))throw new w("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof Ht?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new Ht(this.field,new Int32Array([0]));let a=this.coefficients,l=a.length,u=i.coefficients,d=u.length,f=new Int32Array(l+d-1);for(let m=0;m<l;m++){let y=a[m];for(let v=0;v<d;v++)f[m+v]=this.field.add(f[m+v],this.field.multiply(y,u[v]))}return new Ht(this.field,f)}negative(){let i=this.coefficients.length,a=new Int32Array(i);for(let l=0;l<i;l++)a[l]=this.field.subtract(0,this.coefficients[l]);return new Ht(this.field,a)}multiplyScalar(i){if(i===0)return new Ht(this.field,new Int32Array([0]));if(i===1)return this;let a=this.coefficients.length,l=new Int32Array(a);for(let u=0;u<a;u++)l[u]=this.field.multiply(this.coefficients[u],i);return new Ht(this.field,l)}multiplyByMonomial(i,a){if(i<0)throw new w;if(a===0)return new Ht(this.field,new Int32Array([0]));let l=this.coefficients.length,u=new Int32Array(l+i);for(let d=0;d<l;d++)u[d]=this.field.multiply(this.coefficients[d],a);return new Ht(this.field,u)}toString(){let i=new ge;for(let a=this.getDegree();a>=0;a--){let l=this.getCoefficient(a);l!==0&&(l<0?(i.append(" - "),l=-l):i.length()>0&&i.append(" + "),(a===0||l!==1)&&i.append(l),a!==0&&(a===1?i.append("x"):(i.append("x^"),i.append(a))))}return i.toString()}}class Ow{add(i,a){return(i+a)%this.modulus}subtract(i,a){return(this.modulus+i-a)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new w;return this.logTable[i]}inverse(i){if(i===0)throw new xl;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,a){return i===0||a===0?0:this.expTable[(this.logTable[i]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class rd extends Ow{constructor(i,a){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let l=1;for(let u=0;u<i;u++)this.expTable[u]=l,l=l*a%i;for(let u=0;u<i-1;u++)this.logTable[this.expTable[u]]=u;this.zero=new Ht(this,new Int32Array([0])),this.one=new Ht(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,a){if(i<0)throw new w;if(a===0)return this.zero;let l=new Int32Array(i+1);return l[0]=a,new Ht(this,l)}}rd.PDF417_GF=new rd(we.NUMBER_OF_CODEWORDS,3);class e1{constructor(){this.field=rd.PDF417_GF}decode(i,a,l){let u=new Ht(this.field,i),d=new Int32Array(a),f=!1;for(let j=a;j>0;j--){let U=u.evaluateAt(this.field.exp(j));d[a-j]=U,U!==0&&(f=!0)}if(!f)return 0;let m=this.field.getOne();if(l!=null)for(const j of l){let U=this.field.exp(i.length-1-j),G=new Ht(this.field,new Int32Array([this.field.subtract(0,U),1]));m=m.multiply(G)}let y=new Ht(this.field,d),v=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),y,a),C=v[0],N=v[1],D=this.findErrorLocations(C),L=this.findErrorMagnitudes(N,C,D);for(let j=0;j<D.length;j++){let U=i.length-1-this.field.log(D[j]);if(U<0)throw E.getChecksumInstance();i[U]=this.field.subtract(i[U],L[j])}return D.length}runEuclideanAlgorithm(i,a,l){if(i.getDegree()<a.getDegree()){let D=i;i=a,a=D}let u=i,d=a,f=this.field.getZero(),m=this.field.getOne();for(;d.getDegree()>=Math.round(l/2);){let D=u,L=f;if(u=d,f=m,u.isZero())throw E.getChecksumInstance();d=D;let j=this.field.getZero(),U=u.getCoefficient(u.getDegree()),G=this.field.inverse(U);for(;d.getDegree()>=u.getDegree()&&!d.isZero();){let K=d.getDegree()-u.getDegree(),te=this.field.multiply(d.getCoefficient(d.getDegree()),G);j=j.add(this.field.buildMonomial(K,te)),d=d.subtract(u.multiplyByMonomial(K,te))}m=j.multiply(f).subtract(L).negative()}let y=m.getCoefficient(0);if(y===0)throw E.getChecksumInstance();let v=this.field.inverse(y),C=m.multiply(v),N=d.multiply(v);return[C,N]}findErrorLocations(i){let a=i.getDegree(),l=new Int32Array(a),u=0;for(let d=1;d<this.field.getSize()&&u<a;d++)i.evaluateAt(d)===0&&(l[u]=this.field.inverse(d),u++);if(u!==a)throw E.getChecksumInstance();return l}findErrorMagnitudes(i,a,l){let u=a.getDegree(),d=new Int32Array(u);for(let v=1;v<=u;v++)d[u-v]=this.field.multiply(v,a.getCoefficient(v));let f=new Ht(this.field,d),m=l.length,y=new Int32Array(m);for(let v=0;v<m;v++){let C=this.field.inverse(l[v]),N=this.field.subtract(0,i.evaluateAt(C)),D=this.field.inverse(f.evaluateAt(C));y[v]=this.field.multiply(N,D)}return y}}class zi{constructor(i,a,l,u,d){i instanceof zi?this.constructor_2(i):this.constructor_1(i,a,l,u,d)}constructor_1(i,a,l,u,d){const f=a==null||l==null,m=u==null||d==null;if(f&&m)throw new $;f?(a=new fe(0,u.getY()),l=new fe(0,d.getY())):m&&(u=new fe(i.getWidth()-1,a.getY()),d=new fe(i.getWidth()-1,l.getY())),this.image=i,this.topLeft=a,this.bottomLeft=l,this.topRight=u,this.bottomRight=d,this.minX=Math.trunc(Math.min(a.getX(),l.getX())),this.maxX=Math.trunc(Math.max(u.getX(),d.getX())),this.minY=Math.trunc(Math.min(a.getY(),u.getY())),this.maxY=Math.trunc(Math.max(l.getY(),d.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,a){return i==null?a:a==null?i:new zi(i.image,i.topLeft,i.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(i,a,l){let u=this.topLeft,d=this.bottomLeft,f=this.topRight,m=this.bottomRight;if(i>0){let y=l?this.topLeft:this.topRight,v=Math.trunc(y.getY()-i);v<0&&(v=0);let C=new fe(y.getX(),v);l?u=C:f=C}if(a>0){let y=l?this.bottomLeft:this.bottomRight,v=Math.trunc(y.getY()+a);v>=this.image.getHeight()&&(v=this.image.getHeight()-1);let C=new fe(y.getX(),v);l?d=C:m=C}return new zi(this.image,u,d,f,m)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class Rw{constructor(i,a,l,u){this.columnCount=i,this.errorCorrectionLevel=u,this.rowCountUpperPart=a,this.rowCountLowerPart=l,this.rowCount=a+l}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class jo{constructor(){this.buffer=""}static form(i,a){let l=-1;function u(f,m,y,v,C,N){if(f==="%%")return"%";if(a[++l]===void 0)return;f=v?parseInt(v.substr(1)):void 0;let D=C?parseInt(C.substr(1)):void 0,L;switch(N){case"s":L=a[l];break;case"c":L=a[l][0];break;case"f":L=parseFloat(a[l]).toFixed(f);break;case"p":L=parseFloat(a[l]).toPrecision(f);break;case"e":L=parseFloat(a[l]).toExponential(f);break;case"x":L=parseInt(a[l]).toString(D||16);break;case"d":L=parseFloat(parseInt(a[l],D||10).toPrecision(f)).toFixed(0);break}L=typeof L=="object"?JSON.stringify(L):(+L).toString(D);let j=parseInt(y),U=y&&y[0]+""=="0"?"0":" ";for(;L.length<j;)L=m!==void 0?L+U:U+L;return L}let d=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(d,u)}format(i,...a){this.buffer+=jo.form(i,a)}toString(){return this.buffer}}class Fo{constructor(i){this.boundingBox=new zi(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let a=this.getCodeword(i);if(a!=null)return a;for(let l=1;l<Fo.MAX_NEARBY_DISTANCE;l++){let u=this.imageRowToCodewordIndex(i)-l;if(u>=0&&(a=this.codewords[u],a!=null)||(u=this.imageRowToCodewordIndex(i)+l,u<this.codewords.length&&(a=this.codewords[u],a!=null)))return a}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,a){this.codewords[this.imageRowToCodewordIndex(i)]=a}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new jo;let a=0;for(const l of this.codewords){if(l==null){i.format("%3d:    |   %n",a++);continue}i.format("%3d: %3d|%3d%n",a++,l.getRowNumber(),l.getValue())}return i.toString()}}Fo.MAX_NEARBY_DISTANCE=5;class Uo{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let a=this.values.get(i);a==null&&(a=0),a++,this.values.set(i,a)}getValue(){let i=-1,a=new Array;for(const[l,u]of this.values.entries()){const d={getKey:()=>l,getValue:()=>u};d.getValue()>i?(i=d.getValue(),a=[],a.push(d.getKey())):d.getValue()===i&&a.push(d.getKey())}return we.toIntArray(a)}getConfidence(i){return this.values.get(i)}}class t1 extends Fo{constructor(i,a){super(i),this._isLeft=a}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,i);let l=this.getBoundingBox(),u=this._isLeft?l.getTopLeft():l.getTopRight(),d=this._isLeft?l.getBottomLeft():l.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=this.imageRowToCodewordIndex(Math.trunc(d.getY())),y=-1,v=1,C=0;for(let N=f;N<m;N++){if(a[N]==null)continue;let D=a[N],L=D.getRowNumber()-y;if(L===0)C++;else if(L===1)v=Math.max(v,C),C=1,y=D.getRowNumber();else if(L<0||D.getRowNumber()>=i.getRowCount()||L>N)a[N]=null;else{let j;v>2?j=(v-2)*L:j=L;let U=j>=N;for(let G=1;G<=j&&!U;G++)U=a[N-G]!=null;U?a[N]=null:(y=D.getRowNumber(),C=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let a=new Int32Array(i.getRowCount());for(let l of this.getCodewords())if(l!=null){let u=l.getRowNumber();if(u>=a.length)continue;a[u]++}return a}adjustIncompleteIndicatorColumnRowNumbers(i){let a=this.getBoundingBox(),l=this._isLeft?a.getTopLeft():a.getTopRight(),u=this._isLeft?a.getBottomLeft():a.getBottomRight(),d=this.imageRowToCodewordIndex(Math.trunc(l.getY())),f=this.imageRowToCodewordIndex(Math.trunc(u.getY())),m=this.getCodewords(),y=-1;for(let v=d;v<f;v++){if(m[v]==null)continue;let C=m[v];C.setRowNumberAsRowIndicatorColumn();let N=C.getRowNumber()-y;N===0||(N===1?y=C.getRowNumber():C.getRowNumber()>=i.getRowCount()?m[v]=null:y=C.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),a=new Uo,l=new Uo,u=new Uo,d=new Uo;for(let m of i){if(m==null)continue;m.setRowNumberAsRowIndicatorColumn();let y=m.getValue()%30,v=m.getRowNumber();switch(this._isLeft||(v+=2),v%3){case 0:l.setValue(y*3+1);break;case 1:d.setValue(y/3),u.setValue(y%3);break;case 2:a.setValue(y+1);break}}if(a.getValue().length===0||l.getValue().length===0||u.getValue().length===0||d.getValue().length===0||a.getValue()[0]<1||l.getValue()[0]+u.getValue()[0]<we.MIN_ROWS_IN_BARCODE||l.getValue()[0]+u.getValue()[0]>we.MAX_ROWS_IN_BARCODE)return null;let f=new Rw(a.getValue()[0],l.getValue()[0],u.getValue()[0],d.getValue()[0]);return this.removeIncorrectCodewords(i,f),f}removeIncorrectCodewords(i,a){for(let l=0;l<i.length;l++){let u=i[l];if(i[l]==null)continue;let d=u.getValue()%30,f=u.getRowNumber();if(f>a.getRowCount()){i[l]=null;continue}switch(this._isLeft||(f+=2),f%3){case 0:d*3+1!==a.getRowCountUpperPart()&&(i[l]=null);break;case 1:(Math.trunc(d/3)!==a.getErrorCorrectionLevel()||d%3!==a.getRowCountLowerPart())&&(i[l]=null);break;case 2:d+1!==a.getColumnCount()&&(i[l]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class zo{constructor(i,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=we.MAX_CODEWORDS_IN_BARCODE,a;do a=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let l=this.detectionResultColumns[a].getCodewords();for(let u=0;u<l.length;u++)l[u]!=null&&(l[u].hasValidRowNumber()||this.adjustRowNumbers(a,u,l))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<i.length;l++)if(i[l]!=null&&a[l]!=null&&i[l].getRowNumber()===a[l].getRowNumber())for(let u=1;u<=this.barcodeColumnCount;u++){let d=this.detectionResultColumns[u].getCodewords()[l];d!=null&&(d.setRowNumber(i[l].getRowNumber()),d.hasValidRowNumber()||(this.detectionResultColumns[u].getCodewords()[l]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let u=a[l].getRowNumber(),d=0;for(let f=this.barcodeColumnCount+1;f>0&&d<this.ADJUST_ROW_NUMBER_SKIP;f--){let m=this.detectionResultColumns[f].getCodewords()[l];m!=null&&(d=zo.adjustRowNumberIfValid(u,d,m),m.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,a=this.detectionResultColumns[0].getCodewords();for(let l=0;l<a.length;l++){if(a[l]==null)continue;let u=a[l].getRowNumber(),d=0;for(let f=1;f<this.barcodeColumnCount+1&&d<this.ADJUST_ROW_NUMBER_SKIP;f++){let m=this.detectionResultColumns[f].getCodewords()[l];m!=null&&(d=zo.adjustRowNumberIfValid(u,d,m),m.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,a,l){return l==null||l.hasValidRowNumber()||(l.isValidRowNumber(i)?(l.setRowNumber(i),a=0):++a),a}adjustRowNumbers(i,a,l){if(!this.detectionResultColumns[i-1])return;let u=l[a],d=this.detectionResultColumns[i-1].getCodewords(),f=d;this.detectionResultColumns[i+1]!=null&&(f=this.detectionResultColumns[i+1].getCodewords());let m=new Array(14);m[2]=d[a],m[3]=f[a],a>0&&(m[0]=l[a-1],m[4]=d[a-1],m[5]=f[a-1]),a>1&&(m[8]=l[a-2],m[10]=d[a-2],m[11]=f[a-2]),a<l.length-1&&(m[1]=l[a+1],m[6]=d[a+1],m[7]=f[a+1]),a<l.length-2&&(m[9]=l[a+2],m[12]=d[a+2],m[13]=f[a+2]);for(let y of m)if(zo.adjustRowNumber(u,y))return}static adjustRowNumber(i,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===i.getBucket()?(i.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,a){this.detectionResultColumns[i]=a}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new jo;for(let l=0;l<i.getCodewords().length;l++){a.format("CW %3d:",l);for(let u=0;u<this.barcodeColumnCount+2;u++){if(this.detectionResultColumns[u]==null){a.format("    |   ");continue}let d=this.detectionResultColumns[u].getCodewords()[l];if(d==null){a.format("    |   ");continue}a.format(" %3d|%3d",d.getRowNumber(),d.getValue())}a.format("%n")}return a.toString()}}class Vo{constructor(i,a,l,u){this.rowNumber=Vo.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(a),this.bucket=Math.trunc(l),this.value=Math.trunc(u)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==Vo.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}Vo.BARCODE_ROW_UNKNOWN=-1;class xn{static initialize(){for(let i=0;i<we.SYMBOL_TABLE.length;i++){let a=we.SYMBOL_TABLE[i],l=a&1;for(let u=0;u<we.BARS_IN_MODULE;u++){let d=0;for(;(a&1)===l;)d+=1,a>>=1;l=a&1,xn.RATIOS_TABLE[i]||(xn.RATIOS_TABLE[i]=new Array(we.BARS_IN_MODULE)),xn.RATIOS_TABLE[i][we.BARS_IN_MODULE-u-1]=Math.fround(d/we.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let a=xn.getDecodedCodewordValue(xn.sampleBitCounts(i));return a!==-1?a:xn.getClosestDecodedValue(i)}static sampleBitCounts(i){let a=Le.sum(i),l=new Int32Array(we.BARS_IN_MODULE),u=0,d=0;for(let f=0;f<we.MODULES_IN_CODEWORD;f++){let m=a/(2*we.MODULES_IN_CODEWORD)+f*a/we.MODULES_IN_CODEWORD;d+i[u]<=m&&(d+=i[u],u++),l[u]++}return l}static getDecodedCodewordValue(i){let a=xn.getBitValue(i);return we.getCodeword(a)===-1?-1:a}static getBitValue(i){let a=0;for(let l=0;l<i.length;l++)for(let u=0;u<i[l];u++)a=a<<1|(l%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(i){let a=Le.sum(i),l=new Array(we.BARS_IN_MODULE);if(a>1)for(let f=0;f<l.length;f++)l[f]=Math.fround(i[f]/a);let u=yl.MAX_VALUE,d=-1;this.bSymbolTableReady||xn.initialize();for(let f=0;f<xn.RATIOS_TABLE.length;f++){let m=0,y=xn.RATIOS_TABLE[f];for(let v=0;v<we.BARS_IN_MODULE;v++){let C=Math.fround(y[v]-l[v]);if(m+=Math.fround(C*C),m>=u)break}m<u&&(u=m,d=we.SYMBOL_TABLE[f])}return d}}xn.bSymbolTableReady=!1,xn.RATIOS_TABLE=new Array(we.SYMBOL_TABLE.length).map(T=>new Array(we.BARS_IN_MODULE));class n1{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class r1{static parseLong(i,a=void 0){return parseInt(i,a)}}class i1 extends p{}i1.kind="NullPointerException";class Dw{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,a,l){if(i==null)throw new i1;if(a<0||a>i.length||l<0||a+l>i.length||a+l<0)throw new O;if(l===0)return;for(let u=0;u<l;u++)this.write(i[a+u])}flush(){}close(){}}class Mw extends p{}class Pw extends Dw{constructor(i=32){if(super(),this.count=0,i<0)throw new w("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let l=this.buf.length<<1;if(l-i<0&&(l=i),l<0){if(i<0)throw new Mw;l=k.MAX_VALUE}this.buf=R.copyOfUint8Array(this.buf,l)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,a,l){if(a<0||a>i.length||l<0||a+l-i.length>0)throw new O;this.ensureCapacity(this.count+l),S.arraycopy(i,a,this.buf,this.count,l),this.count+=l}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return R.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var Ke;(function(T){T[T.ALPHA=0]="ALPHA",T[T.LOWER=1]="LOWER",T[T.MIXED=2]="MIXED",T[T.PUNCT=3]="PUNCT",T[T.ALPHA_SHIFT=4]="ALPHA_SHIFT",T[T.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ke||(Ke={}));function s1(){if(typeof window<"u")return window.BigInt||null;if(typeof jt<"u")return jt.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Sl;function ei(T){if(typeof Sl>"u"&&(Sl=s1()),Sl===null)throw new Error("BigInt is not supported!");return Sl(T)}function Lw(){let T=[];T[0]=ei(1);let i=ei(900);T[1]=i;for(let a=2;a<16;a++)T[a]=T[a-1]*i;return T}class Y{static decode(i,a){let l=new ge(""),u=V.ISO8859_1;l.enableDecoding(u);let d=1,f=i[d++],m=new n1;for(;d<i[0];){switch(f){case Y.TEXT_COMPACTION_MODE_LATCH:d=Y.textCompaction(i,d,l);break;case Y.BYTE_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:d=Y.byteCompaction(f,i,u,d,l);break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(i[d++]);break;case Y.NUMERIC_COMPACTION_MODE_LATCH:d=Y.numericCompaction(i,d,l);break;case Y.ECI_CHARSET:V.getCharacterSetECIByValue(i[d++]);break;case Y.ECI_GENERAL_PURPOSE:d+=2;break;case Y.ECI_USER_DEFINED:d++;break;case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:d=Y.decodeMacroBlock(i,d,m);break;case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:throw new B;default:d--,d=Y.textCompaction(i,d,l);break}if(d<i.length)f=i[d++];else throw B.getFormatInstance()}if(l.length()===0)throw B.getFormatInstance();let y=new Do(null,l.toString(),null,a);return y.setOther(m),y}static decodeMacroBlock(i,a,l){if(a+Y.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw B.getFormatInstance();let u=new Int32Array(Y.NUMBER_OF_SEQUENCE_CODEWORDS);for(let m=0;m<Y.NUMBER_OF_SEQUENCE_CODEWORDS;m++,a++)u[m]=i[a];l.setSegmentIndex(k.parseInt(Y.decodeBase900toBase10(u,Y.NUMBER_OF_SEQUENCE_CODEWORDS)));let d=new ge;a=Y.textCompaction(i,a,d),l.setFileId(d.toString());let f=-1;for(i[a]===Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(f=a+1);a<i[0];)switch(i[a]){case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,i[a]){case Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let m=new ge;a=Y.textCompaction(i,a+1,m),l.setFileName(m.toString());break;case Y.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let y=new ge;a=Y.textCompaction(i,a+1,y),l.setSender(y.toString());break;case Y.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let v=new ge;a=Y.textCompaction(i,a+1,v),l.setAddressee(v.toString());break;case Y.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let C=new ge;a=Y.numericCompaction(i,a+1,C),l.setSegmentCount(k.parseInt(C.toString()));break;case Y.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let N=new ge;a=Y.numericCompaction(i,a+1,N),l.setTimestamp(r1.parseLong(N.toString()));break;case Y.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let D=new ge;a=Y.numericCompaction(i,a+1,D),l.setChecksum(k.parseInt(D.toString()));break;case Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let L=new ge;a=Y.numericCompaction(i,a+1,L),l.setFileSize(r1.parseLong(L.toString()));break;default:throw B.getFormatInstance()}break;case Y.MACRO_PDF417_TERMINATOR:a++,l.setLastSegment(!0);break;default:throw B.getFormatInstance()}if(f!==-1){let m=a-f;l.isLastSegment()&&m--,l.setOptionalData(R.copyOfRange(i,f,f+m))}return a}static textCompaction(i,a,l){let u=new Int32Array((i[0]-a)*2),d=new Int32Array((i[0]-a)*2),f=0,m=!1;for(;a<i[0]&&!m;){let y=i[a++];if(y<Y.TEXT_COMPACTION_MODE_LATCH)u[f]=y/30,u[f+1]=y%30,f+=2;else switch(y){case Y.TEXT_COMPACTION_MODE_LATCH:u[f++]=Y.TEXT_COMPACTION_MODE_LATCH;break;case Y.BYTE_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.NUMERIC_COMPACTION_MODE_LATCH:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:a--,m=!0;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u[f]=Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,y=i[a++],d[f]=y,f++;break}}return Y.decodeTextCompaction(u,d,f,l),a}static decodeTextCompaction(i,a,l,u){let d=Ke.ALPHA,f=Ke.ALPHA,m=0;for(;m<l;){let y=i[m],v="";switch(d){case Ke.ALPHA:if(y<26)v=String.fromCharCode(65+y);else switch(y){case 26:v=" ";break;case Y.LL:d=Ke.LOWER;break;case Y.ML:d=Ke.MIXED;break;case Y.PS:f=d,d=Ke.PUNCT_SHIFT;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[m]);break;case Y.TEXT_COMPACTION_MODE_LATCH:d=Ke.ALPHA;break}break;case Ke.LOWER:if(y<26)v=String.fromCharCode(97+y);else switch(y){case 26:v=" ";break;case Y.AS:f=d,d=Ke.ALPHA_SHIFT;break;case Y.ML:d=Ke.MIXED;break;case Y.PS:f=d,d=Ke.PUNCT_SHIFT;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[m]);break;case Y.TEXT_COMPACTION_MODE_LATCH:d=Ke.ALPHA;break}break;case Ke.MIXED:if(y<Y.PL)v=Y.MIXED_CHARS[y];else switch(y){case Y.PL:d=Ke.PUNCT;break;case 26:v=" ";break;case Y.LL:d=Ke.LOWER;break;case Y.AL:d=Ke.ALPHA;break;case Y.PS:f=d,d=Ke.PUNCT_SHIFT;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[m]);break;case Y.TEXT_COMPACTION_MODE_LATCH:d=Ke.ALPHA;break}break;case Ke.PUNCT:if(y<Y.PAL)v=Y.PUNCT_CHARS[y];else switch(y){case Y.PAL:d=Ke.ALPHA;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[m]);break;case Y.TEXT_COMPACTION_MODE_LATCH:d=Ke.ALPHA;break}break;case Ke.ALPHA_SHIFT:if(d=f,y<26)v=String.fromCharCode(65+y);else switch(y){case 26:v=" ";break;case Y.TEXT_COMPACTION_MODE_LATCH:d=Ke.ALPHA;break}break;case Ke.PUNCT_SHIFT:if(d=f,y<Y.PAL)v=Y.PUNCT_CHARS[y];else switch(y){case Y.PAL:d=Ke.ALPHA;break;case Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:u.append(a[m]);break;case Y.TEXT_COMPACTION_MODE_LATCH:d=Ke.ALPHA;break}break}v!==""&&u.append(v),m++}}static byteCompaction(i,a,l,u,d){let f=new Pw,m=0,y=0,v=!1;switch(i){case Y.BYTE_COMPACTION_MODE_LATCH:let C=new Int32Array(6),N=a[u++];for(;u<a[0]&&!v;)switch(C[m++]=N,y=900*y+N,N=a[u++],N){case Y.TEXT_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH:case Y.NUMERIC_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:u--,v=!0;break;default:if(m%5===0&&m>0){for(let D=0;D<6;++D)f.write(Number(ei(y)>>ei(8*(5-D))));y=0,m=0}break}u===a[0]&&N<Y.TEXT_COMPACTION_MODE_LATCH&&(C[m++]=N);for(let D=0;D<m;D++)f.write(C[D]);break;case Y.BYTE_COMPACTION_MODE_LATCH_6:for(;u<a[0]&&!v;){let D=a[u++];if(D<Y.TEXT_COMPACTION_MODE_LATCH)m++,y=900*y+D;else switch(D){case Y.TEXT_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH:case Y.NUMERIC_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:u--,v=!0;break}if(m%5===0&&m>0){for(let L=0;L<6;++L)f.write(Number(ei(y)>>ei(8*(5-L))));y=0,m=0}}break}return d.append(se.decode(f.toByteArray(),l)),u}static numericCompaction(i,a,l){let u=0,d=!1,f=new Int32Array(Y.MAX_NUMERIC_CODEWORDS);for(;a<i[0]&&!d;){let m=i[a++];if(a===i[0]&&(d=!0),m<Y.TEXT_COMPACTION_MODE_LATCH)f[u]=m,u++;else switch(m){case Y.TEXT_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH:case Y.BYTE_COMPACTION_MODE_LATCH_6:case Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Y.MACRO_PDF417_TERMINATOR:a--,d=!0;break}(u%Y.MAX_NUMERIC_CODEWORDS===0||m===Y.NUMERIC_COMPACTION_MODE_LATCH||d)&&u>0&&(l.append(Y.decodeBase900toBase10(f,u)),u=0)}return a}static decodeBase900toBase10(i,a){let l=ei(0);for(let d=0;d<a;d++)l+=Y.EXP900[a-d-1]*ei(i[d]);let u=l.toString();if(u.charAt(0)!=="1")throw new B;return u.substring(1)}}Y.TEXT_COMPACTION_MODE_LATCH=900,Y.BYTE_COMPACTION_MODE_LATCH=901,Y.NUMERIC_COMPACTION_MODE_LATCH=902,Y.BYTE_COMPACTION_MODE_LATCH_6=924,Y.ECI_USER_DEFINED=925,Y.ECI_GENERAL_PURPOSE=926,Y.ECI_CHARSET=927,Y.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Y.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Y.MACRO_PDF417_TERMINATOR=922,Y.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Y.MAX_NUMERIC_CODEWORDS=15,Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Y.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Y.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Y.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Y.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Y.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Y.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Y.PL=25,Y.LL=27,Y.AS=27,Y.ML=28,Y.AL=28,Y.PS=29,Y.PAL=29,Y.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Y.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Y.EXP900=s1()?Lw():[],Y.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Te{constructor(){}static decode(i,a,l,u,d,f,m){let y=new zi(i,a,l,u,d),v=null,C=null,N;for(let j=!0;;j=!1){if(a!=null&&(v=Te.getRowIndicatorColumn(i,y,a,!0,f,m)),u!=null&&(C=Te.getRowIndicatorColumn(i,y,u,!1,f,m)),N=Te.merge(v,C),N==null)throw $.getNotFoundInstance();let U=N.getBoundingBox();if(j&&U!=null&&(U.getMinY()<y.getMinY()||U.getMaxY()>y.getMaxY()))y=U;else break}N.setBoundingBox(y);let D=N.getBarcodeColumnCount()+1;N.setDetectionResultColumn(0,v),N.setDetectionResultColumn(D,C);let L=v!=null;for(let j=1;j<=D;j++){let U=L?j:D-j;if(N.getDetectionResultColumn(U)!==void 0)continue;let G;U===0||U===D?G=new t1(y,U===0):G=new Fo(y),N.setDetectionResultColumn(U,G);let K=-1,te=K;for(let ne=y.getMinY();ne<=y.getMaxY();ne++){if(K=Te.getStartColumn(N,U,ne,L),K<0||K>y.getMaxX()){if(te===-1)continue;K=te}let Z=Te.detectCodeword(i,y.getMinX(),y.getMaxX(),L,K,ne,f,m);Z!=null&&(G.setCodeword(ne,Z),te=K,f=Math.min(f,Z.getWidth()),m=Math.max(m,Z.getWidth()))}}return Te.createDecoderResult(N)}static merge(i,a){if(i==null&&a==null)return null;let l=Te.getBarcodeMetadata(i,a);if(l==null)return null;let u=zi.merge(Te.adjustBoundingBox(i),Te.adjustBoundingBox(a));return new zo(l,u)}static adjustBoundingBox(i){if(i==null)return null;let a=i.getRowHeights();if(a==null)return null;let l=Te.getMax(a),u=0;for(let m of a)if(u+=l-m,m>0)break;let d=i.getCodewords();for(let m=0;u>0&&d[m]==null;m++)u--;let f=0;for(let m=a.length-1;m>=0&&(f+=l-a[m],!(a[m]>0));m--);for(let m=d.length-1;f>0&&d[m]==null;m--)f--;return i.getBoundingBox().addMissingRows(u,f,i.isLeft())}static getMax(i){let a=-1;for(let l of i)a=Math.max(a,l);return a}static getBarcodeMetadata(i,a){let l;if(i==null||(l=i.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let u;return a==null||(u=a.getBarcodeMetadata())==null?l:l.getColumnCount()!==u.getColumnCount()&&l.getErrorCorrectionLevel()!==u.getErrorCorrectionLevel()&&l.getRowCount()!==u.getRowCount()?null:l}static getRowIndicatorColumn(i,a,l,u,d,f){let m=new t1(a,u);for(let y=0;y<2;y++){let v=y===0?1:-1,C=Math.trunc(Math.trunc(l.getX()));for(let N=Math.trunc(Math.trunc(l.getY()));N<=a.getMaxY()&&N>=a.getMinY();N+=v){let D=Te.detectCodeword(i,0,i.getWidth(),u,C,N,d,f);D!=null&&(m.setCodeword(N,D),u?C=D.getStartX():C=D.getEndX())}}return m}static adjustCodewordCount(i,a){let l=a[0][1],u=l.getValue(),d=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-Te.getNumberOfECCodeWords(i.getBarcodeECLevel());if(u.length===0){if(d<1||d>we.MAX_CODEWORDS_IN_BARCODE)throw $.getNotFoundInstance();l.setValue(d)}else u[0]!==d&&l.setValue(d)}static createDecoderResult(i){let a=Te.createBarcodeMatrix(i);Te.adjustCodewordCount(i,a);let l=new Array,u=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),d=[],f=new Array;for(let y=0;y<i.getBarcodeRowCount();y++)for(let v=0;v<i.getBarcodeColumnCount();v++){let C=a[y][v+1].getValue(),N=y*i.getBarcodeColumnCount()+v;C.length===0?l.push(N):C.length===1?u[N]=C[0]:(f.push(N),d.push(C))}let m=new Array(d.length);for(let y=0;y<m.length;y++)m[y]=d[y];return Te.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),u,we.toIntArray(l),we.toIntArray(f),m)}static createDecoderResultFromAmbiguousValues(i,a,l,u,d){let f=new Int32Array(u.length),m=100;for(;m-- >0;){for(let y=0;y<f.length;y++)a[u[y]]=d[y][f[y]];try{return Te.decodeCodewords(a,i,l)}catch(y){if(!(y instanceof E))throw y}if(f.length===0)throw E.getChecksumInstance();for(let y=0;y<f.length;y++)if(f[y]<d[y].length-1){f[y]++;break}else if(f[y]=0,y===f.length-1)throw E.getChecksumInstance()}throw E.getChecksumInstance()}static createBarcodeMatrix(i){let a=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let u=0;u<a.length;u++)for(let d=0;d<a[u].length;d++)a[u][d]=new Uo;let l=0;for(let u of i.getDetectionResultColumns()){if(u!=null){for(let d of u.getCodewords())if(d!=null){let f=d.getRowNumber();if(f>=0){if(f>=a.length)continue;a[f][l].setValue(d.getValue())}}}l++}return a}static isValidBarcodeColumn(i,a){return a>=0&&a<=i.getBarcodeColumnCount()+1}static getStartColumn(i,a,l,u){let d=u?1:-1,f=null;if(Te.isValidBarcodeColumn(i,a-d)&&(f=i.getDetectionResultColumn(a-d).getCodeword(l)),f!=null)return u?f.getEndX():f.getStartX();if(f=i.getDetectionResultColumn(a).getCodewordNearby(l),f!=null)return u?f.getStartX():f.getEndX();if(Te.isValidBarcodeColumn(i,a-d)&&(f=i.getDetectionResultColumn(a-d).getCodewordNearby(l)),f!=null)return u?f.getEndX():f.getStartX();let m=0;for(;Te.isValidBarcodeColumn(i,a-d);){a-=d;for(let y of i.getDetectionResultColumn(a).getCodewords())if(y!=null)return(u?y.getEndX():y.getStartX())+d*m*(y.getEndX()-y.getStartX());m++}return u?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,a,l,u,d,f,m,y){d=Te.adjustCodewordStartColumn(i,a,l,u,d,f);let v=Te.getModuleBitCount(i,a,l,u,d,f);if(v==null)return null;let C,N=Le.sum(v);if(u)C=d+N;else{for(let j=0;j<v.length/2;j++){let U=v[j];v[j]=v[v.length-1-j],v[v.length-1-j]=U}C=d,d=C-N}if(!Te.checkCodewordSkew(N,m,y))return null;let D=xn.getDecodedValue(v),L=we.getCodeword(D);return L===-1?null:new Vo(d,C,Te.getCodewordBucketNumber(D),L)}static getModuleBitCount(i,a,l,u,d,f){let m=d,y=new Int32Array(8),v=0,C=u?1:-1,N=u;for(;(u?m<l:m>=a)&&v<y.length;)i.get(m,f)===N?(y[v]++,m+=C):(v++,N=!N);return v===y.length||m===(u?l:a)&&v===y.length-1?y:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,a,l,u,d,f){let m=d,y=u?-1:1;for(let v=0;v<2;v++){for(;(u?m>=a:m<l)&&u===i.get(m,f);){if(Math.abs(d-m)>Te.CODEWORD_SKEW_SIZE)return d;m+=y}y=-y,u=!u}return m}static checkCodewordSkew(i,a,l){return a-Te.CODEWORD_SKEW_SIZE<=i&&i<=l+Te.CODEWORD_SKEW_SIZE}static decodeCodewords(i,a,l){if(i.length===0)throw B.getFormatInstance();let u=1<<a+1,d=Te.correctErrors(i,l,u);Te.verifyCodewordCount(i,u);let f=Y.decode(i,""+a);return f.setErrorsCorrected(d),f.setErasures(l.length),f}static correctErrors(i,a,l){if(a!=null&&a.length>l/2+Te.MAX_ERRORS||l<0||l>Te.MAX_EC_CODEWORDS)throw E.getChecksumInstance();return Te.errorCorrection.decode(i,l,a)}static verifyCodewordCount(i,a){if(i.length<4)throw B.getFormatInstance();let l=i[0];if(l>i.length)throw B.getFormatInstance();if(l===0)if(a<i.length)i[0]=i.length-a;else throw B.getFormatInstance()}static getBitCountForCodeword(i){let a=new Int32Array(8),l=0,u=a.length-1;for(;!((i&1)!==l&&(l=i&1,u--,u<0));)a[u]++,i>>=1;return a}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return Te.getCodewordBucketNumber(Te.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let a=new jo;for(let l=0;l<i.length;l++){a.format("Row %2d: ",l);for(let u=0;u<i[l].length;u++){let d=i[l][u];d.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",d.getValue()[0],d.getConfidence(d.getValue()[0]))}a.format("%n")}return a.toString()}}Te.CODEWORD_SKEW_SIZE=2,Te.MAX_ERRORS=3,Te.MAX_EC_CODEWORDS=512,Te.errorCorrection=new e1;class Wt{decode(i,a=null){let l=Wt.decode(i,a,!1);if(l==null||l.length===0||l[0]==null)throw $.getNotFoundInstance();return l[0]}decodeMultiple(i,a=null){try{return Wt.decode(i,a,!0)}catch(l){throw l instanceof B||l instanceof E?$.getNotFoundInstance():l}}static decode(i,a,l){const u=new Array,d=Ae.detectMultiple(i,a,l);for(const f of d.getPoints()){const m=Te.decode(d.getBits(),f[4],f[5],f[6],f[7],Wt.getMinCodewordWidth(f),Wt.getMaxCodewordWidth(f)),y=new Ce(m.getText(),m.getRawBytes(),void 0,f,oe.PDF_417);y.putMetadata(St.ERROR_CORRECTION_LEVEL,m.getECLevel());const v=m.getOther();v!=null&&y.putMetadata(St.PDF417_EXTRA_METADATA,v),u.push(y)}return u.map(f=>f)}static getMaxWidth(i,a){return i==null||a==null?0:Math.trunc(Math.abs(i.getX()-a.getX()))}static getMinWidth(i,a){return i==null||a==null?k.MAX_VALUE:Math.trunc(Math.abs(i.getX()-a.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(Wt.getMaxWidth(i[0],i[4]),Wt.getMaxWidth(i[6],i[2])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN),Math.max(Wt.getMaxWidth(i[1],i[5]),Wt.getMaxWidth(i[7],i[3])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(Wt.getMinWidth(i[0],i[4]),Wt.getMinWidth(i[6],i[2])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN),Math.min(Wt.getMinWidth(i[1],i[5]),Wt.getMinWidth(i[7],i[3])*we.MODULES_IN_CODEWORD/we.MODULES_IN_STOP_PATTERN)))}reset(){}}class Al extends p{}Al.kind="ReaderException";class o1{constructor(i,a){this.verbose=i===!0,a&&this.setHints(a)}decode(i,a){return a&&this.setHints(a),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const a=!r(i)&&i.get(H.TRY_HARDER)===!0,l=r(i)?null:i.get(H.POSSIBLE_FORMATS),u=new Array;if(!r(l)){const d=l.some(f=>f===oe.UPC_A||f===oe.UPC_E||f===oe.EAN_13||f===oe.EAN_8||f===oe.CODABAR||f===oe.CODE_39||f===oe.CODE_93||f===oe.CODE_128||f===oe.ITF||f===oe.RSS_14||f===oe.RSS_EXPANDED);d&&!a&&u.push(new Is(i,this.verbose)),l.includes(oe.QR_CODE)&&u.push(new Jr),l.includes(oe.DATA_MATRIX)&&u.push(new Qr),l.includes(oe.AZTEC)&&u.push(new vl),l.includes(oe.PDF_417)&&u.push(new Wt),d&&a&&u.push(new Is(i,this.verbose))}u.length===0&&(a||u.push(new Is(i,this.verbose)),u.push(new Jr),u.push(new Qr),u.push(new vl),u.push(new Wt),a&&u.push(new Is(i,this.verbose))),this.readers=u}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new Al("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(i,this.hints)}catch(l){if(l instanceof Al)continue}throw new $("No MultiFormat Readers were able to detect the code.")}}class Bw extends Ue{constructor(i=null,a=500){const l=new o1;l.setHints(i),super(l,a)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class jw extends Ue{constructor(i=500){super(new Wt,i)}}class Fw extends Ue{constructor(i=500){super(new Jr,i)}}var id;(function(T){T[T.ERROR_CORRECTION=0]="ERROR_CORRECTION",T[T.CHARACTER_SET=1]="CHARACTER_SET",T[T.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",T[T.MIN_SIZE=3]="MIN_SIZE",T[T.MAX_SIZE=4]="MAX_SIZE",T[T.MARGIN=5]="MARGIN",T[T.PDF417_COMPACT=6]="PDF417_COMPACT",T[T.PDF417_COMPACTION=7]="PDF417_COMPACTION",T[T.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",T[T.AZTEC_LAYERS=9]="AZTEC_LAYERS",T[T.QR_VERSION=10]="QR_VERSION"})(id||(id={}));var kt=id;class sd{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new gn(i,Int32Array.from([1])))}buildGenerator(i){const a=this.cachedGenerators;if(i>=a.length){let l=a[a.length-1];const u=this.field;for(let d=a.length;d<=i;d++){const f=l.multiply(new gn(u,Int32Array.from([1,u.exp(d-1+u.getGeneratorBase())])));a.push(f),l=f}}return a[i]}encode(i,a){if(a===0)throw new w("No error correction bytes");const l=i.length-a;if(l<=0)throw new w("No data bytes provided");const u=this.buildGenerator(a),d=new Int32Array(l);S.arraycopy(i,0,d,0,l);let f=new gn(this.field,d);f=f.multiplyByMonomial(a,1);const y=f.divide(u)[1].getCoefficients(),v=a-y.length;for(let C=0;C<v;C++)i[l+C]=0;S.arraycopy(y,0,i,l+v,y.length)}}class yt{constructor(){}static applyMaskPenaltyRule1(i){return yt.applyMaskPenaltyRule1Internal(i,!0)+yt.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let a=0;const l=i.getArray(),u=i.getWidth(),d=i.getHeight();for(let f=0;f<d-1;f++){const m=l[f];for(let y=0;y<u-1;y++){const v=m[y];v===m[y+1]&&v===l[f+1][y]&&v===l[f+1][y+1]&&a++}}return yt.N2*a}static applyMaskPenaltyRule3(i){let a=0;const l=i.getArray(),u=i.getWidth(),d=i.getHeight();for(let f=0;f<d;f++)for(let m=0;m<u;m++){const y=l[f];m+6<u&&y[m]===1&&y[m+1]===0&&y[m+2]===1&&y[m+3]===1&&y[m+4]===1&&y[m+5]===0&&y[m+6]===1&&(yt.isWhiteHorizontal(y,m-4,m)||yt.isWhiteHorizontal(y,m+7,m+11))&&a++,f+6<d&&l[f][m]===1&&l[f+1][m]===0&&l[f+2][m]===1&&l[f+3][m]===1&&l[f+4][m]===1&&l[f+5][m]===0&&l[f+6][m]===1&&(yt.isWhiteVertical(l,m,f-4,f)||yt.isWhiteVertical(l,m,f+7,f+11))&&a++}return a*yt.N3}static isWhiteHorizontal(i,a,l){a=Math.max(a,0),l=Math.min(l,i.length);for(let u=a;u<l;u++)if(i[u]===1)return!1;return!0}static isWhiteVertical(i,a,l,u){l=Math.max(l,0),u=Math.min(u,i.length);for(let d=l;d<u;d++)if(i[d][a]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let a=0;const l=i.getArray(),u=i.getWidth(),d=i.getHeight();for(let y=0;y<d;y++){const v=l[y];for(let C=0;C<u;C++)v[C]===1&&a++}const f=i.getHeight()*i.getWidth();return Math.floor(Math.abs(a*2-f)*10/f)*yt.N4}static getDataMaskBit(i,a,l){let u,d;switch(i){case 0:u=l+a&1;break;case 1:u=l&1;break;case 2:u=a%3;break;case 3:u=(l+a)%3;break;case 4:u=Math.floor(l/2)+Math.floor(a/3)&1;break;case 5:d=l*a,u=(d&1)+d%3;break;case 6:d=l*a,u=(d&1)+d%3&1;break;case 7:d=l*a,u=d%3+(l+a&1)&1;break;default:throw new w("Invalid mask pattern: "+i)}return u===0}static applyMaskPenaltyRule1Internal(i,a){let l=0;const u=a?i.getHeight():i.getWidth(),d=a?i.getWidth():i.getHeight(),f=i.getArray();for(let m=0;m<u;m++){let y=0,v=-1;for(let C=0;C<d;C++){const N=a?f[m][C]:f[C][m];N===v?y++:(y>=5&&(l+=yt.N1+(y-5)),y=1,v=N)}y>=5&&(l+=yt.N1+(y-5))}return l}}yt.N1=3,yt.N2=3,yt.N3=40,yt.N4=10;class Il{constructor(i,a){this.width=i,this.height=a;const l=new Array(a);for(let u=0;u!==a;u++)l[u]=new Uint8Array(i);this.bytes=l}getHeight(){return this.height}getWidth(){return this.width}get(i,a){return this.bytes[a][i]}getArray(){return this.bytes}setNumber(i,a,l){this.bytes[a][i]=l}setBoolean(i,a,l){this.bytes[a][i]=l?1:0}clear(i){for(const a of this.bytes)R.fill(a,i)}equals(i){if(!(i instanceof Il))return!1;const a=i;if(this.width!==a.width||this.height!==a.height)return!1;for(let l=0,u=this.height;l<u;++l){const d=this.bytes[l],f=a.bytes[l];for(let m=0,y=this.width;m<y;++m)if(d[m]!==f[m])return!1}return!0}toString(){const i=new ge;for(let a=0,l=this.height;a<l;++a){const u=this.bytes[a];for(let d=0,f=this.width;d<f;++d)switch(u[d]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class Vi{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new ge;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<Vi.NUM_MASK_PATTERNS}}Vi.NUM_MASK_PATTERNS=8;class Ze extends p{}Ze.kind="WriterException";class ye{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,a,l,u,d){ye.clearMatrix(d),ye.embedBasicPatterns(l,d),ye.embedTypeInfo(a,u,d),ye.maybeEmbedVersionInfo(l,d),ye.embedDataBits(i,u,d)}static embedBasicPatterns(i,a){ye.embedPositionDetectionPatternsAndSeparators(a),ye.embedDarkDotAtLeftBottomCorner(a),ye.maybeEmbedPositionAdjustmentPatterns(i,a),ye.embedTimingPatterns(a)}static embedTypeInfo(i,a,l){const u=new P;ye.makeTypeInfoBits(i,a,u);for(let d=0,f=u.getSize();d<f;++d){const m=u.get(u.getSize()-1-d),y=ye.TYPE_INFO_COORDINATES[d],v=y[0],C=y[1];if(l.setBoolean(v,C,m),d<8){const N=l.getWidth()-d-1;l.setBoolean(N,8,m)}else{const D=l.getHeight()-7+(d-8);l.setBoolean(8,D,m)}}}static maybeEmbedVersionInfo(i,a){if(i.getVersionNumber()<7)return;const l=new P;ye.makeVersionInfoBits(i,l);let u=6*3-1;for(let d=0;d<6;++d)for(let f=0;f<3;++f){const m=l.get(u);u--,a.setBoolean(d,a.getHeight()-11+f,m),a.setBoolean(a.getHeight()-11+f,d,m)}}static embedDataBits(i,a,l){let u=0,d=-1,f=l.getWidth()-1,m=l.getHeight()-1;for(;f>0;){for(f===6&&(f-=1);m>=0&&m<l.getHeight();){for(let y=0;y<2;++y){const v=f-y;if(!ye.isEmpty(l.get(v,m)))continue;let C;u<i.getSize()?(C=i.get(u),++u):C=!1,a!==255&&yt.getDataMaskBit(a,v,m)&&(C=!C),l.setBoolean(v,m,C)}m+=d}d=-d,m+=d,f-=2}if(u!==i.getSize())throw new Ze("Not all bits consumed: "+u+"/"+i.getSize())}static findMSBSet(i){return 32-k.numberOfLeadingZeros(i)}static calculateBCHCode(i,a){if(a===0)throw new w("0 polynomial");const l=ye.findMSBSet(a);for(i<<=l-1;ye.findMSBSet(i)>=l;)i^=a<<ye.findMSBSet(i)-l;return i}static makeTypeInfoBits(i,a,l){if(!Vi.isValidMaskPattern(a))throw new Ze("Invalid mask pattern");const u=i.getBits()<<3|a;l.appendBits(u,5);const d=ye.calculateBCHCode(u,ye.TYPE_INFO_POLY);l.appendBits(d,10);const f=new P;if(f.appendBits(ye.TYPE_INFO_MASK_PATTERN,15),l.xor(f),l.getSize()!==15)throw new Ze("should not happen but we got: "+l.getSize())}static makeVersionInfoBits(i,a){a.appendBits(i.getVersionNumber(),6);const l=ye.calculateBCHCode(i.getVersionNumber(),ye.VERSION_INFO_POLY);if(a.appendBits(l,12),a.getSize()!==18)throw new Ze("should not happen but we got: "+a.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let a=8;a<i.getWidth()-8;++a){const l=(a+1)%2;ye.isEmpty(i.get(a,6))&&i.setNumber(a,6,l),ye.isEmpty(i.get(6,a))&&i.setNumber(6,a,l)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new Ze;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,a,l){for(let u=0;u<8;++u){if(!ye.isEmpty(l.get(i+u,a)))throw new Ze;l.setNumber(i+u,a,0)}}static embedVerticalSeparationPattern(i,a,l){for(let u=0;u<7;++u){if(!ye.isEmpty(l.get(i,a+u)))throw new Ze;l.setNumber(i,a+u,0)}}static embedPositionAdjustmentPattern(i,a,l){for(let u=0;u<5;++u){const d=ye.POSITION_ADJUSTMENT_PATTERN[u];for(let f=0;f<5;++f)l.setNumber(i+f,a+u,d[f])}}static embedPositionDetectionPattern(i,a,l){for(let u=0;u<7;++u){const d=ye.POSITION_DETECTION_PATTERN[u];for(let f=0;f<7;++f)l.setNumber(i+f,a+u,d[f])}}static embedPositionDetectionPatternsAndSeparators(i){const a=ye.POSITION_DETECTION_PATTERN[0].length;ye.embedPositionDetectionPattern(0,0,i),ye.embedPositionDetectionPattern(i.getWidth()-a,0,i),ye.embedPositionDetectionPattern(0,i.getWidth()-a,i);const l=8;ye.embedHorizontalSeparationPattern(0,l-1,i),ye.embedHorizontalSeparationPattern(i.getWidth()-l,l-1,i),ye.embedHorizontalSeparationPattern(0,i.getWidth()-l,i);const u=7;ye.embedVerticalSeparationPattern(u,0,i),ye.embedVerticalSeparationPattern(i.getHeight()-u-1,0,i),ye.embedVerticalSeparationPattern(u,i.getHeight()-u,i)}static maybeEmbedPositionAdjustmentPatterns(i,a){if(i.getVersionNumber()<2)return;const l=i.getVersionNumber()-1,u=ye.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[l];for(let d=0,f=u.length;d!==f;d++){const m=u[d];if(m>=0)for(let y=0;y!==f;y++){const v=u[y];v>=0&&ye.isEmpty(a.get(v,m))&&ye.embedPositionAdjustmentPattern(v-2,m-2,a)}}}}ye.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),ye.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),ye.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),ye.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),ye.VERSION_INFO_POLY=7973,ye.TYPE_INFO_POLY=1335,ye.TYPE_INFO_MASK_PATTERN=21522;class Uw{constructor(i,a){this.dataBytes=i,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class it{constructor(){}static calculateMaskPenalty(i){return yt.applyMaskPenaltyRule1(i)+yt.applyMaskPenaltyRule2(i)+yt.applyMaskPenaltyRule3(i)+yt.applyMaskPenaltyRule4(i)}static encode(i,a,l=null){let u=it.DEFAULT_BYTE_MODE_ENCODING;const d=l!==null&&l.get(kt.CHARACTER_SET)!==void 0;d&&(u=l.get(kt.CHARACTER_SET).toString());const f=this.chooseMode(i,u),m=new P;if(f===me.BYTE&&(d||it.DEFAULT_BYTE_MODE_ENCODING!==u)){const ne=V.getCharacterSetECIByName(u);ne!==void 0&&this.appendECI(ne,m)}this.appendModeInfo(f,m);const y=new P;this.appendBytes(i,f,y,u);let v;if(l!==null&&l.get(kt.QR_VERSION)!==void 0){const ne=Number.parseInt(l.get(kt.QR_VERSION).toString(),10);v=pe.getVersionForNumber(ne);const Z=this.calculateBitsNeeded(f,m,y,v);if(!this.willFit(Z,v,a))throw new Ze("Data too big for requested version")}else v=this.recommendVersion(a,f,m,y);const C=new P;C.appendBitArray(m);const N=f===me.BYTE?y.getSizeInBytes():i.length;this.appendLengthInfo(N,v,f,C),C.appendBitArray(y);const D=v.getECBlocksForLevel(a),L=v.getTotalCodewords()-D.getTotalECCodewords();this.terminateBits(L,C);const j=this.interleaveWithECBytes(C,v.getTotalCodewords(),L,D.getNumBlocks()),U=new Vi;U.setECLevel(a),U.setMode(f),U.setVersion(v);const G=v.getDimensionForVersion(),K=new Il(G,G),te=this.chooseMaskPattern(j,a,v,K);return U.setMaskPattern(te),ye.buildMatrix(j,a,v,te,K),U.setMatrix(K),U}static recommendVersion(i,a,l,u){const d=this.calculateBitsNeeded(a,l,u,pe.getVersionForNumber(1)),f=this.chooseVersion(d,i),m=this.calculateBitsNeeded(a,l,u,f);return this.chooseVersion(m,i)}static calculateBitsNeeded(i,a,l,u){return a.getSize()+i.getCharacterCountBits(u)+l.getSize()}static getAlphanumericCode(i){return i<it.ALPHANUMERIC_TABLE.length?it.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,a=null){if(V.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(i))return me.KANJI;let l=!1,u=!1;for(let d=0,f=i.length;d<f;++d){const m=i.charAt(d);if(it.isDigit(m))l=!0;else if(this.getAlphanumericCode(m.charCodeAt(0))!==-1)u=!0;else return me.BYTE}return u?me.ALPHANUMERIC:l?me.NUMERIC:me.BYTE}static isOnlyDoubleByteKanji(i){let a;try{a=se.encode(i,V.SJIS)}catch{return!1}const l=a.length;if(l%2!==0)return!1;for(let u=0;u<l;u+=2){const d=a[u]&255;if((d<129||d>159)&&(d<224||d>235))return!1}return!0}static chooseMaskPattern(i,a,l,u){let d=Number.MAX_SAFE_INTEGER,f=-1;for(let m=0;m<Vi.NUM_MASK_PATTERNS;m++){ye.buildMatrix(i,a,l,m,u);let y=this.calculateMaskPenalty(u);y<d&&(d=y,f=m)}return f}static chooseVersion(i,a){for(let l=1;l<=40;l++){const u=pe.getVersionForNumber(l);if(it.willFit(i,u,a))return u}throw new Ze("Data too big")}static willFit(i,a,l){const u=a.getTotalCodewords(),f=a.getECBlocksForLevel(l).getTotalECCodewords(),m=u-f,y=(i+7)/8;return m>=y}static terminateBits(i,a){const l=i*8;if(a.getSize()>l)throw new Ze("data bits cannot fit in the QR Code"+a.getSize()+" > "+l);for(let f=0;f<4&&a.getSize()<l;++f)a.appendBit(!1);const u=a.getSize()&7;if(u>0)for(let f=u;f<8;f++)a.appendBit(!1);const d=i-a.getSizeInBytes();for(let f=0;f<d;++f)a.appendBits(f&1?17:236,8);if(a.getSize()!==l)throw new Ze("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,a,l,u,d,f){if(u>=l)throw new Ze("Block ID too large");const m=i%l,y=l-m,v=Math.floor(i/l),C=v+1,N=Math.floor(a/l),D=N+1,L=v-N,j=C-D;if(L!==j)throw new Ze("EC bytes mismatch");if(l!==y+m)throw new Ze("RS blocks mismatch");if(i!==(N+L)*y+(D+j)*m)throw new Ze("Total bytes mismatch");u<y?(d[0]=N,f[0]=L):(d[0]=D,f[0]=j)}static interleaveWithECBytes(i,a,l,u){if(i.getSizeInBytes()!==l)throw new Ze("Number of bits and data bytes does not match");let d=0,f=0,m=0;const y=new Array;for(let C=0;C<u;++C){const N=new Int32Array(1),D=new Int32Array(1);it.getNumDataBytesAndNumECBytesForBlockID(a,l,u,C,N,D);const L=N[0],j=new Uint8Array(L);i.toBytes(8*d,j,0,L);const U=it.generateECBytes(j,D[0]);y.push(new Uw(j,U)),f=Math.max(f,L),m=Math.max(m,U.length),d+=N[0]}if(l!==d)throw new Ze("Data bytes does not match offset");const v=new P;for(let C=0;C<f;++C)for(const N of y){const D=N.getDataBytes();C<D.length&&v.appendBits(D[C],8)}for(let C=0;C<m;++C)for(const N of y){const D=N.getErrorCorrectionBytes();C<D.length&&v.appendBits(D[C],8)}if(a!==v.getSizeInBytes())throw new Ze("Interleaving error: "+a+" and "+v.getSizeInBytes()+" differ.");return v}static generateECBytes(i,a){const l=i.length,u=new Int32Array(l+a);for(let f=0;f<l;f++)u[f]=i[f]&255;new sd(ze.QR_CODE_FIELD_256).encode(u,a);const d=new Uint8Array(a);for(let f=0;f<a;f++)d[f]=u[l+f];return d}static appendModeInfo(i,a){a.appendBits(i.getBits(),4)}static appendLengthInfo(i,a,l,u){const d=l.getCharacterCountBits(a);if(i>=1<<d)throw new Ze(i+" is bigger than "+((1<<d)-1));u.appendBits(i,d)}static appendBytes(i,a,l,u){switch(a){case me.NUMERIC:it.appendNumericBytes(i,l);break;case me.ALPHANUMERIC:it.appendAlphanumericBytes(i,l);break;case me.BYTE:it.append8BitBytes(i,l,u);break;case me.KANJI:it.appendKanjiBytes(i,l);break;default:throw new Ze("Invalid mode: "+a)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const a=it.getDigit(i);return a>=0&&a<=9}static appendNumericBytes(i,a){const l=i.length;let u=0;for(;u<l;){const d=it.getDigit(i.charAt(u));if(u+2<l){const f=it.getDigit(i.charAt(u+1)),m=it.getDigit(i.charAt(u+2));a.appendBits(d*100+f*10+m,10),u+=3}else if(u+1<l){const f=it.getDigit(i.charAt(u+1));a.appendBits(d*10+f,7),u+=2}else a.appendBits(d,4),u++}}static appendAlphanumericBytes(i,a){const l=i.length;let u=0;for(;u<l;){const d=it.getAlphanumericCode(i.charCodeAt(u));if(d===-1)throw new Ze;if(u+1<l){const f=it.getAlphanumericCode(i.charCodeAt(u+1));if(f===-1)throw new Ze;a.appendBits(d*45+f,11),u+=2}else a.appendBits(d,6),u++}}static append8BitBytes(i,a,l){let u;try{u=se.encode(i,l)}catch(d){throw new Ze(d)}for(let d=0,f=u.length;d!==f;d++){const m=u[d];a.appendBits(m,8)}}static appendKanjiBytes(i,a){let l;try{l=se.encode(i,V.SJIS)}catch(d){throw new Ze(d)}const u=l.length;for(let d=0;d<u;d+=2){const f=l[d]&255,m=l[d+1]&255,y=f<<8&4294967295|m;let v=-1;if(y>=33088&&y<=40956?v=y-33088:y>=57408&&y<=60351&&(v=y-49472),v===-1)throw new Ze("Invalid byte sequence");const C=(v>>8)*192+(v&255);a.appendBits(C,13)}}static appendECI(i,a){a.appendBits(me.ECI.getBits(),4),a.appendBits(i.getValue(),8)}}it.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),it.DEFAULT_BYTE_MODE_ENCODING=V.UTF8.getName();class Hi{write(i,a,l,u=null){if(i.length===0)throw new w("Found empty contents");if(a<0||l<0)throw new w("Requested dimensions are too small: "+a+"x"+l);let d=et.L,f=Hi.QUIET_ZONE_SIZE;u!==null&&(u.get(kt.ERROR_CORRECTION)!==void 0&&(d=et.fromString(u.get(kt.ERROR_CORRECTION).toString())),u.get(kt.MARGIN)!==void 0&&(f=Number.parseInt(u.get(kt.MARGIN).toString(),10)));const m=it.encode(i,d,u);return this.renderResult(m,a,l,f)}writeToDom(i,a,l,u,d=null){typeof i=="string"&&(i=document.querySelector(i));const f=this.write(a,l,u,d);i&&i.appendChild(f)}renderResult(i,a,l,u){const d=i.getMatrix();if(d===null)throw new hr;const f=d.getWidth(),m=d.getHeight(),y=f+u*2,v=m+u*2,C=Math.max(a,y),N=Math.max(l,v),D=Math.min(Math.floor(C/y),Math.floor(N/v)),L=Math.floor((C-f*D)/2),j=Math.floor((N-m*D)/2),U=this.createSVGElement(C,N);for(let G=0,K=j;G<m;G++,K+=D)for(let te=0,ne=L;te<f;te++,ne+=D)if(d.get(te,G)===1){const Z=this.createSvgRectElement(ne,K,D,D);U.appendChild(Z)}return U}createSVGElement(i,a){const l=document.createElementNS(Hi.SVG_NS,"svg");return l.setAttributeNS(null,"height",i.toString()),l.setAttributeNS(null,"width",a.toString()),l}createSvgRectElement(i,a,l,u){const d=document.createElementNS(Hi.SVG_NS,"rect");return d.setAttributeNS(null,"x",i.toString()),d.setAttributeNS(null,"y",a.toString()),d.setAttributeNS(null,"height",l.toString()),d.setAttributeNS(null,"width",u.toString()),d.setAttributeNS(null,"fill","#000000"),d}}Hi.QUIET_ZONE_SIZE=4,Hi.SVG_NS="http://www.w3.org/2000/svg";class Ns{encode(i,a,l,u,d){if(i.length===0)throw new w("Found empty contents");if(a!==oe.QR_CODE)throw new w("Can only encode QR_CODE, but got "+a);if(l<0||u<0)throw new w(`Requested dimensions are too small: ${l}x${u}`);let f=et.L,m=Ns.QUIET_ZONE_SIZE;d!==null&&(d.get(kt.ERROR_CORRECTION)!==void 0&&(f=et.fromString(d.get(kt.ERROR_CORRECTION).toString())),d.get(kt.MARGIN)!==void 0&&(m=Number.parseInt(d.get(kt.MARGIN).toString(),10)));const y=it.encode(i,f,d);return Ns.renderResult(y,l,u,m)}static renderResult(i,a,l,u){const d=i.getMatrix();if(d===null)throw new hr;const f=d.getWidth(),m=d.getHeight(),y=f+u*2,v=m+u*2,C=Math.max(a,y),N=Math.max(l,v),D=Math.min(Math.floor(C/y),Math.floor(N/v)),L=Math.floor((C-f*D)/2),j=Math.floor((N-m*D)/2),U=new Se(C,N);for(let G=0,K=j;G<m;G++,K+=D)for(let te=0,ne=L;te<f;te++,ne+=D)d.get(te,G)===1&&U.setRegion(ne,K,D,D);return U}}Ns.QUIET_ZONE_SIZE=4;class zw{encode(i,a,l,u,d){let f;switch(a){case oe.QR_CODE:f=new Ns;break;default:throw new w("No encoder available for format "+a)}return f.encode(i,a,l,u,d)}}class mr extends re{constructor(i,a,l,u,d,f,m,y){if(super(f,m),this.yuvData=i,this.dataWidth=a,this.dataHeight=l,this.left=u,this.top=d,u+f>a||d+m>l)throw new w("Crop rectangle does not fit within image data.");y&&this.reverseHorizontal(f,m)}getRow(i,a){if(i<0||i>=this.getHeight())throw new w("Requested row is outside the image: "+i);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const u=(i+this.top)*this.dataWidth+this.left;return S.arraycopy(this.yuvData,u,a,0,l),a}getMatrix(){const i=this.getWidth(),a=this.getHeight();if(i===this.dataWidth&&a===this.dataHeight)return this.yuvData;const l=i*a,u=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return S.arraycopy(this.yuvData,d,u,0,l),u;for(let f=0;f<a;f++){const m=f*i;S.arraycopy(this.yuvData,d,u,m,i),d+=this.dataWidth}return u}isCropSupported(){return!0}crop(i,a,l,u){return new mr(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+a,l,u,!1)}renderThumbnail(){const i=this.getWidth()/mr.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/mr.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(i*a),u=this.yuvData;let d=this.top*this.dataWidth+this.left;for(let f=0;f<a;f++){const m=f*i;for(let y=0;y<i;y++){const v=u[d+y*mr.THUMBNAIL_SCALE_FACTOR]&255;l[m+y]=4278190080|v*65793}d+=this.dataWidth*mr.THUMBNAIL_SCALE_FACTOR}return l}getThumbnailWidth(){return this.getWidth()/mr.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/mr.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,a){const l=this.yuvData;for(let u=0,d=this.top*this.dataWidth+this.left;u<a;u++,d+=this.dataWidth){const f=d+i/2;for(let m=d,y=d+i-1;m<f;m++,y--){const v=l[m];l[m]=l[y],l[y]=v}}}invert(){return new de(this)}}mr.THUMBNAIL_SCALE_FACTOR=2;class od extends re{constructor(i,a,l,u,d,f,m){if(super(a,l),this.dataWidth=u,this.dataHeight=d,this.left=f,this.top=m,i.BYTES_PER_ELEMENT===4){const y=a*l,v=new Uint8ClampedArray(y);for(let C=0;C<y;C++){const N=i[C],D=N>>16&255,L=N>>7&510,j=N&255;v[C]=(D+L+j)/4&255}this.luminances=v}else this.luminances=i;if(u===void 0&&(this.dataWidth=a),d===void 0&&(this.dataHeight=l),f===void 0&&(this.left=0),m===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+l>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(i,a){if(i<0||i>=this.getHeight())throw new w("Requested row is outside the image: "+i);const l=this.getWidth();(a==null||a.length<l)&&(a=new Uint8ClampedArray(l));const u=(i+this.top)*this.dataWidth+this.left;return S.arraycopy(this.luminances,u,a,0,l),a}getMatrix(){const i=this.getWidth(),a=this.getHeight();if(i===this.dataWidth&&a===this.dataHeight)return this.luminances;const l=i*a,u=new Uint8ClampedArray(l);let d=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return S.arraycopy(this.luminances,d,u,0,l),u;for(let f=0;f<a;f++){const m=f*i;S.arraycopy(this.luminances,d,u,m,i),d+=this.dataWidth}return u}isCropSupported(){return!0}crop(i,a,l,u){return new od(this.luminances,l,u,this.dataWidth,this.dataHeight,this.left+i,this.top+a)}invert(){return new de(this)}}class a1 extends V{static forName(i){return this.getCharacterSetECIByName(i)}}class ad{}ad.ISO_8859_1=V.ISO8859_1;class l1{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class c1{static singletonList(i){return[i]}static min(i,a){return i.sort(a)[0]}}class Vw{constructor(i){this.previous=i}getPrevious(){return this.previous}}class ks extends Vw{constructor(i,a,l){super(i),this.value=a,this.bitCount=l}appendTo(i,a){i.appendBits(this.value,this.bitCount)}add(i,a){return new ks(this,i,a)}addBinaryShift(i,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new ks(this,i,a)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+k.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class ld extends ks{constructor(i,a,l){super(i,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=l}appendTo(i,a){for(let l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):l===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(a[this.binaryShiftStart+l],8)}addBinaryShift(i,a){return new ld(this,i,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function Hw(T,i,a){return new ld(T,i,a)}function Ho(T,i,a){return new ks(T,i,a)}const Ww=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ti=0,Tl=1,Hn=2,u1=3,xr=4,Gw=new ks(null,0,0),cd=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function Xw(T){for(let i of T)R.fill(i,-1);return T[ti][xr]=0,T[Tl][xr]=0,T[Tl][ti]=28,T[u1][xr]=0,T[Hn][xr]=0,T[Hn][ti]=15,T}const d1=Xw(R.createInt32Array(6,6));class yr{constructor(i,a,l,u){this.token=i,this.mode=a,this.binaryShiftByteCount=l,this.bitCount=u}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,a){let l=this.bitCount,u=this.token;if(i!==this.mode){let f=cd[this.mode][i];u=Ho(u,f&65535,f>>16),l+=f>>16}let d=i===Hn?4:5;return u=Ho(u,a,d),new yr(u,i,0,l+d)}shiftAndAppend(i,a){let l=this.token,u=this.mode===Hn?4:5;return l=Ho(l,d1[this.mode][i],u),l=Ho(l,a,5),new yr(l,this.mode,0,this.bitCount+u+5)}addBinaryShiftChar(i){let a=this.token,l=this.mode,u=this.bitCount;if(this.mode===xr||this.mode===Hn){let m=cd[l][ti];a=Ho(a,m&65535,m>>16),u+=m>>16,l=ti}let d=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,f=new yr(a,l,this.binaryShiftByteCount+1,u+d);return f.binaryShiftByteCount===2078&&(f=f.endBinaryShift(i+1)),f}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=Hw(a,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new yr(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let a=this.bitCount+(cd[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?a+=yr.calculateBinaryShiftCost(i)-yr.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(a+=10),a<=i.bitCount}toBitArray(i){let a=[];for(let u=this.endBinaryShift(i.length).token;u!==null;u=u.getPrevious())a.unshift(u);let l=new P;for(const u of a)u.appendTo(l,i);return l}toString(){return Q.format("%s bits=%d bytes=%d",Ww[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}yr.INITIAL_STATE=new yr(Gw,ti,0,0);function $w(T){const i=Q.getCharCode(" "),a=Q.getCharCode("."),l=Q.getCharCode(",");T[ti][i]=1;const u=Q.getCharCode("Z"),d=Q.getCharCode("A");for(let D=d;D<=u;D++)T[ti][D]=D-d+2;T[Tl][i]=1;const f=Q.getCharCode("z"),m=Q.getCharCode("a");for(let D=m;D<=f;D++)T[Tl][D]=D-m+2;T[Hn][i]=1;const y=Q.getCharCode("9"),v=Q.getCharCode("0");for(let D=v;D<=y;D++)T[Hn][D]=D-v+2;T[Hn][l]=12,T[Hn][a]=13;const C=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let D=0;D<C.length;D++)T[u1][Q.getCharCode(C[D])]=D;const N=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let D=0;D<N.length;D++)Q.getCharCode(N[D])>0&&(T[xr][Q.getCharCode(N[D])]=D);return T}const ud=$w(R.createInt32Array(5,256));class Wo{constructor(i){this.text=i}encode(){const i=Q.getCharCode(" "),a=Q.getCharCode(`
`);let l=c1.singletonList(yr.INITIAL_STATE);for(let d=0;d<this.text.length;d++){let f,m=d+1<this.text.length?this.text[d+1]:0;switch(this.text[d]){case Q.getCharCode("\r"):f=m===a?2:0;break;case Q.getCharCode("."):f=m===i?3:0;break;case Q.getCharCode(","):f=m===i?4:0;break;case Q.getCharCode(":"):f=m===i?5:0;break;default:f=0}f>0?(l=Wo.updateStateListForPair(l,d,f),d++):l=this.updateStateListForChar(l,d)}return c1.min(l,(d,f)=>d.getBitCount()-f.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,a){const l=[];for(let u of i)this.updateStateForChar(u,a,l);return Wo.simplifyStates(l)}updateStateForChar(i,a,l){let u=this.text[a]&255,d=ud[i.getMode()][u]>0,f=null;for(let m=0;m<=xr;m++){let y=ud[m][u];if(y>0){if(f==null&&(f=i.endBinaryShift(a)),!d||m===i.getMode()||m===Hn){const v=f.latchAndAppend(m,y);l.push(v)}if(!d&&d1[i.getMode()][m]>=0){const v=f.shiftAndAppend(m,y);l.push(v)}}}if(i.getBinaryShiftByteCount()>0||ud[i.getMode()][u]===0){let m=i.addBinaryShiftChar(a);l.push(m)}}static updateStateListForPair(i,a,l){const u=[];for(let d of i)this.updateStateForPair(d,a,l,u);return this.simplifyStates(u)}static updateStateForPair(i,a,l,u){let d=i.endBinaryShift(a);if(u.push(d.latchAndAppend(xr,l)),i.getMode()!==xr&&u.push(d.shiftAndAppend(xr,l)),l===3||l===4){let f=d.latchAndAppend(Hn,16-l).latchAndAppend(Hn,1);u.push(f)}if(i.getBinaryShiftByteCount()>0){let f=i.addBinaryShiftChar(a).addBinaryShiftChar(a+1);u.push(f)}}static simplifyStates(i){let a=[];for(const l of i){let u=!0;for(const d of a){if(d.isBetterThanOrEqualTo(l)){u=!1;break}l.isBetterThanOrEqualTo(d)&&(a=a.filter(f=>f!==d))}u&&a.push(l)}return a}}class Be{constructor(){}static encodeBytes(i){return Be.encode(i,Be.DEFAULT_EC_PERCENT,Be.DEFAULT_AZTEC_LAYERS)}static encode(i,a,l){let u=new Wo(i).encode(),d=k.truncDivision(u.getSize()*a,100)+11,f=u.getSize()+d,m,y,v,C,N;if(l!==Be.DEFAULT_AZTEC_LAYERS){if(m=l<0,y=Math.abs(l),y>(m?Be.MAX_NB_BITS_COMPACT:Be.MAX_NB_BITS))throw new w(Q.format("Illegal value %s for layers",l));v=Be.totalBitsInLayer(y,m),C=Be.WORD_SIZE[y];let Z=v-v%C;if(N=Be.stuffBits(u,C),N.getSize()+d>Z)throw new w("Data to large for user specified layer");if(m&&N.getSize()>C*64)throw new w("Data to large for user specified layer")}else{C=0,N=null;for(let Z=0;;Z++){if(Z>Be.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(m=Z<=3,y=m?Z+1:Z,v=Be.totalBitsInLayer(y,m),f>v)continue;(N==null||C!==Be.WORD_SIZE[y])&&(C=Be.WORD_SIZE[y],N=Be.stuffBits(u,C));let Re=v-v%C;if(!(m&&N.getSize()>C*64)&&N.getSize()+d<=Re)break}}let D=Be.generateCheckWords(N,v,C),L=N.getSize()/C,j=Be.generateModeMessage(m,y,L),U=(m?11:14)+y*4,G=new Int32Array(U),K;if(m){K=U;for(let Z=0;Z<G.length;Z++)G[Z]=Z}else{K=U+1+2*k.truncDivision(k.truncDivision(U,2)-1,15);let Z=k.truncDivision(U,2),Re=k.truncDivision(K,2);for(let Ee=0;Ee<Z;Ee++){let yn=Ee+k.truncDivision(Ee,15);G[Z-Ee-1]=Re-yn-1,G[Z+Ee]=Re+yn+1}}let te=new Se(K);for(let Z=0,Re=0;Z<y;Z++){let Ee=(y-Z)*4+(m?9:12);for(let yn=0;yn<Ee;yn++){let nr=yn*2;for(let wn=0;wn<2;wn++)D.get(Re+nr+wn)&&te.set(G[Z*2+wn],G[Z*2+yn]),D.get(Re+Ee*2+nr+wn)&&te.set(G[Z*2+yn],G[U-1-Z*2-wn]),D.get(Re+Ee*4+nr+wn)&&te.set(G[U-1-Z*2-wn],G[U-1-Z*2-yn]),D.get(Re+Ee*6+nr+wn)&&te.set(G[U-1-Z*2-yn],G[Z*2+wn])}Re+=Ee*8}if(Be.drawModeMessage(te,m,K,j),m)Be.drawBullsEye(te,k.truncDivision(K,2),5);else{Be.drawBullsEye(te,k.truncDivision(K,2),7);for(let Z=0,Re=0;Z<k.truncDivision(U,2)-1;Z+=15,Re+=16)for(let Ee=k.truncDivision(K,2)&1;Ee<K;Ee+=2)te.set(k.truncDivision(K,2)-Re,Ee),te.set(k.truncDivision(K,2)+Re,Ee),te.set(Ee,k.truncDivision(K,2)-Re),te.set(Ee,k.truncDivision(K,2)+Re)}let ne=new l1;return ne.setCompact(m),ne.setSize(K),ne.setLayers(y),ne.setCodeWords(L),ne.setMatrix(te),ne}static drawBullsEye(i,a,l){for(let u=0;u<l;u+=2)for(let d=a-u;d<=a+u;d++)i.set(d,a-u),i.set(d,a+u),i.set(a-u,d),i.set(a+u,d);i.set(a-l,a-l),i.set(a-l+1,a-l),i.set(a-l,a-l+1),i.set(a+l,a-l),i.set(a+l,a-l+1),i.set(a+l,a+l-1)}static generateModeMessage(i,a,l){let u=new P;return i?(u.appendBits(a-1,2),u.appendBits(l-1,6),u=Be.generateCheckWords(u,28,4)):(u.appendBits(a-1,5),u.appendBits(l-1,11),u=Be.generateCheckWords(u,40,4)),u}static drawModeMessage(i,a,l,u){let d=k.truncDivision(l,2);if(a)for(let f=0;f<7;f++){let m=d-3+f;u.get(f)&&i.set(m,d-5),u.get(f+7)&&i.set(d+5,m),u.get(20-f)&&i.set(m,d+5),u.get(27-f)&&i.set(d-5,m)}else for(let f=0;f<10;f++){let m=d-5+f+k.truncDivision(f,5);u.get(f)&&i.set(m,d-7),u.get(f+10)&&i.set(d+7,m),u.get(29-f)&&i.set(m,d+7),u.get(39-f)&&i.set(d-7,m)}}static generateCheckWords(i,a,l){let u=i.getSize()/l,d=new sd(Be.getGF(l)),f=k.truncDivision(a,l),m=Be.bitsToWords(i,l,f);d.encode(m,f-u);let y=a%l,v=new P;v.appendBits(0,y);for(const C of Array.from(m))v.appendBits(C,l);return v}static bitsToWords(i,a,l){let u=new Int32Array(l),d,f;for(d=0,f=i.getSize()/a;d<f;d++){let m=0;for(let y=0;y<a;y++)m|=i.get(d*a+y)?1<<a-y-1:0;u[d]=m}return u}static getGF(i){switch(i){case 4:return ze.AZTEC_PARAM;case 6:return ze.AZTEC_DATA_6;case 8:return ze.AZTEC_DATA_8;case 10:return ze.AZTEC_DATA_10;case 12:return ze.AZTEC_DATA_12;default:throw new w("Unsupported word size "+i)}}static stuffBits(i,a){let l=new P,u=i.getSize(),d=(1<<a)-2;for(let f=0;f<u;f+=a){let m=0;for(let y=0;y<a;y++)(f+y>=u||i.get(f+y))&&(m|=1<<a-1-y);(m&d)===d?(l.appendBits(m&d,a),f--):m&d?l.appendBits(m,a):(l.appendBits(m|1,a),f--)}return l}static totalBitsInLayer(i,a){return((a?88:112)+16*i)*i}}Be.DEFAULT_EC_PERCENT=33,Be.DEFAULT_AZTEC_LAYERS=0,Be.MAX_NB_BITS=32,Be.MAX_NB_BITS_COMPACT=4,Be.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Nl{encode(i,a,l,u){return this.encodeWithHints(i,a,l,u,null)}encodeWithHints(i,a,l,u,d){let f=ad.ISO_8859_1,m=Be.DEFAULT_EC_PERCENT,y=Be.DEFAULT_AZTEC_LAYERS;return d!=null&&(d.has(kt.CHARACTER_SET)&&(f=a1.forName(d.get(kt.CHARACTER_SET).toString())),d.has(kt.ERROR_CORRECTION)&&(m=k.parseInt(d.get(kt.ERROR_CORRECTION).toString())),d.has(kt.AZTEC_LAYERS)&&(y=k.parseInt(d.get(kt.AZTEC_LAYERS).toString()))),Nl.encodeLayers(i,a,l,u,f,m,y)}static encodeLayers(i,a,l,u,d,f,m){if(a!==oe.AZTEC)throw new w("Can only encode AZTEC, but got "+a);let y=Be.encode(Q.getBytes(i,d),f,m);return Nl.renderResult(y,l,u)}static renderResult(i,a,l){let u=i.getMatrix();if(u==null)throw new hr;let d=u.getWidth(),f=u.getHeight(),m=Math.max(a,d),y=Math.max(l,f),v=Math.min(m/d,y/f),C=(m-d*v)/2,N=(y-f*v)/2,D=new Se(m,y);for(let L=0,j=N;L<f;L++,j+=v)for(let U=0,G=C;U<d;U++,G+=v)u.get(U,L)&&D.setRegion(G,j,v,v);return D}}n.AbstractExpandedDecoder=Ku,n.ArgumentException=x,n.ArithmeticException=xl,n.AztecCode=l1,n.AztecCodeReader=vl,n.AztecCodeWriter=Nl,n.AztecDecoder=Je,n.AztecDetector=Y0,n.AztecDetectorResult=X0,n.AztecEncoder=Be,n.AztecHighLevelEncoder=Wo,n.AztecPoint=on,n.BarcodeFormat=oe,n.Binarizer=A,n.BinaryBitmap=_,n.BitArray=P,n.BitMatrix=Se,n.BitSource=Ju,n.BrowserAztecCodeReader=ww,n.BrowserBarcodeReader=Ew,n.BrowserCodeReader=Ue,n.BrowserDatamatrixCodeReader=Aw,n.BrowserMultiFormatReader=Bw,n.BrowserPDF417Reader=jw,n.BrowserQRCodeReader=Fw,n.BrowserQRCodeSvgWriter=Hi,n.CharacterSetECI=V,n.ChecksumException=E,n.Code128Reader=ie,n.Code39Reader=Tt,n.DataMatrixDecodedBitStreamParser=Zr,n.DataMatrixReader=Qr,n.DecodeHintType=H,n.DecoderResult=Do,n.DefaultGridSampler=$0,n.DetectorResult=wl,n.EAN13Reader=ji,n.EncodeHintType=kt,n.Exception=p,n.FormatException=B,n.GenericGF=ze,n.GenericGFPoly=gn,n.GlobalHistogramBinarizer=be,n.GridSampler=Gu,n.GridSamplerInstance=Kr,n.HTMLCanvasElementLuminanceSource=he,n.HybridBinarizer=ae,n.ITFReader=qe,n.IllegalArgumentException=w,n.IllegalStateException=hr,n.InvertedLuminanceSource=de,n.LuminanceSource=re,n.MathUtils=Le,n.MultiFormatOneDReader=Is,n.MultiFormatReader=o1,n.MultiFormatWriter=zw,n.NotFoundException=$,n.OneDReader=At,n.PDF417DecodedBitStreamParser=Y,n.PDF417DecoderErrorCorrection=e1,n.PDF417Reader=Wt,n.PDF417ResultMetadata=n1,n.PerspectiveTransform=er,n.PlanarYUVLuminanceSource=mr,n.QRCodeByteMatrix=Il,n.QRCodeDataMask=zn,n.QRCodeDecodedBitStreamParser=ht,n.QRCodeDecoderErrorCorrectionLevel=et,n.QRCodeDecoderFormatInformation=Qt,n.QRCodeEncoder=it,n.QRCodeEncoderQRCode=Vi,n.QRCodeMaskUtil=yt,n.QRCodeMatrixUtil=ye,n.QRCodeMode=me,n.QRCodeReader=Jr,n.QRCodeVersion=pe,n.QRCodeWriter=Ns,n.RGBLuminanceSource=od,n.RSS14Reader=xt,n.RSSExpandedReader=q,n.ReaderException=Al,n.ReedSolomonDecoder=Po,n.ReedSolomonEncoder=sd,n.ReedSolomonException=Cs,n.Result=Ce,n.ResultMetadataType=St,n.ResultPoint=fe,n.StringUtils=Q,n.UnsupportedOperationException=J,n.VideoInputDevice=ke,n.WhiteRectangleDetector=Or,n.WriterException=Ze,n.ZXingArrays=R,n.ZXingCharset=a1,n.ZXingInteger=k,n.ZXingStandardCharsets=ad,n.ZXingStringBuilder=ge,n.ZXingStringEncoding=se,n.ZXingSystem=S,n.createAbstractExpandedDecoder=Q0,Object.defineProperty(n,"__esModule",{value:!0})})})(vf,vf.exports);var ot=vf.exports;const A6=bf(ot),I6=wm({__proto__:null,default:A6},[ot]);var dm=function(){function t(e,n,r){if(this.formatMap=new Map([[ce.QR_CODE,ot.BarcodeFormat.QR_CODE],[ce.AZTEC,ot.BarcodeFormat.AZTEC],[ce.CODABAR,ot.BarcodeFormat.CODABAR],[ce.CODE_39,ot.BarcodeFormat.CODE_39],[ce.CODE_93,ot.BarcodeFormat.CODE_93],[ce.CODE_128,ot.BarcodeFormat.CODE_128],[ce.DATA_MATRIX,ot.BarcodeFormat.DATA_MATRIX],[ce.MAXICODE,ot.BarcodeFormat.MAXICODE],[ce.ITF,ot.BarcodeFormat.ITF],[ce.EAN_13,ot.BarcodeFormat.EAN_13],[ce.EAN_8,ot.BarcodeFormat.EAN_8],[ce.PDF_417,ot.BarcodeFormat.PDF_417],[ce.RSS_14,ot.BarcodeFormat.RSS_14],[ce.RSS_EXPANDED,ot.BarcodeFormat.RSS_EXPANDED],[ce.UPC_A,ot.BarcodeFormat.UPC_A],[ce.UPC_E,ot.BarcodeFormat.UPC_E],[ce.UPC_EAN_EXTENSION,ot.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!I6)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var s=this.createZXingFormats(e),o=new Map;o.set(ot.DecodeHintType.POSSIBLE_FORMATS,s),o.set(ot.DecodeHintType.TRY_HARDER,!1),this.hints=o}return t.prototype.decodeAsync=function(e){var n=this;return new Promise(function(r,s){try{r(n.decode(e))}catch(o){s(o)}})},t.prototype.decode=function(e){var n=new ot.MultiFormatReader(this.verbose,this.hints),r=new ot.HTMLCanvasElementLuminanceSource(e),s=new ot.BinaryBitmap(new ot.HybridBinarizer(r)),o=n.decode(s);return{text:o.text,format:gw.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,s){e.set(n,r)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var n=[],r=0,s=e;r<s.length;r++){var o=s[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.logError("".concat(o," is not supported by")+"ZXingHtml5QrcodeShim")}return n},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),T6=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(x){try{p(r.next(x))}catch(w){c(w)}}function g(x){try{p(r.throw(x))}catch(w){c(w)}}function p(x){x.done?o(x.value):s(x.value).then(h,g)}p((r=r.apply(t,e||[])).next())})},N6=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(p){return function(x){return g([p,x])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(o=p[0]&2?s.return:p[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,p[1])).done)return o;switch(s=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(x){p=[6,x],s=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},hm=function(){function t(e,n,r){if(this.formatMap=new Map([[ce.QR_CODE,"qr_code"],[ce.AZTEC,"aztec"],[ce.CODABAR,"codabar"],[ce.CODE_39,"code_39"],[ce.CODE_93,"code_93"],[ce.CODE_128,"code_128"],[ce.DATA_MATRIX,"data_matrix"],[ce.ITF,"itf"],[ce.EAN_13,"ean_13"],[ce.EAN_8,"ean_8"],[ce.PDF_417,"pdf417"],[ce.UPC_A,"upc_a"],[ce.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var s=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return T6(this,void 0,void 0,function(){var n,r;return N6(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(e)];case 1:if(n=s.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:gw.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var n=null,r=0,s=0,o=e;s<o.length;s++){var c=o[s],h=c.boundingBox.width*c.boundingBox.height;h>r&&(r=h,n=c)}if(!n)throw"No largest barcode found";return n},t.prototype.createBarcodeDetectorFormats=function(e){for(var n=[],r=0,s=e;r<s.length;r++){var o=s[r];this.formatMap.has(o)?n.push(this.formatMap.get(o)):this.logger.warn("".concat(o," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(n,r,s){e.set(n,r)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),fm=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(x){try{p(r.next(x))}catch(w){c(w)}}function g(x){try{p(r.throw(x))}catch(w){c(w)}}function p(x){x.done?o(x.value):s(x.value).then(h,g)}p((r=r.apply(t,e||[])).next())})},gm=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(p){return function(x){return g([p,x])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(o=p[0]&2?s.return:p[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,p[1])).done)return o;switch(s=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(x){p=[6,x],s=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},k6=function(){function t(e,n,r,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&hm.isSupported()?(this.primaryDecoder=new hm(e,r,s),this.secondaryDecoder=new dm(e,r,s)):this.primaryDecoder=new dm(e,r,s)}return t.prototype.decodeAsync=function(e){return fm(this,void 0,void 0,function(){var n;return gm(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return fm(this,void 0,void 0,function(){var n,r;return gm(this,function(s){switch(s.label){case 0:n=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,s.sent()];case 3:if(r=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var n=performance.now()-e;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,n=0,r=this.executionResults;n<r.length;n++){var s=r[n];e+=s}var o=e/this.executionResults.length;console.log("".concat(o," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),G0=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),fu=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(x){try{p(r.next(x))}catch(w){c(w)}}function g(x){try{p(r.throw(x))}catch(w){c(w)}}function p(x){x.done?o(x.value):s(x.value).then(h,g)}p((r=r.apply(t,e||[])).next())})},gu=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(p){return function(x){return g([p,x])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(o=p[0]&2?s.return:p[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,p[1])).done)return o;switch(s=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(x){p=[6,x],s=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},mw=function(){function t(e,n){this.name=e,this.track=n}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var n={};n[this.name]=e;var r={advanced:[n]};return this.track.applyConstraints(r)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var n=e[this.name];return n}return null},t}(),O6=function(t){G0(e,t);function e(n,r){return t.call(this,n,r)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(n){var r={};r[this.name]=n;var s={advanced:[r]};return this.track.applyConstraints(s)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(mw),R6=function(t){G0(e,t);function e(n){return t.call(this,"zoom",n)||this}return e}(O6),D6=function(t){G0(e,t);function e(n){return t.call(this,"torch",n)||this}return e}(mw),M6=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new R6(this.track)},t.prototype.torchFeature=function(){return new D6(this.track)},t}(),P6=function(){function t(e,n,r){this.isClosed=!1,this.parentElement=e,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var n=document.createElement("video");return n.style.width="".concat(e,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=e.surface.clientWidth,s=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(r,s),e.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,n,r,s){return fu(this,void 0,void 0,function(){var o,c;return gu(this,function(h){switch(h.label){case 0:return o=new t(e,n,s),r.aspectRatio?(c={aspectRatio:r.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(c)]):[3,2];case 1:h.sent(),h.label=2;case 2:return o.setupSurface(),[2,o]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var n=this,r=function(){setTimeout(e,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return fu(this,void 0,void 0,function(){return gu(this,function(n){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(n,r){var s=e.mediaStream.getVideoTracks(),o=s.length,c=0;e.mediaStream.getVideoTracks().forEach(function(h){e.mediaStream.removeTrack(h),h.stop(),++c,c>=o&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),n())})})},t.prototype.getCapabilities=function(){return new M6(this.getFirstTrackOrFail())},t}(),L6=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,n,r){return fu(this,void 0,void 0,function(){return gu(this,function(s){return[2,P6.create(e,this.mediaStream,n,r)]})})},t.create=function(e){return fu(this,void 0,void 0,function(){var n,r;return gu(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=s.sent(),[2,new t(r)]}})})},t}(),pm=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(x){try{p(r.next(x))}catch(w){c(w)}}function g(x){try{p(r.throw(x))}catch(w){c(w)}}function p(x){x.done?o(x.value):s(x.value).then(h,g)}p((r=r.apply(t,e||[])).next())})},mm=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(p){return function(x){return g([p,x])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(o=p[0]&2?s.return:p[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,p[1])).done)return o;switch(s=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(x){p=[6,x],s=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},B6=function(){function t(){}return t.failIfNotSupported=function(){return pm(this,void 0,void 0,function(){return mm(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return pm(this,void 0,void 0,function(){return mm(this,function(n){return[2,L6.create(e)]})})},t}(),j6=function(t,e,n,r){function s(o){return o instanceof n?o:new n(function(c){c(o)})}return new(n||(n=Promise))(function(o,c){function h(x){try{p(r.next(x))}catch(w){c(w)}}function g(x){try{p(r.throw(x))}catch(w){c(w)}}function p(x){x.done?o(x.value):s(x.value).then(h,g)}p((r=r.apply(t,e||[])).next())})},F6=function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,s,o,c;return c={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function h(p){return function(x){return g([p,x])}}function g(p){if(r)throw new TypeError("Generator is already executing.");for(;c&&(c=0,p[0]&&(n=0)),n;)try{if(r=1,s&&(o=p[0]&2?s.return:p[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,p[1])).done)return o;switch(s=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return n.label++,{value:p[1],done:!1};case 5:n.label++,s=p[1],p=[0];continue;case 7:p=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){n=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){n.label=p[1];break}if(p[0]===6&&n.label<o[1]){n.label=o[1],o=p;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(p);break}o[2]&&n.ops.pop(),n.trys.pop();continue}p=e.call(t,n)}catch(x){p=[6,x],s=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}},U6=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=Qs.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=Qs.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return j6(this,void 0,void 0,function(){var e,n,r,s,o,c,h;return F6(this,function(g){switch(g.label){case 0:return e=function(p){for(var x=p.getVideoTracks(),w=0,_=x;w<_.length;w++){var E=_[w];E.enabled=!1,E.stop(),p.removeTrack(E)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=g.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=g.sent(),s=[],o=0,c=r;o<c.length;o++)h=c[o],h.kind==="videoinput"&&s.push({id:h.deviceId,label:h.label});return e(n),[2,s]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,n){var r=function(o){for(var c=[],h=0,g=o;h<g.length;h++){var p=g[h];p.kind==="video"&&c.push({id:p.id,label:p.label})}e(c)},s=MediaStreamTrack;s.getSources(r)})},t}(),wt;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(wt||(wt={}));var z6=function(){function t(){this.state=wt.NOT_STARTED,this.onGoingTransactionNewState=wt.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===wt.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=wt.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===wt.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=wt.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==wt.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case wt.UNKNOWN:throw"Transition from unknown is not allowed";case wt.NOT_STARTED:this.failIfNewStateIs(e,[wt.PAUSED]);break;case wt.SCANNING:break;case wt.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,n){for(var r=0,s=n;r<s.length;r++){var o=s[r];if(e===o)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),V6=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===wt.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==wt.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===wt.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===wt.PAUSED},t}(),H6=function(){function t(){}return t.create=function(){return new V6(new z6)},t}(),W6=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,s){r.__proto__=s}||function(r,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),On=function(t){W6(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(C6),G6=function(){function t(e,n){this.logger=n,this.fps=On.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=On.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?pw.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Pr(this.qrbox)},t.create=function(e,n){return new t(e,n)},t}(),xm=function(){function t(e,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new S6(this.verbose),this.qrcode=new k6(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=H6.create()}return t.prototype.start=function(e,n,r,s){var o=this;if(!e)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var c;s?c=s:c=this.verbose?this.logger.log:function(){};var h=G6.create(n,this.logger);this.clearElement();var g=!1;h.videoConstraints&&(h.isMediaStreamConstraintsValid()?g=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var p=g,x=document.getElementById(this.elementId);x.clientWidth?x.clientWidth:On.DEFAULT_WIDTH,x.style.position="relative",this.shouldScan=!0,this.element=x;var w=this,_=this.stateManagerProxy.startTransition(wt.SCANNING);return new Promise(function(E,A){var S=p?h.videoConstraints:w.createVideoConstraints(e);if(!S){_.cancel(),A("videoConstraints should be defined");return}var O={};(!p||h.aspectRatio)&&(O.aspectRatio=h.aspectRatio);var I={onRenderSurfaceReady:function(R,k){w.setupUi(R,k,h),w.isScanning=!0,w.foreverScan(h,r,c)}};B6.failIfNotSupported().then(function(R){R.create(S).then(function(k){return k.render(o.element,O,I).then(function(P){w.renderedCamera=P,_.execute(),E(null)}).catch(function(P){_.cancel(),A(P)})}).catch(function(k){_.cancel(),A(Qs.errorGettingUserMedia(k))})}).catch(function(R){_.cancel(),A(Qs.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(wt.PAUSED),this.showPausedState(),(Pr(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,n=function(){e.stateManagerProxy.directTransition(wt.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(wt.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(e.element){var o=document.getElementById(On.SHADED_REGION_ELEMENT_ID);o&&e.element.removeChild(o)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),r(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),n.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,n){return this.scanFileV2(e,n).then(function(r){return r.decodedText})},t.prototype.scanFileV2=function(e,n){var r=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Pr(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,o){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(e);var c=new Image;c.onload=function(){var h=c.width,g=c.height,p=document.getElementById(r.elementId),x=p.clientWidth?p.clientWidth:On.DEFAULT_WIDTH,w=Math.max(p.clientHeight?p.clientHeight:g,On.FILE_SCAN_MIN_HEIGHT),_=r.computeCanvasDrawConfig(h,g,x,w);if(n){var E=r.createCanvasElement(x,w,"qr-canvas-visible");E.style.display="inline-block",p.appendChild(E);var A=E.getContext("2d");if(!A)throw"Unable to get 2d context from canvas";A.canvas.width=x,A.canvas.height=w,A.drawImage(c,0,0,h,g,_.x,_.y,_.width,_.height)}var S=On.FILE_SCAN_HIDDEN_CANVAS_PADDING,O=Math.max(c.width,_.width),I=Math.max(c.height,_.height),R=O+2*S,k=I+2*S,P=r.createCanvasElement(R,k);p.appendChild(P);var F=P.getContext("2d");if(!F)throw"Unable to get 2d context from canvas";F.canvas.width=R,F.canvas.height=k,F.drawImage(c,0,0,h,g,S,S,O,I);try{r.qrcode.decodeRobustlyAsync(P).then(function(H){s(um.createFromQrcodeResult(H))}).catch(o)}catch(H){o("QR code parse error, error = ".concat(H))}},c.onerror=o,c.onabort=o,c.onstalled=o,c.onsuspend=o,c.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return U6.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!pw.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var n=[ce.QR_CODE,ce.AZTEC,ce.CODABAR,ce.CODE_39,ce.CODE_93,ce.CODE_128,ce.DATA_MATRIX,ce.MAXICODE,ce.ITF,ce.EAN_13,ce.EAN_8,ce.PDF_417,ce.RSS_14,ce.RSS_EXPANDED,ce.UPC_A,ce.UPC_E,ce.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return n;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],s=0,o=e.formatsToSupport;s<o.length;s++){var c=o[s];_6(c)?r.push(c):this.logger.warn("Invalid format: ".concat(c," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Pr(e))return!0;if(!Pr(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Pr(e.experimentalFeatures))return!0;var n=e.experimentalFeatures;return Pr(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,n,r){var s=this,o=r.qrbox;this.validateQrboxConfig(o);var c=this.toQrdimensions(e,n,o),h=function(p){if(p<On.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(On.MIN_QR_BOX_SIZE,"px.")},g=function(p){return p>e&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),p=e),p};h(c.width),h(c.height),c.width=g(c.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(e,n)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return r},t.prototype.setupUi=function(e,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(e,n,r);var s=Pr(r.qrbox)?{width:e,height:n}:r.qrbox;this.validateQrboxConfig(s);var o=this.toQrdimensions(e,n,s);o.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var c=r.isShadedBoxEnabled()&&o.height<=n,h={x:0,y:0,width:e,height:n},g=c?this.getShadedRegionBounds(e,n,o):h,p=this.createCanvasElement(g.width,g.height),x={willReadFrequently:!0},w=p.getContext("2d",x);w.canvas.width=g.width,w.canvas.height=g.height,this.element.append(p),c&&this.possiblyInsertShadingElement(this.element,e,n,o),this.createScannerPausedUiElement(this.element),this.qrRegion=g,this.context=w,this.canvasElement=p},t.prototype.createScannerPausedUiElement=function(e){var n=document.createElement("div");n.innerText=Qs.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",e.appendChild(n),this.scannerPausedUiElement=n},t.prototype.scanContext=function(e,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return e(s.text,um.createFromQrcodeResult(s)),r.possiblyUpdateShaders(!0),!0}).catch(function(s){r.possiblyUpdateShaders(!1);var o=Qs.codeParseError(s);return n(o,E6.createFrom(o)),!1})},t.prototype.foreverScan=function(e,n,r){var s=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),c=o.videoWidth/o.clientWidth,h=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var g=this.qrRegion.width*c,p=this.qrRegion.height*h,x=this.qrRegion.x*c,w=this.qrRegion.y*h;this.context.drawImage(o,x,w,g,p,0,0,this.qrRegion.width,this.qrRegion.height);var _=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(e,n,r)},s.getTimeoutFps(e.fps))};this.scanContext(n,r).then(function(E){!E&&e.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(n,r).finally(function(){_()})):_()}).catch(function(E){s.logger.logError("Error happend while scanning context",E),_()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var n="facingMode",r="deviceId",s={user:!0,environment:!0},o="exact",c=function(A){if(A in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(A,"'")},h=Object.keys(e);if(h.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(h.length," keys");var g=Object.keys(e)[0];if(g!==n&&g!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(g===n){var p=e.facingMode;if(typeof p=="string"){if(c(p))return{facingMode:p}}else if(typeof p=="object")if(o in p){if(c(p["".concat(o)]))return{facingMode:{exact:p["".concat(o)]}}}else throw"'facingMode' should be string or object with"+" ".concat(o," as key.");else{var x=typeof p;throw"Invalid type of 'facingMode' = ".concat(x)}}else{var w=e.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(o in w)return{deviceId:{exact:w["".concat(o)]}};throw"'deviceId' should be string or object with"+" ".concat(o," as key.")}else{var _=typeof w;throw"Invalid type of 'deviceId' = ".concat(_)}}}var E=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(E)},t.prototype.computeCanvasDrawConfig=function(e,n,r,s){if(e<=r&&n<=s){var o=(r-e)/2,c=(s-n)/2;return{x:o,y:c,width:e,height:n}}else{var h=e,g=n;return e>r&&(n=r/e*n,e=r),n>s&&(e=s/n*e,n=s),this.logger.log("Image downsampled from "+"".concat(h,"X").concat(g)+" to ".concat(e,"X").concat(n,".")),this.computeCanvasDrawConfig(e,n,r,s)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=e?On.BORDER_SHADER_MATCH_COLOR:On.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,n,r){var s=e,o=n,c=document.createElement("canvas");return c.style.width="".concat(s,"px"),c.style.height="".concat(o,"px"),c.style.display="none",c.id=Pr(r)?"qr-canvas":r,c},t.prototype.getShadedRegionBounds=function(e,n,r){if(r.width>e||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},t.prototype.possiblyInsertShadingElement=function(e,n,r,s){if(!(n-s.width<1||r-s.height<1)){var o=document.createElement("div");o.style.position="absolute";var c=(n-s.width)/2,h=(r-s.height)/2;if(o.style.borderLeft="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderRight="".concat(c,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderTop="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderBottom="".concat(h,"px solid rgba(0, 0, 0, 0.48)"),o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id="".concat(On.SHADED_REGION_ELEMENT_ID),n-s.width<11||r-s.height<11)this.hasBorderShaders=!1;else{var g=5,p=40;this.insertShaderBorders(o,p,g,-g,null,0,!0),this.insertShaderBorders(o,p,g,-g,null,0,!1),this.insertShaderBorders(o,p,g,null,-g,0,!0),this.insertShaderBorders(o,p,g,null,-g,0,!1),this.insertShaderBorders(o,g,p+g,-g,null,-g,!0),this.insertShaderBorders(o,g,p+g,null,-g,-g,!0),this.insertShaderBorders(o,g,p+g,-g,null,-g,!1),this.insertShaderBorders(o,g,p+g,null,-g,-g,!1),this.hasBorderShaders=!0}e.append(o)}},t.prototype.insertShaderBorders=function(e,n,r,s,o,c,h){var g=document.createElement("div");g.style.position="absolute",g.style.backgroundColor=On.BORDER_SHADER_DEFAULT_COLOR,g.style.width="".concat(n,"px"),g.style.height="".concat(r,"px"),s!==null&&(g.style.top="".concat(s,"px")),o!==null&&(g.style.bottom="".concat(o,"px")),h?g.style.left="".concat(c,"px"):g.style.right="".concat(c,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(g),e.appendChild(g)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),ym;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(ym||(ym={}));var xw={exports:{}};(function(t,e){(function(r,s){t.exports=s(W)})(jt,function(n){return function(r){var s={};function o(c){if(s[c])return s[c].exports;var h=s[c]={i:c,l:!1,exports:{}};return r[c].call(h.exports,h,h.exports,o),h.l=!0,h.exports}return o.m=r,o.c=s,o.d=function(c,h,g){o.o(c,h)||Object.defineProperty(c,h,{enumerable:!0,get:g})},o.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},o.t=function(c,h){if(h&1&&(c=o(c)),h&8||h&4&&typeof c=="object"&&c&&c.__esModule)return c;var g=Object.create(null);if(o.r(g),Object.defineProperty(g,"default",{enumerable:!0,value:c}),h&2&&typeof c!="string")for(var p in c)o.d(g,p,(function(x){return c[x]}).bind(null,p));return g},o.n=function(c){var h=c&&c.__esModule?function(){return c.default}:function(){return c};return o.d(h,"a",h),h},o.o=function(c,h){return Object.prototype.hasOwnProperty.call(c,h)},o.p="",o(o.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(r,s,o){o.r(s);var c=o("react"),h=function(){var _=function(E,A){return _=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,O){S.__proto__=O}||function(S,O){for(var I in O)O.hasOwnProperty(I)&&(S[I]=O[I])},_(E,A)};return function(E,A){_(E,A);function S(){this.constructor=E}E.prototype=A===null?Object.create(A):(S.prototype=A.prototype,new S)}}(),g=function(){return g=Object.assign||function(_){for(var E,A=1,S=arguments.length;A<S;A++){E=arguments[A];for(var O in E)Object.prototype.hasOwnProperty.call(E,O)&&(_[O]=E[O])}return _},g.apply(this,arguments)},p=function(_,E){var A={};for(var S in _)Object.prototype.hasOwnProperty.call(_,S)&&E.indexOf(S)<0&&(A[S]=_[S]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function")for(var O=0,S=Object.getOwnPropertySymbols(_);O<S.length;O++)E.indexOf(S[O])<0&&Object.prototype.propertyIsEnumerable.call(_,S[O])&&(A[S[O]]=_[S[O]]);return A};(function(){typeof window>"u"||(navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(E){var A=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return A?new Promise(function(S,O){A.call(navigator,E,S,O)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}))})();function x(){return!!(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)}var w=function(_){h(E,_);function E(A){var S=_.call(this,A)||this;return S.canvas=null,S.ctx=null,S.requestUserMediaId=0,S.unmounted=!1,S.state={hasUserMedia:!1},S}return E.prototype.componentDidMount=function(){var A=this,S=A.state,O=A.props;if(this.unmounted=!1,!x()){O.onUserMediaError("getUserMedia not supported");return}S.hasUserMedia||this.requestUserMedia(),O.children&&typeof O.children!="function"&&console.warn("children must be a function")},E.prototype.componentDidUpdate=function(A){var S=this.props;if(!x()){S.onUserMediaError("getUserMedia not supported");return}var O=JSON.stringify(A.audioConstraints)!==JSON.stringify(S.audioConstraints),I=JSON.stringify(A.videoConstraints)!==JSON.stringify(S.videoConstraints),R=A.minScreenshotWidth!==S.minScreenshotWidth,k=A.minScreenshotHeight!==S.minScreenshotHeight;(I||R||k)&&(this.canvas=null,this.ctx=null),(O||I)&&(this.stopAndCleanup(),this.requestUserMedia())},E.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},E.stopMediaStream=function(A){A&&(A.getVideoTracks&&A.getAudioTracks?(A.getVideoTracks().map(function(S){A.removeTrack(S),S.stop()}),A.getAudioTracks().map(function(S){A.removeTrack(S),S.stop()})):A.stop())},E.prototype.stopAndCleanup=function(){var A=this.state;A.hasUserMedia&&(E.stopMediaStream(this.stream),A.src&&window.URL.revokeObjectURL(A.src))},E.prototype.getScreenshot=function(A){var S=this,O=S.state,I=S.props;if(!O.hasUserMedia)return null;var R=this.getCanvas(A);return R&&R.toDataURL(I.screenshotFormat,I.screenshotQuality)},E.prototype.getCanvas=function(A){var S=this,O=S.state,I=S.props;if(!this.video||!O.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var R=this.video.videoWidth,k=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var P=R/k;R=I.minScreenshotWidth||this.video.clientWidth,k=R/P,I.minScreenshotHeight&&k<I.minScreenshotHeight&&(k=I.minScreenshotHeight,R=k*P)}this.canvas=document.createElement("canvas"),this.canvas.width=(A==null?void 0:A.width)||R,this.canvas.height=(A==null?void 0:A.height)||k,this.ctx=this.canvas.getContext("2d")}var F=this,H=F.ctx,B=F.canvas;return H&&B&&(B.width=(A==null?void 0:A.width)||B.width,B.height=(A==null?void 0:A.height)||B.height,I.mirrored&&(H.translate(B.width,0),H.scale(-1,1)),H.imageSmoothingEnabled=I.imageSmoothing,H.drawImage(this.video,0,0,(A==null?void 0:A.width)||B.width,(A==null?void 0:A.height)||B.height),I.mirrored&&(H.scale(-1,1),H.translate(-B.width,0))),B},E.prototype.requestUserMedia=function(){var A=this,S=this.props,O=function(k,P){var F={video:typeof P<"u"?P:!0};S.audio&&(F.audio=typeof k<"u"?k:!0),A.requestUserMediaId++;var H=A.requestUserMediaId;navigator.mediaDevices.getUserMedia(F).then(function(B){A.unmounted||H!==A.requestUserMediaId?E.stopMediaStream(B):A.handleUserMedia(null,B)}).catch(function(B){A.handleUserMedia(B)})};if("mediaDevices"in navigator)O(S.audioConstraints,S.videoConstraints);else{var I=function(k){return{optional:[{sourceId:k}]}},R=function(k){var P=k.deviceId;return typeof P=="string"?P:Array.isArray(P)&&P.length>0?P[0]:typeof P=="object"&&P.ideal?P.ideal:null};MediaStreamTrack.getSources(function(k){var P=null,F=null;k.forEach(function(z){z.kind==="audio"?P=z.id:z.kind==="video"&&(F=z.id)});var H=R(S.audioConstraints);H&&(P=H);var B=R(S.videoConstraints);B&&(F=B),O(I(P),I(F))})}},E.prototype.handleUserMedia=function(A,S){var O=this.props;if(A||!S){this.setState({hasUserMedia:!1}),O.onUserMediaError(A);return}this.stream=S;try{this.video&&(this.video.srcObject=S),this.setState({hasUserMedia:!0})}catch{this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(S)})}O.onUserMedia(S)},E.prototype.render=function(){var A=this,S=this,O=S.state,I=S.props,R=I.audio;I.forceScreenshotSourceSize;var k=I.disablePictureInPicture;I.onUserMedia,I.onUserMediaError,I.screenshotFormat,I.screenshotQuality,I.minScreenshotWidth,I.minScreenshotHeight,I.audioConstraints,I.videoConstraints,I.imageSmoothing;var P=I.mirrored,F=I.style,H=F===void 0?{}:F,B=I.children,z=p(I,["audio","forceScreenshotSourceSize","disablePictureInPicture","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),V=P?g(g({},H),{transform:(H.transform||"")+" scaleX(-1)"}):H,J={getScreenshot:this.getScreenshot.bind(this)};return c.createElement(c.Fragment,null,c.createElement("video",g({autoPlay:!0,disablePictureInPicture:k,src:O.src,muted:!R,playsInline:!0,ref:function(se){A.video=se},style:V},z)),B&&B(J))},E.defaultProps={audio:!1,disablePictureInPicture:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},E}(c.Component);s.default=w},react:function(r,s){r.exports=n}}).default})})(xw);var X6=xw.exports;const $6=bf(X6),yw=({onScan:t,onClose:e})=>{const[n,r]=W.useState(!1),[s,o]=W.useState("qr"),[c,h]=W.useState("environment"),[g,p]=W.useState([]),[x,w]=W.useState(""),_=W.useRef(null),E=W.useRef(null),A=W.useRef(null);W.useEffect(()=>(E.current&&s==="qr"&&(_.current=new xm("qr-reader"),xm.getCameras().then(k=>{k&&k.length&&(p(k),w(k[0].id))}).catch(k=>{console.error("Error getting cameras",k)})),()=>{_.current&&_.current.isScanning&&_.current.stop().catch(k=>console.error("Error stopping scanner",k))}),[s]),W.useEffect(()=>{if(!(!_.current||s!=="qr"))if(n&&x){const k={fps:10,qrbox:{width:250,height:250},aspectRatio:1};_.current.start(x,k,P=>{t(P),r(!1)},P=>{console.log(P)}).catch(P=>{console.error("Error starting scanner",P),r(!1)})}else!n&&_.current.isScanning&&_.current.stop().catch(k=>console.error("Error stopping scanner",k))},[n,x,s,t]);const S=()=>{r(!n)},O=()=>{h(c==="user"?"environment":"user")},I=()=>{if(A.current){const k=A.current.getScreenshot();k&&t("photo_verification",k)}},R={facingMode:c,width:{ideal:1280},height:{ideal:720}};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",children:b.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full overflow-hidden",children:[b.jsxs("div",{className:"p-4 bg-indigo-600 text-white flex justify-between items-center",children:[b.jsx("h3",{className:"text-lg font-medium",children:s==="qr"?"Scan QR Code":"Take Verification Photo"}),b.jsx("button",{onClick:e,className:"text-white hover:text-gray-200",children:b.jsx(W2,{size:24})})]}),b.jsxs("div",{className:"p-4",children:[b.jsx("div",{className:"flex justify-center mb-4",children:b.jsxs("div",{className:"inline-flex rounded-md shadow-sm",role:"group",children:[b.jsx("button",{type:"button",className:`px-4 py-2 text-sm font-medium rounded-l-lg ${s==="qr"?"bg-indigo-600 text-white":"bg-white text-gray-700 border border-gray-200 hover:bg-gray-100"}`,onClick:()=>o("qr"),children:"QR Scanner"}),b.jsx("button",{type:"button",className:`px-4 py-2 text-sm font-medium rounded-r-lg ${s==="photo"?"bg-indigo-600 text-white":"bg-white text-gray-700 border border-gray-200 hover:bg-gray-100"}`,onClick:()=>o("photo"),children:"Take Photo"})]})}),s==="qr"?b.jsxs(b.Fragment,{children:[b.jsx("div",{id:"qr-reader",ref:E,className:"w-full aspect-square max-w-sm mx-auto overflow-hidden rounded-lg"}),g.length>1&&b.jsxs("div",{className:"mt-4",children:[b.jsx("label",{htmlFor:"camera-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Camera"}),b.jsx("select",{id:"camera-select",value:x,onChange:k=>w(k.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",disabled:n,children:g.map(k=>b.jsx("option",{value:k.id,children:k.label||`Camera ${k.id}`},k.id))})]}),b.jsx("div",{className:"mt-4 flex justify-center",children:b.jsx("button",{onClick:S,className:`px-4 py-2 rounded-md text-white font-medium ${n?"bg-red-600 hover:bg-red-700":"bg-indigo-600 hover:bg-indigo-700"}`,children:n?"Stop Scanning":"Start Scanning"})})]}):b.jsxs("div",{className:"flex flex-col items-center",children:[b.jsx("div",{className:"w-full aspect-square max-w-sm mx-auto overflow-hidden rounded-lg bg-gray-100 relative",children:b.jsx($6,{audio:!1,ref:A,screenshotFormat:"image/jpeg",videoConstraints:R,className:"w-full h-full object-cover"})}),b.jsxs("div",{className:"mt-4 flex space-x-4",children:[b.jsx("button",{onClick:O,className:"px-4 py-2 bg-gray-200 rounded-md hover:bg-gray-300",children:"Flip Camera"}),b.jsxs("button",{onClick:I,className:"px-4 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 flex items-center",children:[b.jsx(k3,{size:18,className:"mr-2"}),"Capture Photo"]})]}),b.jsx("p",{className:"mt-4 text-sm text-gray-600 text-center",children:"Take a clear photo of the banner placed on your vehicle for verification."})]})]})]})})};Ro.register(al,ll,Na,Zs,V0,H0,z0);const Y6=()=>{const[t,e]=W.useState(!0),[n,r]=W.useState({activeBanners:0,totalEarnings:0,pendingPayment:0,completedCampaigns:0}),[s,o]=W.useState([]),[c,h]=W.useState(!1),[g,p]=W.useState(null);W.useEffect(()=>{(async()=>{try{e(!0);const{data:{user:A}}=await nt.auth.getUser();if(!A)throw new Error("User not found");const{data:S,error:O}=await nt.from("drivers").select("id").eq("user_id",A.id).single();if(O)throw O;if(!S)throw new Error("Driver profile not found");r({activeBanners:2,totalEarnings:4200,pendingPayment:1400,completedCampaigns:3}),o([{id:"1",campaignName:"Summer Sale Promotion",status:"verified",startDate:"2025-06-01",endDate:"2025-06-30",vehicleType:"auto",bannerImage:"https://images.unsplash.com/photo-1563013544-824ae1b704d3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"},{id:"2",campaignName:"New Store Launch",status:"assigned",startDate:"2025-05-15",endDate:"2025-07-15",vehicleType:"auto",bannerImage:"https://images.unsplash.com/photo-1581077968324-c1c7e64bfa2b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"}])}catch(A){console.error("Error fetching dashboard data:",A)}finally{e(!1)}})()},[]);const x={labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{label:"Monthly Earnings (₹)",data:[500,700,600,900,1200,1300],borderColor:"rgb(79, 70, 229)",tension:.4}]},w=E=>{p(E),h(!0)},_=(E,A)=>{console.log("Scanned data:",E),E==="photo_verification"&&A?(toast.success("Verification photo captured successfully!"),g&&o(S=>S.map(O=>O.id===g?{...O,status:"verified"}:O))):toast.success("QR code scanned successfully: "+E),h(!1),p(null)};return b.jsx(Yt,{children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[b.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-8",children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),b.jsxs(Ne,{to:"/driver/available-banners",className:"mt-4 md:mt-0 inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[b.jsx(tu,{size:16,className:"mr-2"}),"Browse Available Banners"]})]}),t?b.jsx("div",{className:"flex justify-center items-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[b.jsx(wi,{title:"Active Banners",value:n.activeBanners.toString(),icon:b.jsx($r,{size:24,className:"text-white"}),color:"bg-indigo-600"}),b.jsx(wi,{title:"Total Earnings",value:`₹${n.totalEarnings.toLocaleString()}`,icon:b.jsx(qa,{size:24,className:"text-white"}),color:"bg-green-600",change:{value:25,isPositive:!0}}),b.jsx(wi,{title:"Pending Payment",value:`₹${n.pendingPayment.toLocaleString()}`,icon:b.jsx(qa,{size:24,className:"text-white"}),color:"bg-amber-600"}),b.jsx(wi,{title:"Completed Campaigns",value:n.completedCampaigns.toString(),icon:b.jsx(es,{size:24,className:"text-white"}),color:"bg-purple-600"})]}),b.jsx("div",{className:"mb-8",children:b.jsx(du,{title:"Earnings History",children:b.jsx(dw,{data:x,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}}},height:300})})}),b.jsxs("div",{children:[b.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Active Banners"}),s.length===0?b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[b.jsx($r,{size:48,className:"mx-auto text-gray-400 mb-4"}),b.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No active banners"}),b.jsx("p",{className:"text-gray-500 mb-4",children:"You don't have any active banners at the moment."}),b.jsx(Ne,{to:"/driver/available-banners",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Browse Available Banners"})]}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(E=>b.jsx(W0,{id:E.id,campaignName:E.campaignName,status:E.status,startDate:E.startDate,endDate:E.endDate,vehicleType:E.vehicleType,bannerImage:E.bannerImage,onVerify:()=>w(E.id)},E.id))})]}),c&&b.jsx(yw,{onScan:_,onClose:()=>{h(!1),p(null)}})]})]})})},K6=()=>{const[t,e]=W.useState(!0),[n,r]=W.useState([]),[s,o]=W.useState([]),[c,h]=W.useState(""),[g,p]=W.useState("all");W.useEffect(()=>{(async()=>{try{e(!0);const{data:{user:_}}=await nt.auth.getUser();if(!_)throw new Error("User not found");const{data:E,error:A}=await nt.from("drivers").select("id, vehicle_type").eq("user_id",_.id).single();if(A)throw A;if(!E)throw new Error("Driver profile not found");const O=[{id:"1",campaignName:"Summer Sale Promotion",status:"available",startDate:"2025-06-01",endDate:"2025-06-30",vehicleType:"auto",bannerImage:"https://images.unsplash.com/photo-1563013544-824ae1b704d3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"},{id:"2",campaignName:"New Store Launch",status:"available",startDate:"2025-05-15",endDate:"2025-07-15",vehicleType:"car",bannerImage:"https://images.unsplash.com/photo-1581077968324-c1c7e64bfa2b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"},{id:"3",campaignName:"Festival Discount",status:"available",startDate:"2025-08-01",endDate:"2025-08-15",vehicleType:"auto"},{id:"4",campaignName:"Holiday Special",status:"available",startDate:"2025-07-01",endDate:"2025-07-15",vehicleType:"auto",bannerImage:"https://images.unsplash.com/photo-1607083206968-13611e3d76db?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"},{id:"5",campaignName:"Weekend Flash Sale",status:"available",startDate:"2025-06-15",endDate:"2025-06-17",vehicleType:"car"}].filter(I=>I.vehicleType===E.vehicle_type);r(O),o(O)}catch(_){console.error("Error fetching available banners:",_)}finally{e(!1)}})()},[]),W.useEffect(()=>{let w=[...n];c&&(w=w.filter(_=>_.campaignName.toLowerCase().includes(c.toLowerCase()))),g!=="all"&&(w=w.filter(_=>_.vehicleType===g)),o(w)},[c,g,n]);const x=async w=>{try{_e.success("Banner claimed successfully!"),r(_=>_.filter(E=>E.id!==w)),o(_=>_.filter(E=>E.id!==w))}catch(_){console.error("Error claiming banner:",_),_e.error(_.message||"Failed to claim banner")}};return b.jsx(Yt,{children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Available Banners"}),b.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:b.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4",children:[b.jsx("div",{className:"flex-1 mb-4 md:mb-0",children:b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:b.jsx(v0,{size:18,className:"text-gray-400"})}),b.jsx("input",{type:"text",placeholder:"Search campaigns...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:c,onChange:w=>h(w.target.value)})]})}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"vehicle-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Vehicle Type"}),b.jsxs("select",{id:"vehicle-filter",className:"block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:g,onChange:w=>p(w.target.value),children:[b.jsx("option",{value:"all",children:"All Vehicles"}),b.jsx("option",{value:"auto",children:"Auto"}),b.jsx("option",{value:"car",children:"Car"})]})]})]})}),t?b.jsx("div",{className:"flex justify-center items-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):b.jsx(b.Fragment,{children:s.length===0?b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[b.jsx(H2,{size:48,className:"mx-auto text-gray-400 mb-4"}),b.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No banners available"}),b.jsx("p",{className:"text-gray-500",children:n.length===0?"There are no banners available for your vehicle type at the moment.":"No banners match your current filters."})]}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(w=>b.jsx(W0,{id:w.id,campaignName:w.campaignName,status:w.status,startDate:w.startDate,endDate:w.endDate,vehicleType:w.vehicleType,bannerImage:w.bannerImage,onClaim:()=>x(w.id)},w.id))})})]})})},q6=()=>{const[t,e]=W.useState(!0),[n,r]=W.useState([]),[s,o]=W.useState([]),[c,h]=W.useState(""),[g,p]=W.useState("all"),[x,w]=W.useState(!1),[_,E]=W.useState(null);W.useEffect(()=>{(async()=>{try{e(!0);const{data:{user:I}}=await nt.auth.getUser();if(!I)throw new Error("User not found");const{data:R,error:k}=await nt.from("drivers").select("id").eq("user_id",I.id).single();if(k)throw k;if(!R)throw new Error("Driver profile not found");const P=[{id:"1",campaignName:"Summer Sale Promotion",status:"verified",startDate:"2025-06-01",endDate:"2025-06-30",vehicleType:"auto",bannerImage:"https://images.unsplash.com/photo-1563013544-824ae1b704d3?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"},{id:"2",campaignName:"New Store Launch",status:"assigned",startDate:"2025-05-15",endDate:"2025-07-15",vehicleType:"auto",bannerImage:"https://images.unsplash.com/photo-1581077968324-c1c7e64bfa2b?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"},{id:"3",campaignName:"Holiday Special",status:"completed",startDate:"2025-01-01",endDate:"2025-01-15",vehicleType:"auto",bannerImage:"https://images.unsplash.com/photo-1607083206968-13611e3d76db?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80"}];r(P),o(P)}catch(I){console.error("Error fetching my banners:",I)}finally{e(!1)}})()},[]),W.useEffect(()=>{let O=[...n];c&&(O=O.filter(I=>I.campaignName.toLowerCase().includes(c.toLowerCase()))),g!=="all"&&(O=O.filter(I=>I.status===g)),o(O)},[c,g,n]);const A=O=>{E(O),w(!0)},S=(O,I)=>{console.log("Scanned data:",O),O==="photo_verification"&&I?(_e.success("Verification photo captured successfully!"),_&&r(R=>R.map(k=>k.id===_?{...k,status:"verified"}:k))):_e.success("QR code scanned successfully: "+O),w(!1),E(null)};return b.jsx(Yt,{children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"My Banners"}),b.jsx("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:b.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4",children:[b.jsx("div",{className:"flex-1 mb-4 md:mb-0",children:b.jsxs("div",{className:"relative",children:[b.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:b.jsx(v0,{size:18,className:"text-gray-400"})}),b.jsx("input",{type:"text",placeholder:"Search campaigns...",className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",value:c,onChange:O=>h(O.target.value)})]})}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"status-filter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),b.jsxs("select",{id:"status-filter",className:"block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:g,onChange:O=>p(O.target.value),children:[b.jsx("option",{value:"all",children:"All Statuses"}),b.jsx("option",{value:"assigned",children:"Assigned"}),b.jsx("option",{value:"verified",children:"Verified"}),b.jsx("option",{value:"completed",children:"Completed"})]})]})]})}),t?b.jsx("div",{className:"flex justify-center items-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):b.jsx(b.Fragment,{children:s.length===0?b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[b.jsx($r,{size:48,className:"mx-auto text-gray-400 mb-4"}),b.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No banners found"}),b.jsx("p",{className:"text-gray-500 mb-4",children:n.length===0?"You haven't claimed any banners yet.":"No banners match your current filters."}),n.length===0&&b.jsx(Link,{to:"/driver/available-banners",className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Browse Available Banners"})]}):b.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(O=>b.jsx(W0,{id:O.id,campaignName:O.campaignName,status:O.status,startDate:O.startDate,endDate:O.endDate,vehicleType:O.vehicleType,bannerImage:O.bannerImage,onVerify:O.status!=="completed"?()=>A(O.id):void 0},O.id))})}),x&&b.jsx(yw,{onScan:S,onClose:()=>{w(!1),E(null)}})]})})};Ro.register(al,ll,ka,V0,H0,z0);const Z6=()=>{const[t,e]=W.useState(!0),[n,r]=W.useState({totalEarnings:0,pendingPayment:0,totalPaid:0,monthlyEarnings:[]}),[s,o]=W.useState([]);W.useEffect(()=>{(async()=>{try{e(!0);const{data:{user:p}}=await nt.auth.getUser();if(!p)throw new Error("User not found");const{data:x,error:w}=await nt.from("drivers").select("id").eq("user_id",p.id).single();if(w)throw w;if(!x)throw new Error("Driver profile not found");r({totalEarnings:4200,pendingPayment:1400,totalPaid:2800,monthlyEarnings:[{month:"Jan",amount:500},{month:"Feb",amount:700},{month:"Mar",amount:600},{month:"Apr",amount:900},{month:"May",amount:1200},{month:"Jun",amount:300}]}),o([{id:"1",campaignName:"Summer Sale Promotion",startDate:"2025-06-01",endDate:"2025-06-15",daysActive:15,vehicleType:"auto",ratePerDay:70,totalEarning:1050,status:"paid",paidOn:"2025-06-20"},{id:"2",campaignName:"New Store Launch",startDate:"2025-05-15",endDate:"2025-05-30",daysActive:16,vehicleType:"auto",ratePerDay:70,totalEarning:1120,status:"paid",paidOn:"2025-06-05"},{id:"3",campaignName:"Holiday Special",startDate:"2025-04-01",endDate:"2025-04-15",daysActive:15,vehicleType:"auto",ratePerDay:70,totalEarning:1050,status:"paid",paidOn:"2025-04-20"},{id:"4",campaignName:"Festival Discount",startDate:"2025-06-15",endDate:"2025-06-30",daysActive:16,vehicleType:"auto",ratePerDay:70,totalEarning:1120,status:"pending",paidOn:null}])}catch(p){console.error("Error fetching earnings data:",p)}finally{e(!1)}})()},[]);const c={labels:n.monthlyEarnings.map(g=>g.month),datasets:[{label:"Monthly Earnings (₹)",data:n.monthlyEarnings.map(g=>g.amount),backgroundColor:"rgba(79, 70, 229, 0.8)"}]},h=g=>new Date(g).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"});return b.jsx(Yt,{children:b.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[b.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Earnings"}),t?b.jsx("div",{className:"flex justify-center items-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[b.jsxs("div",{className:"flex items-center mb-2",children:[b.jsx(qa,{size:20,className:"text-indigo-600 mr-2"}),b.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Total Earnings"})]}),b.jsxs("p",{className:"text-3xl font-bold text-indigo-600",children:["₹",n.totalEarnings.toLocaleString()]})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[b.jsxs("div",{className:"flex items-center mb-2",children:[b.jsx(Qh,{size:20,className:"text-green-600 mr-2"}),b.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Total Paid"})]}),b.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["₹",n.totalPaid.toLocaleString()]})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[b.jsxs("div",{className:"flex items-center mb-2",children:[b.jsx(Qh,{size:20,className:"text-amber-600 mr-2"}),b.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Pending Payment"})]}),b.jsxs("p",{className:"text-3xl font-bold text-amber-600",children:["₹",n.pendingPayment.toLocaleString()]})]})]}),b.jsx("div",{className:"mb-8",children:b.jsx(du,{title:"Monthly Earnings",children:b.jsx(hw,{data:c,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"}}},height:300})})}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden mb-8",children:[b.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:b.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Earnings History"})}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[b.jsx("thead",{className:"bg-gray-50",children:b.jsxs("tr",{children:[b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Campaign"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Period"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Days Active"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rate"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),b.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),b.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(g=>b.jsxs("tr",{children:[b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.campaignName})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs("div",{className:"text-sm text-gray-500",children:[h(g.startDate)," - ",h(g.endDate)]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs("div",{className:"text-sm text-gray-900",children:[g.daysActive," days"]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs("div",{className:"text-sm text-gray-900",children:["₹",g.ratePerDay,"/day"]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsxs("div",{className:"text-sm font-medium text-gray-900",children:["₹",g.totalEarning]})}),b.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:b.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${g.status==="paid"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:g.status==="paid"?`Paid on ${h(g.paidOn)}`:"Pending"})})]},g.id))})]})})]}),b.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[b.jsxs("div",{className:"flex items-center justify-between mb-4",children:[b.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Payment Information"}),b.jsxs("button",{className:"inline-flex items-center text-sm text-indigo-600 hover:text-indigo-800",children:[b.jsx(O3,{size:16,className:"mr-1"}),"Download Statement"]})]}),b.jsxs("div",{className:"bg-gray-50 p-4 rounded-md mb-4",children:[b.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Payment Schedule"}),b.jsx("p",{className:"text-sm text-gray-600",children:"Payments are processed on the 5th and 20th of each month for all completed campaigns."})]}),b.jsxs("div",{className:"bg-gray-50 p-4 rounded-md",children:[b.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-2",children:"Bank Account Details"}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-gray-500",children:"Account Holder"}),b.jsx("p",{className:"text-sm font-medium",children:"John Doe"})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-gray-500",children:"Bank Name"}),b.jsx("p",{className:"text-sm font-medium",children:"HDFC Bank"})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-gray-500",children:"Account Number"}),b.jsx("p",{className:"text-sm font-medium",children:"XXXX XXXX XXXX 1234"})]}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-gray-500",children:"IFSC Code"}),b.jsx("p",{className:"text-sm font-medium",children:"HDFC0001234"})]})]}),b.jsx("button",{className:"mt-4 text-sm text-indigo-600 hover:text-indigo-800",children:"Update Bank Details"})]})]})]})]})})},Yi=({children:t,role:e})=>{const{isAuthenticated:n,profile:r,loading:s}=zu();return s?b.jsx(Yt,{children:b.jsx("div",{className:"min-h-[calc(100vh-64px-200px)] flex items-center justify-center",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})})}):n?e&&(r==null?void 0:r.role)!==e?b.jsx(Ag,{to:"/",replace:!0}):t:b.jsx(Ag,{to:"/login",replace:!0})},Q6=()=>b.jsx("div",{className:"app",children:b.jsxs(m3,{children:[b.jsx(Xt,{path:"/",element:b.jsx(iS,{})}),b.jsx(Xt,{path:"/login",element:b.jsx(sS,{})}),b.jsx(Xt,{path:"/register",element:b.jsx(oS,{})}),b.jsx(Xt,{path:"/about",element:b.jsx(Yt,{children:b.jsx("div",{className:"min-h-[calc(100vh-64px-200px)] flex items-center justify-center",children:b.jsx("h1",{className:"text-3xl font-bold",children:"About Us (Coming Soon)"})})})}),b.jsx(Xt,{path:"/contact",element:b.jsx(Yt,{children:b.jsx("div",{className:"min-h-[calc(100vh-64px-200px)] flex items-center justify-center",children:b.jsx("h1",{className:"text-3xl font-bold",children:"Contact Us (Coming Soon)"})})})}),b.jsx(Xt,{path:"/faq",element:b.jsx(Yt,{children:b.jsx("div",{className:"min-h-[calc(100vh-64px-200px)] flex items-center justify-center",children:b.jsx("h1",{className:"text-3xl font-bold",children:"FAQ (Coming Soon)"})})})}),b.jsx(Xt,{path:"/terms",element:b.jsx(Yt,{children:b.jsx("div",{className:"min-h-[calc(100vh-64px-200px)] flex items-center justify-center",children:b.jsx("h1",{className:"text-3xl font-bold",children:"Terms of Service (Coming Soon)"})})})}),b.jsx(Xt,{path:"/privacy",element:b.jsx(Yt,{children:b.jsx("div",{className:"min-h-[calc(100vh-64px-200px)] flex items-center justify-center",children:b.jsx("h1",{className:"text-3xl font-bold",children:"Privacy Policy (Coming Soon)"})})})}),b.jsx(Xt,{path:"/advertiser/dashboard",element:b.jsx(Yi,{role:"advertiser",children:b.jsx(w6,{})})}),b.jsx(Xt,{path:"/advertiser/campaigns",element:b.jsx(Yi,{role:"advertiser",children:b.jsx(v6,{})})}),b.jsx(Xt,{path:"/advertiser/create-campaign",element:b.jsx(Yi,{role:"advertiser",children:b.jsx(b6,{})})}),b.jsx(Xt,{path:"/driver/dashboard",element:b.jsx(Yi,{role:"driver",children:b.jsx(Y6,{})})}),b.jsx(Xt,{path:"/driver/available-banners",element:b.jsx(Yi,{role:"driver",children:b.jsx(K6,{})})}),b.jsx(Xt,{path:"/driver/my-banners",element:b.jsx(Yi,{role:"driver",children:b.jsx(q6,{})})}),b.jsx(Xt,{path:"/driver/earnings",element:b.jsx(Yi,{role:"driver",children:b.jsx(Z6,{})})}),b.jsx(Xt,{path:"*",element:b.jsx(Yt,{children:b.jsx("div",{className:"min-h-[calc(100vh-64px-200px)] flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx("h1",{className:"text-4xl font-bold text-indigo-600 mb-4",children:"404"}),b.jsx("p",{className:"text-xl mb-6",children:"Page not found"}),b.jsx(Ne,{to:"/",className:"btn-primary",children:"Go back home"})]})})})})]})});R2(document.getElementById("root")).render(b.jsx(W.StrictMode,{children:b.jsx(C3,{children:b.jsxs(tS,{children:[b.jsx(Q6,{}),b.jsx(eS,{position:"top-right",autoClose:3e3})]})})}));export{bf as g};
